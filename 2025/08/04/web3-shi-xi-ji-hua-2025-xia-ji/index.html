
  <!DOCTYPE html>
  <html lang="en"  
    
      data-theme-mode="auto"
    
  >
  <head>
  
  <meta charset="utf-8">
  

  

  

  <script>window.REIMU_CONFIG = {};window.REIMU_CONFIG.icon_font = '4552607_0khxww3tj3q9';window.REIMU_CONFIG.clipboard_tips = {"success":{"en":"å¤åˆ¶æˆåŠŸ","zh-CN":"å¤åˆ¶æˆåŠŸ","zh-TW":"è¤‡è£½æˆåŠŸ (*^â–½^*)","ja":"ã‚³ãƒ”ãƒ¼æˆåŠŸ (*^â–½^*)","pt-BR":"Copiado com sucesso (*^â–½^*)"},"fail":{"en":"å¤åˆ¶å¤±è´¥","zh-CN":"å¤åˆ¶å¤±è´¥","zh-TW":"è¤‡è£½å¤±æ•— (ï¾ŸâŠ¿ï¾Ÿ)ï¾‚","ja":"ã‚³ãƒ”ãƒ¼å¤±æ•— (ï¾ŸâŠ¿ï¾Ÿ)ï¾‚","pt-BR":"Falha ao copiar (ï¾ŸâŠ¿ï¾Ÿ)ï¾‚"},"copyright":{"enable":false,"count":50,"license_type":"by-nc-sa"}};window.REIMU_CONFIG.clipboard_tips.copyright.content = 'All articles on this blog are licensed under the BY-NC-SA license agreement unless otherwise stated. Please indicate the source when reprinting!';window.REIMU_CONFIG.code_block = {"expand":true};window.REIMU_CONFIG.base = 'http://example.com';</script>
  
  <title>
    Web3 å®ä¹ è®¡åˆ’ - 2025 å¤å­£ |
    
    mX1@0_blog
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7CNoto%20Serif%20SC:400,400italic,700,700italic&display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7CNoto%20Serif%20SC:400,400italic,700,700italic&display=swap" media="print" onload="this.media&#x3D;&#39;all&#39;">
  
  
    <link rel="preload" href="//at.alicdn.com/t/c/font_4552607_0khxww3tj3q9.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  
  
    
<link rel="stylesheet" href="/css/loader.css">

  
  
    <meta name="description" content="Web3 å®ä¹ è®¡åˆ’ - 2025 å¤å­£åœ¨è¿™ä¸ªWeb3å®ä¹ è®¡åˆ’ä¹‹å‰ï¼Œå…¶å®æˆ‘å­¦è¿‡ä¸€äº›åŒºå—é“¾çš„å†…å®¹ï¼Œä½†æ˜¯ä¹Ÿä»…ä»…æ˜¯çŸ¥é“ä¸€äº›æ¦‚å¿µæ€§çš„ä¸œè¥¿ï¼Œä¾‹å¦‚ï¼ŒPoWã€PoSã€defiç­‰ä¸€äº›æ¦‚å¿µï¼Œæ‰€ä»¥å‚åŠ è¿™ä¸ªå®ä¹ è®¡åˆ’ä¹Ÿæ˜¯ä¸ºäº†æ›´æ·±å…¥çš„å­¦ä¹ Web3çš„å†…å®¹ï¼Œæ¥ä¸‹æ¥æ˜¯æˆ‘çš„æ¯æ—¥å­¦ä¹ ç¬”è®° 8æœˆ4æ—¥åŒºå—é“¾åŸºç¡€æ¦‚å¿µåŒºå—é“¾ä»‹ç»åŒºå—é“¾æ˜¯ä¸€ç§å»ä¸­å¿ƒåŒ–çš„åˆ†å¸ƒå¼è´¦æœ¬æŠ€æœ¯ï¼Œç”¨äºåœ¨ç½‘ç»œèŠ‚ç‚¹ä¹‹é—´å®‰å…¨ã€é€æ˜ä¸”ä¸å¯ç¯¡æ”¹åœ°è®°å½•äº‹åŠ¡æ•°æ®  å»ä¸­å¿ƒåŒ–ï¼šåŒºå—é“¾ç½‘ç»œé€š">
<meta property="og:type" content="article">
<meta property="og:title" content="Web3 å®ä¹ è®¡åˆ’ - 2025 å¤å­£">
<meta property="og:url" content="http://example.com/2025/08/04/web3-shi-xi-ji-hua-2025-xia-ji/index.html">
<meta property="og:site_name" content="mX1@0_blog">
<meta property="og:description" content="Web3 å®ä¹ è®¡åˆ’ - 2025 å¤å­£åœ¨è¿™ä¸ªWeb3å®ä¹ è®¡åˆ’ä¹‹å‰ï¼Œå…¶å®æˆ‘å­¦è¿‡ä¸€äº›åŒºå—é“¾çš„å†…å®¹ï¼Œä½†æ˜¯ä¹Ÿä»…ä»…æ˜¯çŸ¥é“ä¸€äº›æ¦‚å¿µæ€§çš„ä¸œè¥¿ï¼Œä¾‹å¦‚ï¼ŒPoWã€PoSã€defiç­‰ä¸€äº›æ¦‚å¿µï¼Œæ‰€ä»¥å‚åŠ è¿™ä¸ªå®ä¹ è®¡åˆ’ä¹Ÿæ˜¯ä¸ºäº†æ›´æ·±å…¥çš„å­¦ä¹ Web3çš„å†…å®¹ï¼Œæ¥ä¸‹æ¥æ˜¯æˆ‘çš„æ¯æ—¥å­¦ä¹ ç¬”è®° 8æœˆ4æ—¥åŒºå—é“¾åŸºç¡€æ¦‚å¿µåŒºå—é“¾ä»‹ç»åŒºå—é“¾æ˜¯ä¸€ç§å»ä¸­å¿ƒåŒ–çš„åˆ†å¸ƒå¼è´¦æœ¬æŠ€æœ¯ï¼Œç”¨äºåœ¨ç½‘ç»œèŠ‚ç‚¹ä¹‹é—´å®‰å…¨ã€é€æ˜ä¸”ä¸å¯ç¯¡æ”¹åœ°è®°å½•äº‹åŠ¡æ•°æ®  å»ä¸­å¿ƒåŒ–ï¼šåŒºå—é“¾ç½‘ç»œé€š">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-04%20205327.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-05%20144514.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-05%20145026.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-05%20145933.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-05%20150754.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-05%20151348.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-05%20151843.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-05%20155308.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-05%20153732.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-09%20200259.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-11%20123802.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-11%20124451.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-11%20124904.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-11%20125811.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-11%20154641.png">
<meta property="article:published_time" content="2025-08-04T12:34:47.066Z">
<meta property="article:modified_time" content="2025-08-12T17:03:29.320Z">
<meta property="article:author" content="mX1@0">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-04%20205327.png">
  
  
  
    <link rel="shortcut icon" href="/images/%E5%9B%BE1.jpg">
  
  
<link rel="stylesheet" href="/css/style.css">

  <link rel="preload" as="style" onload="this.onload&#x3D;null;this.rel&#x3D;&#39;stylesheet&#39;" href="https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.css" integrity="sha384-IfxC36XL&#x2F;toUyJ939C73PcgMuRzAZuIzZxE38drsmO5p6jD7ei+Zx&#x2F;1oA&#x2F;0l8ysE" crossorigin="anonymous">
  
  
  
  
    
<script src="https://npm.webcache.cn/pace-js@1.2.4/pace.min.js" integrity="sha384-k6YtvFUEIuEFBdrLKJ3YAUbBki333tj1CSUisai5Cswsg9wcLNaPzsTHDswp4Az8" crossorigin="anonymous"></script>

  
  
    
<link rel="stylesheet" href="https://npm.webcache.cn/@reimujs/aos@0.1.2/dist/aos.css" integrity="sha384-GMRP93c6Hkz9JVKGAuRR3nTS7M07RwPgTFenXiosjq2VbVgvdDNcz1g6Mkj8AONa" crossorigin="anonymous">

  
  
  
<meta name="generator" content="Hexo 7.2.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>

  <body>
    
    
  <div id='loader'>
    <div class="loading-left-bg loading-bg"></div>
    <div class="loading-right-bg loading-bg"></div>
    <div class="spinner-box">
      <div class="loading-taichi rotate">
        
          <svg width="150" height="150" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="https://www.w3.org/2000/svg" shape-rendering="geometricPrecision">
            <path d="M303.5 432A80 80 0 0 1 291.5 592A80 80 0 0 1 303.5 432z" fill="var(--red-1, #ff5252)" />
            <path d="M512 65A447 447 0 0 1 512 959L512 929A417 417 0 0 0 512 95A417 417 0 0 0 512 929L512 959A447 447 0 0 1 512 65z 
           M512 95A417 417 0 0 1 929 512A208.5 208.5 0 0 1 720.5 720.5L720.5 592A80 80 0 0 0 720.5 432A80 80 0 0 0 720.5 592L720.5 720.5A208.5 208.5 0 0 1 512 512A208.5 208.5 0 0 0 303.5 303.5A208.5 208.5 0 0 0 95 512A417 417 0 0 1 512 95z" fill="var(--red-1, #ff5252)" />
          </svg>
        
      </div>
      
      
        
      
      <div class="loading-word">åŠ è½½ä¸­...</div>
    </div>
  </div>
  </div>
  <script>
    var time = null;
    var startLoading = () => {
      time = Date.now();
      document.getElementById('loader').classList.remove("loading");
    }
    var endLoading = () => {
      if (!time) {
        document.body.style.overflow = 'auto';
        document.getElementById('loader').classList.add("loading");
      } else {
        if (Date.now() - time > 500) {
          time = null;
          document.body.style.overflow = 'auto';
          document.getElementById('loader').classList.add("loading");
        } else {
          setTimeout(endLoading, 500 - (Date.now() - time));
          time = null;
        }
      }
    }
    window.addEventListener('DOMContentLoaded', endLoading);
    document.getElementById('loader').addEventListener('click', endLoading);
  </script>

<div id="copy-tooltip" style="pointer-events: none; opacity: 0; transition: all 0.2s ease; position: fixed;top: 50%;left: 50%;z-index: 999;transform: translate(-50%, -50%);color: white;background: rgba(0, 0, 0, 0.5);padding: 10px 15px;border-radius: 10px;">
</div>
<div id="heatmap-tooltip"></div>


    <div id="container">
      <div id="wrap">
        <div id="header-nav">
  <nav id="main-nav">
    
      
        <span class="main-nav-link-wrap">
          <div class="main-nav-icon icon rotate">
             
              &#xe62b;
             
          </div>
          <a class="main-nav-link" href="/">é¦–é¡µ</a>
        </span>
      
        <span class="main-nav-link-wrap">
          <div class="main-nav-icon icon rotate">
             
              &#xe62b;
             
          </div>
          <a class="main-nav-link" href="/archives">å½’ç±»</a>
        </span>
      
        <span class="main-nav-link-wrap">
          <div class="main-nav-icon icon rotate">
             
              &#xe62b;
             
          </div>
          <a class="main-nav-link" href="/about">å…³äº</a>
        </span>
      
        <span class="main-nav-link-wrap">
          <div class="main-nav-icon icon rotate">
             
              &#xe62b;
             
          </div>
          <a class="main-nav-link" href="/friend">å‹é“¾</a>
        </span>
      
    
    <a id="main-nav-toggle" class="nav-icon"></a>
  </nav>
  <nav id="sub-nav">
    
    
    
  </nav>
  
</div>
<header id="header">
  
    
      
        <picture>
          
        </picture>
        
          <img  fetchpriority="high" src="/images/%E7%8E%9B%E8%8E%8E%E6%8B%89%E8%92%82.jpg" alt="Web3 å®ä¹ è®¡åˆ’ - 2025 å¤å­£">
        
      
    
  
  <div id="header-outer">
    <div id="header-title">
      
        
        
          <a href="/" id="logo">
            <h1 data-aos="slide-up">Web3 å®ä¹ è®¡åˆ’ - 2025 å¤å­£</h1>
          </a>
        
      
      
        
        <h2 id="subtitle-wrap" data-aos="slide-down">
          
        </h2>
      
    </div>
  </div>
</header>

        <div id="content" class="sidebar-left"  >
          <aside id="sidebar">
  
  
  
  <div class="sidebar-wrapper wrap-sticky">
    <div class="sidebar-wrap" data-aos="fade-up">
      
        
          <div class="sidebar-toc-sidebar"><div class="sidebar-toc">
  <h3 class="toc-title">Contents</h3>
  <div class="sidebar-toc-wrapper toc-div-class" >
      
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Web3-%E5%AE%9E%E4%B9%A0%E8%AE%A1%E5%88%92-2025-%E5%A4%8F%E5%AD%A3"><span class="toc-text">Web3 å®ä¹ è®¡åˆ’ - 2025 å¤å­£</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E6%9C%884%E6%97%A5"><span class="toc-text">8æœˆ4æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%BA%E5%9D%97%E9%93%BE%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5"><span class="toc-text">åŒºå—é“¾åŸºç¡€æ¦‚å¿µ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BA%E5%9D%97%E9%93%BE%E4%BB%8B%E7%BB%8D"><span class="toc-text">åŒºå—é“¾ä»‹ç»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BA%E5%9D%97%E9%93%BE%E7%89%B9%E6%80%A7"><span class="toc-text">åŒºå—é“¾ç‰¹æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E6%A0%B8%E5%BF%83%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="toc-text">åŒºå—é“¾çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%BB%E4%B8%AD%E5%BF%83%E5%8C%96%E7%9A%84%E7%BD%91%E7%BB%9C%E5%92%8C%E5%8C%BA%E5%9D%97%E9%93%BE"><span class="toc-text">å»ä¸­å¿ƒåŒ–çš„ç½‘ç»œå’ŒåŒºå—é“¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%B4%E6%8C%81%E7%BD%91%E7%BB%9C%E8%BF%90%E8%A1%8C%E7%9A%84%E4%BB%A3%E5%B8%81%E6%BF%80%E5%8A%B1"><span class="toc-text">ç»´æŒç½‘ç»œè¿è¡Œçš„ä»£å¸æ¿€åŠ±</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AC%E9%93%BE-%E7%A7%81%E9%93%BE-%E8%81%94%E7%9B%9F%E9%93%BE"><span class="toc-text">å…¬é“¾ ç§é“¾ è”ç›Ÿé“¾</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AC%E9%93%BE%EF%BC%88Public-Blockchain%EF%BC%89"><span class="toc-text">å…¬é“¾ï¼ˆPublic Blockchainï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A7%81%E9%93%BE%EF%BC%88Private-Blockchain%EF%BC%89"><span class="toc-text">ç§é“¾ï¼ˆPrivate Blockchainï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%81%94%E7%9B%9F%E9%93%BE%EF%BC%88Consortium-Blockchain%EF%BC%89"><span class="toc-text">è”ç›Ÿé“¾ï¼ˆConsortium Blockchainï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E6%AF%94%E6%80%BB%E7%BB%93"><span class="toc-text">å¯¹æ¯”æ€»ç»“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E4%BE%9D%E6%8D%AE"><span class="toc-text">é€‰æ‹©ä¾æ®</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E6%9C%885%E6%97%A5"><span class="toc-text">8æœˆ5æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E5%9D%8A%E6%A6%82%E8%A7%88"><span class="toc-text">ä»¥å¤ªåŠæ¦‚è§ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E5%9D%8A%E4%BB%8B%E7%BB%8D"><span class="toc-text">ä»¥å¤ªåŠä»‹ç»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ethereum-%E4%B8%8E-Bitcoin-%E7%9A%84%E5%B7%AE%E5%BC%82"><span class="toc-text">Ethereum ä¸ Bitcoin çš„å·®å¼‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E5%9D%8A%E7%9A%84%E5%AE%9A%E4%BD%8D%E4%B8%8E%E6%BC%94%E8%BF%9B"><span class="toc-text">ä»¥å¤ªåŠçš„å®šä½ä¸æ¼”è¿›</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E5%9D%8A1-0%EF%BC%88PoW%E9%98%B6%E6%AE%B5%EF%BC%89"><span class="toc-text">ä»¥å¤ªåŠ1.0ï¼ˆPoWé˜¶æ®µï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E5%9D%8A2-0%E4%B8%8EThe-Merge%EF%BC%9A%E4%BB%8E%E5%8F%8C%E9%93%BE%E5%B9%B6%E8%A1%8C%E5%88%B0%E5%AE%8C%E7%BE%8E%E5%90%88%E5%B9%B6"><span class="toc-text">ä»¥å¤ªåŠ2.0ä¸The Mergeï¼šä»åŒé“¾å¹¶è¡Œåˆ°å®Œç¾åˆå¹¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%AA%E6%9D%A5%E5%8D%87%E7%BA%A7%E8%B7%AF%E7%BA%BF"><span class="toc-text">æœªæ¥å‡çº§è·¯çº¿</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E5%9D%8A%E7%94%9F%E6%80%81%E6%A6%82%E8%A7%88%EF%BC%9AL1%E3%80%81L2%E3%80%81Sidechains-%E7%AD%89"><span class="toc-text">ä»¥å¤ªåŠç”Ÿæ€æ¦‚è§ˆï¼šL1ã€L2ã€Sidechains ç­‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E5%9D%8A%E6%96%87%E5%8C%96%E4%B8%8E%E4%BB%B7%E5%80%BC%E8%A7%82"><span class="toc-text">ä»¥å¤ªåŠæ–‡åŒ–ä¸ä»·å€¼è§‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E5%9D%8A%E6%A0%B8%E5%BF%83%E6%9C%BA%E5%88%B6%EF%BC%9A%E4%BB%8E%E8%B4%A6%E6%88%B7%E5%88%B0%E6%89%A7%E8%A1%8C%E7%9A%84%E5%AE%8C%E6%95%B4%E9%93%BE%E8%B7%AF"><span class="toc-text">ä»¥å¤ªåŠæ ¸å¿ƒæœºåˆ¶ï¼šä»è´¦æˆ·åˆ°æ‰§è¡Œçš„å®Œæ•´é“¾è·¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unphishable%E9%92%93%E9%B1%BC%E6%94%BB%E9%98%B2%E6%8C%91%E6%88%98"><span class="toc-text">Unphishableé’“é±¼æ”»é˜²æŒ‘æˆ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E7%BA%A7"><span class="toc-text">åˆçº§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0001-Web3-%E9%92%B1%E5%8C%85%E8%AE%BE%E7%BD%AE%E6%8C%87%E5%8D%97"><span class="toc-text">No.0x0001 Web3 é’±åŒ…è®¾ç½®æŒ‡å—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0002-%E9%92%B1%E5%8C%85%E6%81%A2%E5%A4%8D%E5%8A%A9%E6%89%8B"><span class="toc-text">No.0x0002 é’±åŒ…æ¢å¤åŠ©æ‰‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0003-USDC-Permit-%E9%92%93%E9%B1%BC%E6%A8%A1%E6%8B%9F"><span class="toc-text">No.0x0003 USDC Permit é’“é±¼æ¨¡æ‹Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0004-%E4%B8%93%E5%B1%9E%E4%BB%A3%E5%B8%81%E7%A9%BA%E6%8A%95"><span class="toc-text">No.0x0004 ä¸“å±ä»£å¸ç©ºæŠ•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0005-USDT-%E6%8E%88%E6%9D%83%E9%92%93%E9%B1%BC%E6%A8%A1%E6%8B%9F"><span class="toc-text">No.0x0005 USDT æˆæƒé’“é±¼æ¨¡æ‹Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0006-%E5%81%87%E5%86%92%E4%BB%A3%E5%B8%81%E7%A9%BA%E6%8A%95%E9%92%93%E9%B1%BC%E6%94%BB%E5%87%BB"><span class="toc-text">No.0x0006 å‡å†’ä»£å¸ç©ºæŠ•é’“é±¼æ”»å‡»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0007-%E8%B6%85%E9%AB%98%E6%94%B6%E7%9B%8A%E8%B4%A8%E6%8A%BC%E5%B9%B3%E5%8F%B0"><span class="toc-text">No.0x0007 è¶…é«˜æ”¶ç›Šè´¨æŠ¼å¹³å°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0008-Telegram-%E4%BB%A3%E5%B8%81%E9%92%93%E9%B1%BC%E6%8C%91%E6%88%98"><span class="toc-text">No.0x0008 Telegram ä»£å¸é’“é±¼æŒ‘æˆ˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0009-Punycode-%E9%92%93%E9%B1%BC%E6%94%BB%E5%87%BB"><span class="toc-text">No.0x0009 Punycode é’“é±¼æ”»å‡»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-Punycode%EF%BC%9F"><span class="toc-text">ä»€ä¹ˆæ˜¯ Punycodeï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0010-%E5%89%AA%E8%B4%B4%E6%9D%BF%E9%92%93%E9%B1%BC%E6%8C%91%E6%88%98"><span class="toc-text">No.0x0010 å‰ªè´´æ¿é’“é±¼æŒ‘æˆ˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0011-Google-%E6%90%9C%E7%B4%A2%E5%B9%BF%E5%91%8A%E9%92%93%E9%B1%BC%E6%94%BB%E5%87%BB"><span class="toc-text">No.0x0011 Google æœç´¢å¹¿å‘Šé’“é±¼æ”»å‡»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0012-Microsoft-Teams-%E9%92%93%E9%B1%BC%E6%94%BB%E5%87%BB"><span class="toc-text">No.0x0012 Microsoft Teams é’“é±¼æ”»å‡»</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Microsoft-Teams-%E9%92%93%E9%B1%BC%E6%94%BB%E5%87%BB%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-text">Microsoft Teams é’“é±¼æ”»å‡»çš„å·¥ä½œåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0037-%E8%99%9A%E5%81%87%E6%89%A9%E5%B1%95%E7%A8%8B%E5%BA%8F%E9%92%93%E9%B1%BC"><span class="toc-text">No.0x0037 è™šå‡æ‰©å±•ç¨‹åºé’“é±¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E7%BA%A7"><span class="toc-text">ä¸­çº§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0013-TransferFrom-%E9%9B%B6%E5%80%BC%E8%BD%AC%E8%B4%A6%E9%92%93%E9%B1%BC%E6%8C%91%E6%88%98"><span class="toc-text">No.0x0013 TransferFrom é›¶å€¼è½¬è´¦é’“é±¼æŒ‘æˆ˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%88%E9%AA%97%E8%80%85%E5%88%A9%E7%94%A8%E2%80%9C%E9%9B%B6%E5%80%BC%E8%BD%AC%E8%B4%A6%E2%80%9D%E4%BC%AA%E9%80%A0%E4%BA%A4%E6%98%93%E5%8E%86%E5%8F%B2%E7%9A%84%E5%8E%9F%E7%90%86%E5%8F%8A%E9%98%B2%E8%8C%83%E6%8E%AA%E6%96%BD"><span class="toc-text">è¯ˆéª—è€…åˆ©ç”¨â€œé›¶å€¼è½¬è´¦â€ä¼ªé€ äº¤æ˜“å†å²çš„åŸç†åŠé˜²èŒƒæªæ–½</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%94%BB%E5%87%BB%E5%8E%9F%E7%90%86"><span class="toc-text">1. æ”»å‡»åŸç†</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E6%9C%886%E6%97%A5"><span class="toc-text">8æœˆ6æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#MyFirstLayer2"><span class="toc-text">MyFirstLayer2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%85%AC%E9%93%BE%E7%93%B6%E9%A2%88"><span class="toc-text">1 å…¬é“¾ç“¶é¢ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1%E6%94%B9%E8%BF%9B%E5%B0%9D%E8%AF%95"><span class="toc-text">1.1æ”¹è¿›å°è¯•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-%E5%8C%BA%E5%9D%97%E9%93%BE%E4%B8%89%E9%9A%BE%E5%9B%B0%E5%A2%83"><span class="toc-text">1.2 åŒºå—é“¾ä¸‰éš¾å›°å¢ƒ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-Layer-2"><span class="toc-text">1.3 Layer 2</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Layer-2%E5%8F%91%E5%B1%95%E5%8F%B2"><span class="toc-text">2 Layer 2å‘å±•å²</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E7%8A%B6%E6%80%81%E9%80%9A%E9%81%93%EF%BC%88State-channel%EF%BC%89"><span class="toc-text">2.1 çŠ¶æ€é€šé“ï¼ˆState channelï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E4%BE%A7%E9%93%BE%EF%BC%88Sidechain%EF%BC%89"><span class="toc-text">2.2 ä¾§é“¾ï¼ˆSidechainï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-Plasma"><span class="toc-text">2.3 Plasma</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-Rollup"><span class="toc-text">2.4 Rollup</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E%EF%BC%88Zero-Knowledge-Proof-ZKP%EF%BC%89%E8%AF%A6%E8%A7%A3"><span class="toc-text">é›¶çŸ¥è¯†è¯æ˜ï¼ˆZero-Knowledge Proof, ZKPï¼‰è¯¦è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E%E7%9A%84%E4%B8%89%E5%A4%A7%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7"><span class="toc-text">1. é›¶çŸ¥è¯†è¯æ˜çš„ä¸‰å¤§æ ¸å¿ƒç‰¹æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%BB%8F%E5%85%B8%E7%B1%BB%E6%AF%94%EF%BC%9A%E6%B4%9E%E7%A9%B4%E5%AF%93%E8%A8%80"><span class="toc-text">2. ç»å…¸ç±»æ¯”ï¼šæ´ç©´å¯“è¨€</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E%E7%9A%84%E4%B8%A4%E7%A7%8D%E4%B8%BB%E8%A6%81%E7%B1%BB%E5%9E%8B"><span class="toc-text">3. é›¶çŸ¥è¯†è¯æ˜çš„ä¸¤ç§ä¸»è¦ç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%8C%BA%E5%9D%97%E9%93%BE%E4%B8%AD%E7%9A%84-ZKP-%E6%8A%80%E6%9C%AF"><span class="toc-text">4. åŒºå—é“¾ä¸­çš„ ZKP æŠ€æœ¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E%E7%9A%84%E5%8C%BA%E5%9D%97%E9%93%BE%E5%BA%94%E7%94%A8"><span class="toc-text">5. é›¶çŸ¥è¯†è¯æ˜çš„åŒºå—é“¾åº”ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-text">6. é›¶çŸ¥è¯†è¯æ˜çš„ä¼˜ç¼ºç‚¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-Layer-2-%E5%AF%B9%E6%AF%94"><span class="toc-text">2.5 Layer 2 å¯¹æ¯”</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Rollup%E8%AF%A6%E6%83%85"><span class="toc-text">3 Rollupè¯¦æƒ…</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-%E5%A6%82%E4%BD%95%E5%8E%8B%E7%BC%A9"><span class="toc-text">3.1 å¦‚ä½•å‹ç¼©</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E8%BF%9B%E4%B8%80%E6%AD%A5%E5%8E%8B%E7%BC%A9"><span class="toc-text">3.2 è¿›ä¸€æ­¥å‹ç¼©</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-Optimistic-Rollup"><span class="toc-text">3.3 Optimistic Rollup</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-Zero-Knowledge-Proof"><span class="toc-text">3.4 Zero-Knowledge Proof</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-ZK-%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86-STARK-vs-SNARK"><span class="toc-text">3.5 ZK æŠ€æœ¯åŸç† STARK vs SNARK</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#SNARK"><span class="toc-text">SNARK</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#STARK"><span class="toc-text">STARK</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-6-ZK-%E5%8F%91%E5%B1%95%E8%B7%AF%E7%BA%BF-ZK-VM-vs-ZK-EVM"><span class="toc-text">3.6 ZK å‘å±•è·¯çº¿ ZK-VM vs ZK-EVM</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#ZK-VM%EF%BC%9A%E4%BB%8E%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E%E7%9A%84%E8%A7%92%E5%BA%A6%E5%87%BA%E5%8F%91"><span class="toc-text">ZK-VMï¼šä»é›¶çŸ¥è¯†è¯æ˜çš„è§’åº¦å‡ºå‘</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ZK-EVM%EF%BC%9A%E4%BB%8E-EVM-%E5%85%BC%E5%AE%B9%E6%80%A7%E7%9A%84%E8%A7%92%E5%BA%A6%E5%87%BA%E5%8F%91"><span class="toc-text">ZK-EVMï¼šä» EVM å…¼å®¹æ€§çš„è§’åº¦å‡ºå‘</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%9C%AA%E6%9D%A5%E5%B1%95%E6%9C%9B"><span class="toc-text">4 æœªæ¥å±•æœ›</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-%E5%85%B6%E5%AE%83%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%EF%BC%9AValidium-%E5%92%8C-Volition"><span class="toc-text">4.1 å…¶å®ƒè§£å†³æ–¹æ¡ˆï¼šValidium å’Œ Volition</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Validium"><span class="toc-text">Validium</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Volition"><span class="toc-text">Volition</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-Deneb-%E6%9B%B4%E6%96%B0%E4%B8%8E-Layer-2"><span class="toc-text">4.2 Deneb æ›´æ–°ä¸ Layer 2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-%E8%B4%A6%E6%88%B7%E6%8A%BD%E8%B1%A1%E4%B8%8E%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%BA%94%E7%94%A8"><span class="toc-text">4.3 è´¦æˆ·æŠ½è±¡ä¸å¤§è§„æ¨¡åº”ç”¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%BA%E5%9D%97%E9%93%BE%E5%B2%97%E4%BD%8D%E5%85%A8%E6%99%AF%E5%9B%BE"><span class="toc-text">åŒºå—é“¾å²—ä½å…¨æ™¯å›¾</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%8A%80%E6%9C%AF%E5%B2%97"><span class="toc-text">ä¸€ã€æŠ€æœ¯å²—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88"><span class="toc-text">1. å‰ç«¯å·¥ç¨‹å¸ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%90%8E%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88"><span class="toc-text">2. åç«¯å·¥ç¨‹å¸ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%B7%A5%E7%A8%8B%E5%B8%88"><span class="toc-text">3. æ™ºèƒ½åˆçº¦å·¥ç¨‹å¸ˆ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E9%9D%9E%E6%8A%80%E6%9C%AF%E5%B2%97"><span class="toc-text">äºŒã€éæŠ€æœ¯å²—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BA%A7%E5%93%81%E4%B8%8E%E8%BF%90%E8%90%A5"><span class="toc-text">1. äº§å“ä¸è¿è¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%A4%BE%E5%8C%BA%E7%AE%A1%E7%90%86"><span class="toc-text">2. ç¤¾åŒºç®¡ç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E7%A0%94%E7%A9%B6%E5%88%86%E6%9E%90"><span class="toc-text">3. ç ”ç©¶åˆ†æ</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E6%9C%887%E6%97%A5"><span class="toc-text">8æœˆ7æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%8C%E4%B8%9A%E8%B5%9B%E9%81%93%E5%85%A8%E8%A7%88"><span class="toc-text">è¡Œä¸šèµ›é“å…¨è§ˆ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E6%9C%888%E6%97%A5"><span class="toc-text">8æœˆ8æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#CryptoZombiesx%E7%9A%84solidity%E5%AD%A6%E4%B9%A0"><span class="toc-text">CryptoZombiesxçš„solidityå­¦ä¹ </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Solidity-Beginner-to-Intermediate-Smart-Contracts"><span class="toc-text">Solidity: Beginner to Intermediate Smart Contracts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lesson1-%E6%90%AD%E5%BB%BA%E5%83%B5%E5%B0%B8%E5%B7%A5%E5%8E%82"><span class="toc-text">lesson1 æ­å»ºåƒµå°¸å·¥å‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC2%E7%AB%A0-%E5%90%88%E7%BA%A6"><span class="toc-text">ç¬¬2ç« : åˆçº¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC3%E7%AB%A0-%E7%8A%B6%E6%80%81%E5%8F%98%E9%87%8F%E5%92%8C%E6%95%B4%E6%95%B0"><span class="toc-text">ç¬¬3ç« : çŠ¶æ€å˜é‡å’Œæ•´æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC4%E7%AB%A0-%E6%95%B0%E5%AD%A6%E8%BF%90%E7%AE%97"><span class="toc-text">ç¬¬4ç« : æ•°å­¦è¿ç®—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC5%E7%AB%A0-%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text">ç¬¬5ç« : ç»“æ„ä½“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC6%E7%AB%A0-%E6%95%B0%E7%BB%84"><span class="toc-text">ç¬¬6ç« : æ•°ç»„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC7%E7%AB%A0-%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-text">ç¬¬7ç« : å®šä¹‰å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC8%E7%AB%A0-%E4%BD%BF%E7%94%A8%E7%BB%93%E6%9E%84%E4%BD%93%E5%92%8C%E6%95%B0%E7%BB%84"><span class="toc-text">ç¬¬8ç« : ä½¿ç”¨ç»“æ„ä½“å’Œæ•°ç»„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC9%E7%AB%A0-%E7%A7%81%E6%9C%89-%E5%85%AC%E5%85%B1%E5%87%BD%E6%95%B0"><span class="toc-text">ç¬¬9ç« : ç§æœ‰ &#x2F; å…¬å…±å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC10%E7%AB%A0-%E5%87%BD%E6%95%B0%E7%9A%84%E6%9B%B4%E5%A4%9A%E5%B1%9E%E6%80%A7"><span class="toc-text">ç¬¬10ç« : å‡½æ•°çš„æ›´å¤šå±æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC11%E7%AB%A0-Keccak256-%E5%92%8C-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">ç¬¬11ç« : Keccak256 å’Œ ç±»å‹è½¬æ¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC12%E7%AB%A0-%E6%94%BE%E5%9C%A8%E4%B8%80%E8%B5%B7"><span class="toc-text">ç¬¬12ç« : æ”¾åœ¨ä¸€èµ·</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC13%E7%AB%A0-%E4%BA%8B%E4%BB%B6"><span class="toc-text">ç¬¬13ç« : äº‹ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC14%E7%AB%A0-Web3-js"><span class="toc-text">ç¬¬14ç« : Web3.js</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E6%9C%889%E6%97%A5"><span class="toc-text">8æœˆ9æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Chainlink%E9%A2%84%E8%A8%80%E6%9C%BA%E7%9A%84solidity%E8%AF%BE%E7%A8%8B"><span class="toc-text">Chainlinké¢„è¨€æœºçš„solidityè¯¾ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#solidity%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E3%80%81%E5%87%BD%E6%95%B0%E3%80%81%E5%AD%98%E5%82%A8%E6%A8%A1%E5%BC%8F%E3%80%81%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">solidityæ•°æ®ç±»å‹ã€å‡½æ•°ã€å­˜å‚¨æ¨¡å¼ã€æ•°æ®ç»“æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#solidity%E7%9A%84%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="toc-text">solidityçš„å·¥å‚æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E4%BB%8B%E7%BB%8D"><span class="toc-text">å·¥å‚æ¨¡å¼ä»‹ç»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E5%90%88%E7%BA%A6%E6%96%B9%E5%BC%8F"><span class="toc-text">å¼•å…¥åˆçº¦æ–¹å¼</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E6%9C%8810%E6%97%A5"><span class="toc-text">8æœˆ10æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#CryptoZombiesx%E7%9A%84solidity%E5%AD%A6%E4%B9%A0-1"><span class="toc-text">CryptoZombiesxçš„solidityå­¦ä¹ </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Solidity-Beginner-to-Intermediate-Smart-Contracts-1"><span class="toc-text">Solidity: Beginner to Intermediate Smart Contracts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lesson2-%E5%83%B5%E5%B0%B8%E6%94%BB%E5%87%BB%E4%BA%BA%E7%B1%BB"><span class="toc-text">lesson2 åƒµå°¸æ”»å‡»äººç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC2%E7%AB%A0-%E6%98%A0%E5%B0%84%EF%BC%88Mapping%EF%BC%89%E5%92%8C%E5%9C%B0%E5%9D%80%EF%BC%88Address%EF%BC%89"><span class="toc-text">ç¬¬2ç« : æ˜ å°„ï¼ˆMappingï¼‰å’Œåœ°å€ï¼ˆAddressï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC3%E7%AB%A0-Msg-sender"><span class="toc-text">ç¬¬3ç« : Msg.sender</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC4%E7%AB%A0-Require"><span class="toc-text">ç¬¬4ç« : Require</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC5%E7%AB%A0-%E7%BB%A7%E6%89%BF%EF%BC%88Inheritance%EF%BC%89"><span class="toc-text">ç¬¬5ç« : ç»§æ‰¿ï¼ˆInheritanceï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC6%E7%AB%A0-%E5%BC%95%E5%85%A5%EF%BC%88Import%EF%BC%89"><span class="toc-text">ç¬¬6ç« : å¼•å…¥ï¼ˆImportï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC7%E7%AB%A0-Storage%E4%B8%8EMemory"><span class="toc-text">ç¬¬7ç« : Storageä¸Memory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC8%E7%AB%A0-%E5%83%B5%E5%B0%B8%E7%9A%84DNA"><span class="toc-text">ç¬¬8ç« : åƒµå°¸çš„DNA</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC9%E7%AB%A0-%E6%9B%B4%E5%A4%9A%E5%85%B3%E4%BA%8E%E5%87%BD%E6%95%B0%E5%8F%AF%E8%A7%81%E6%80%A7"><span class="toc-text">ç¬¬9ç« : æ›´å¤šå…³äºå‡½æ•°å¯è§æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC10%E7%AB%A0-%E5%83%B5%E5%B0%B8%E5%90%83%E4%BB%80%E4%B9%88"><span class="toc-text">ç¬¬10ç« : åƒµå°¸åƒä»€ä¹ˆ?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC11%E7%AB%A0-%E4%BD%BF%E7%94%A8%E6%8E%A5%E5%8F%A3"><span class="toc-text">ç¬¬11ç« : ä½¿ç”¨æ¥å£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC12%E7%AB%A0-%E5%A4%84%E7%90%86%E5%A4%9A%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">ç¬¬12ç« : å¤„ç†å¤šè¿”å›å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC13%E7%AB%A0-%E5%A5%96%E5%8A%B1-Kitty-%E5%9F%BA%E5%9B%A0"><span class="toc-text">ç¬¬13ç« : å¥–åŠ±: Kitty åŸºå› </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC14%E7%AB%A0-%E6%94%BE%E5%9C%A8%E4%B8%80%E8%B5%B7"><span class="toc-text">ç¬¬14ç« : æ”¾åœ¨ä¸€èµ·</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E6%9C%8811%E6%97%A5"><span class="toc-text">8æœˆ11æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Chainlink%E9%A2%84%E8%A8%80%E6%9C%BA%E7%9A%84solidity%E8%BF%9B%E9%98%B6%E8%AF%BE%E7%A8%8B"><span class="toc-text">Chainlinké¢„è¨€æœºçš„solidityè¿›é˜¶è¯¾ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%84%E8%A8%80%E6%9C%BA%E7%BD%91%E7%BB%9C%EF%BC%88Chainlink%EF%BC%89"><span class="toc-text">é¢„è¨€æœºç½‘ç»œï¼ˆChainlinkï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%96%82%E4%BB%B7%EF%BC%88Data-Feed%EF%BC%89"><span class="toc-text">å–‚ä»·ï¼ˆData Feedï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Data-Feed-%E6%9E%B6%E6%9E%84"><span class="toc-text">Data Feed æ¶æ„</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Data-Feed-%E7%BB%93%E6%9E%84"><span class="toc-text">Data Feed ç»“æ„</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2%E4%B8%80%E4%B8%AAFundMe%E7%9A%84%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6"><span class="toc-text">éƒ¨ç½²ä¸€ä¸ªFundMeçš„æ™ºèƒ½åˆçº¦</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BD%AC%E8%B4%A6%E7%9A%84%E4%B8%89%E7%A7%8D%E7%B1%BB%E5%9E%8B"><span class="toc-text">è½¬è´¦çš„ä¸‰ç§ç±»å‹</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8F%90%E6%AC%BE"><span class="toc-text">ææ¬¾</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E9%94%81"><span class="toc-text">æ—¶é—´é”</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#modifier%E4%BF%AE%E6%94%B9%E5%99%A8"><span class="toc-text">modifierä¿®æ”¹å™¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91"><span class="toc-text">æ™ºèƒ½åˆçº¦å¼€å‘</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Dapp-%E6%9E%B6%E6%9E%84%E5%92%8C%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B"><span class="toc-text">Dapp æ¶æ„å’Œå¼€å‘æµç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Dapp-%E6%9E%B6%E6%9E%84"><span class="toc-text">Dapp æ¶æ„</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Dapp-%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B"><span class="toc-text">Dapp å¼€å‘æµç¨‹</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E6%9C%8812%E6%97%A5"><span class="toc-text">8æœˆ12æ—¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CryptoZombiesx%E7%9A%84solidity%E5%AD%A6%E4%B9%A0-2"><span class="toc-text">CryptoZombiesxçš„solidityå­¦ä¹ </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solidity-Beginner-to-Intermediate-Smart-Contracts-2"><span class="toc-text">Solidity: Beginner to Intermediate Smart Contracts</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lesson3-%E9%AB%98%E7%BA%A7-Solidity-%E7%90%86%E8%AE%BA"><span class="toc-text">lesson3 é«˜çº§ Solidity ç†è®º</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC1%E7%AB%A0-%E6%99%BA%E8%83%BD%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%B0%B8%E5%9B%BA%E6%80%A7"><span class="toc-text">ç¬¬1ç« : æ™ºèƒ½åè®®çš„æ°¸å›ºæ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC2%E7%AB%A0-Ownable-Contracts"><span class="toc-text">ç¬¬2ç« : Ownable Contracts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC3%E7%AB%A0-onlyOwner-%E5%87%BD%E6%95%B0%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-text">ç¬¬3ç« : onlyOwner å‡½æ•°ä¿®é¥°ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC4%E7%AB%A0-Gas"><span class="toc-text">ç¬¬4ç« : Gas</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC5%E7%AB%A0-%E6%97%B6%E9%97%B4%E5%8D%95%E4%BD%8D"><span class="toc-text">ç¬¬5ç« : æ—¶é—´å•ä½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC6%E7%AB%A0-%E5%83%B5%E5%B0%B8%E5%86%B7%E5%8D%B4"><span class="toc-text">ç¬¬6ç« : åƒµå°¸å†·å´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC7%E7%AB%A0-%E5%85%AC%E6%9C%89%E5%87%BD%E6%95%B0%E5%92%8C%E5%AE%89%E5%85%A8%E6%80%A7"><span class="toc-text">ç¬¬7ç« : å…¬æœ‰å‡½æ•°å’Œå®‰å…¨æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC8%E7%AB%A0-%E8%BF%9B%E4%B8%80%E6%AD%A5%E4%BA%86%E8%A7%A3%E5%87%BD%E6%95%B0%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-text">ç¬¬8ç« : è¿›ä¸€æ­¥äº†è§£å‡½æ•°ä¿®é¥°ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC9%E7%AB%A0-%E5%83%B5%E5%B0%B8%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-text">ç¬¬9ç« : åƒµå°¸ä¿®é¥°ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC10%E7%AB%A0-%E5%88%A9%E7%94%A8-%E2%80%98View%E2%80%99-%E5%87%BD%E6%95%B0%E8%8A%82%E7%9C%81-Gas"><span class="toc-text">ç¬¬10ç« : åˆ©ç”¨ â€˜Viewâ€™ å‡½æ•°èŠ‚çœ Gas</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC11%E7%AB%A0-%E5%AD%98%E5%82%A8%E9%9D%9E%E5%B8%B8%E6%98%82%E8%B4%B5"><span class="toc-text">ç¬¬11ç« : å­˜å‚¨éå¸¸æ˜‚è´µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC12%E7%AB%A0-For-%E5%BE%AA%E7%8E%AF"><span class="toc-text">ç¬¬12ç« : For å¾ªç¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC13%E7%AB%A0-%E6%94%BE%E5%9C%A8%E4%B8%80%E8%B5%B7"><span class="toc-text">ç¬¬13ç« : æ”¾åœ¨ä¸€èµ·</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lesson4-%E5%83%B5%E5%B0%B8%E4%BD%9C%E6%88%98%E7%B3%BB%E7%BB%9F"><span class="toc-text">lesson4 åƒµå°¸ä½œæˆ˜ç³»ç»Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC1%E7%AB%A0-%E5%8F%AF%E6%94%AF%E4%BB%98"><span class="toc-text">ç¬¬1ç« : å¯æ”¯ä»˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC2%E7%AB%A0-%E6%8F%90%E7%8E%B0"><span class="toc-text">ç¬¬2ç« : æç°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC3%E7%AB%A0-%E5%83%B5%E5%B0%B8%E6%88%98%E6%96%97"><span class="toc-text">ç¬¬3ç« : åƒµå°¸æˆ˜æ–—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC4%E7%AB%A0-%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-text">ç¬¬4ç« : éšæœºæ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC5%E7%AB%A0-%E5%83%B5%E5%B0%B8%E5%AF%B9%E6%88%98"><span class="toc-text">ç¬¬5ç« : åƒµå°¸å¯¹æˆ˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC6%E7%AB%A0-%E9%87%8D%E6%9E%84%E9%80%9A%E7%94%A8%E9%80%BB%E8%BE%91"><span class="toc-text">ç¬¬6ç« : é‡æ„é€šç”¨é€»è¾‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC7%E7%AB%A0-%E6%9B%B4%E5%A4%9A%E9%87%8D%E6%9E%84"><span class="toc-text">ç¬¬7ç« : æ›´å¤šé‡æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC8%E7%AB%A0-%E5%9B%9E%E5%88%B0%E6%94%BB%E5%87%BB%EF%BC%81"><span class="toc-text">ç¬¬8ç« : å›åˆ°æ”»å‡»ï¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC9%E7%AB%A0-%E5%83%B5%E5%B0%B8%E7%9A%84%E8%BE%93%E8%B5%A2"><span class="toc-text">ç¬¬9ç« : åƒµå°¸çš„è¾“èµ¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC10%E7%AB%A0-%E5%83%B5%E5%B0%B8%E8%83%9C%E5%88%A9%E4%BA%86-%F0%9F%98%84"><span class="toc-text">ç¬¬10ç« : åƒµå°¸èƒœåˆ©äº† ğŸ˜„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC11%E7%AB%A0-%E5%83%B5%E5%B0%B8%E5%A4%B1%E8%B4%A5-%F0%9F%98%9E"><span class="toc-text">ç¬¬11ç« : åƒµå°¸å¤±è´¥ ğŸ˜</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lesson5-ERC721-%E6%A0%87%E5%87%86%E5%92%8C%E5%8A%A0%E5%AF%86%E6%94%B6%E8%97%8F%E5%93%81"><span class="toc-text">lesson5 ERC721 æ ‡å‡†å’ŒåŠ å¯†æ”¶è—å“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC1%E7%AB%A0-%E4%BB%A5%E5%A4%AA%E5%9D%8A%E4%B8%8A%E7%9A%84%E4%BB%A3%E5%B8%81"><span class="toc-text">ç¬¬1ç« : ä»¥å¤ªåŠä¸Šçš„ä»£å¸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC2%E7%AB%A0-ERC721-%E6%A0%87%E5%87%86-%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF"><span class="toc-text">ç¬¬2ç« : ERC721 æ ‡å‡†, å¤šé‡ç»§æ‰¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC3%E7%AB%A0-balanceOf-%E5%92%8C-ownerOf"><span class="toc-text">ç¬¬3ç« : balanceOf å’Œ ownerOf</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC4%E7%AB%A0-%E9%87%8D%E6%9E%84"><span class="toc-text">ç¬¬4ç« : é‡æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC5%E7%AB%A0-ERC721-%E8%BD%AC%E7%A7%BB%E6%A0%87%E5%87%86"><span class="toc-text">ç¬¬5ç« : ERC721: è½¬ç§»æ ‡å‡†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC6%E7%AB%A0-ERC721-%E8%BD%AC%E7%A7%BB-%E7%BB%AD"><span class="toc-text">ç¬¬6ç« : ERC721: è½¬ç§»-ç»­</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC7%E7%AB%A0-ERC721-%E6%89%B9%E5%87%86"><span class="toc-text">ç¬¬7ç« : ERC721: æ‰¹å‡†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC8%E7%AB%A0-ERC721-takeOwnership"><span class="toc-text">ç¬¬8ç« : ERC721: takeOwnership</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC9%E7%AB%A0-%E9%A2%84%E9%98%B2%E6%BA%A2%E5%87%BA"><span class="toc-text">ç¬¬9ç« : é¢„é˜²æº¢å‡º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC10%E7%AB%A0-SafeMath-%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86"><span class="toc-text">ç¬¬10ç« : SafeMath ç¬¬äºŒéƒ¨åˆ†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC11%E7%AB%A0-SafeMath-%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86"><span class="toc-text">ç¬¬11ç« : SafeMath ç¬¬ä¸‰éƒ¨åˆ†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC12%E7%AB%A0-SafeMath-%E7%AC%AC4%E9%83%A8%E5%88%86"><span class="toc-text">ç¬¬12ç« : SafeMath ç¬¬4éƒ¨åˆ†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC13%E7%AB%A0-%E6%B3%A8%E9%87%8A"><span class="toc-text">ç¬¬13ç« : æ³¨é‡Š</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B"><span class="toc-text">æ€»ç»“ä¸€ä¸‹</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lesson6-%E5%BA%94%E7%94%A8%E5%89%8D%E7%AB%AF%E5%92%8C-Web3-js"><span class="toc-text">lesson6 åº”ç”¨å‰ç«¯å’Œ Web3.js</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC1%E7%AB%A0-%E4%BB%8B%E7%BB%8D-Web3-js"><span class="toc-text">ç¬¬1ç« : ä»‹ç» Web3.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC2%E7%AB%A0-Web3-%E6%8F%90%E4%BE%9B%E8%80%85"><span class="toc-text">ç¬¬2ç« : Web3 æä¾›è€…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC3%E7%AB%A0-%E5%92%8C%E5%90%88%E7%BA%A6%E5%AF%B9%E8%AF%9D"><span class="toc-text">ç¬¬3ç« : å’Œåˆçº¦å¯¹è¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC4%E7%AB%A0-%E8%B0%83%E7%94%A8%E5%92%8C%E5%90%88%E7%BA%A6%E5%87%BD%E6%95%B0"><span class="toc-text">ç¬¬4ç« : è°ƒç”¨å’Œåˆçº¦å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC5%E7%AB%A0-MetaMask-%E5%92%8C%E8%B4%A6%E6%88%B7"><span class="toc-text">ç¬¬5ç« : MetaMask å’Œè´¦æˆ·</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#openzeppelin%E6%94%BB%E9%98%B2%E6%8C%91%E6%88%98"><span class="toc-text">openzeppelinæ”»é˜²æŒ‘æˆ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Hello-Ethernaut"><span class="toc-text">1 Hello Ethernaut</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Fallback"><span class="toc-text">2 Fallback</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Fallout"><span class="toc-text">3 Fallout</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E6%9C%8813%E6%97%A5"><span class="toc-text">8æœˆ13æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91-1"><span class="toc-text">æ™ºèƒ½åˆçº¦å¼€å‘</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Dapp-%E6%9E%B6%E6%9E%84%E5%92%8C%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B-1"><span class="toc-text">Dapp æ¶æ„å’Œå¼€å‘æµç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Dapp-%E6%9E%B6%E6%9E%84-1"><span class="toc-text">Dapp æ¶æ„</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Dapp-%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B-1"><span class="toc-text">Dapp å¼€å‘æµç¨‹</span></a></li></ol></li></ol></li></ol></li></ol></li></ol>
      
  </div>
</div>
</div>
          <div class="sidebar-common-sidebar hidden"><div class="sidebar-author">
  <img data-src="/avatar/avatar.webp" data-sizes="auto" alt="mX1@0" class="lazyload">
  <div class="sidebar-author-name">mX1@0</div>
  <div class="sidebar-description"></div>
</div>
<div class="sidebar-state">
  <div class="sidebar-state-article">
    <div>Post</div>
    <div class="sidebar-state-number">64</div>
  </div>
  <div class="sidebar-state-category">
    <div>Category</div>
    <div class="sidebar-state-number">18</div>
  </div>
  <div class="sidebar-state-tag">
    <div>Tag</div>
    <div class="sidebar-state-number">24</div>
  </div>
</div>
<div class="sidebar-social">
  
    <div class="icon-twitter sidebar-social-icon">
      <a href=https://x.com/0xMx1a0 itemprop="url" target="_blank" aria-label="twitter" rel="noopener external nofollow noreferrer"></a>
    </div>
  
</div>
<div class="sidebar-menu">
  
    
      <div class="sidebar-menu-link-wrap">
        <a class="sidebar-menu-link-dummy" href="/" aria-label="é¦–é¡µ"></a>
        <div class="sidebar-menu-icon icon rotate">
          
            &#xe62b;
          
        </div>
        <div class="sidebar-menu-link">é¦–é¡µ</div>
      </div>
    
      <div class="sidebar-menu-link-wrap">
        <a class="sidebar-menu-link-dummy" href="/archives" aria-label="å½’ç±»"></a>
        <div class="sidebar-menu-icon icon rotate">
          
            &#xe62b;
          
        </div>
        <div class="sidebar-menu-link">å½’ç±»</div>
      </div>
    
      <div class="sidebar-menu-link-wrap">
        <a class="sidebar-menu-link-dummy" href="/about" aria-label="å…³äº"></a>
        <div class="sidebar-menu-icon icon rotate">
          
            &#xe62b;
          
        </div>
        <div class="sidebar-menu-link">å…³äº</div>
      </div>
    
      <div class="sidebar-menu-link-wrap">
        <a class="sidebar-menu-link-dummy" href="/friend" aria-label="å‹é“¾"></a>
        <div class="sidebar-menu-icon icon rotate">
          
            &#xe62b;
          
        </div>
        <div class="sidebar-menu-link">å‹é“¾</div>
      </div>
    
  
</div>
</div>
        
      
      
        
          <div class="sidebar-btn-wrapper" style="position:static">
            <div class="sidebar-toc-btn current"></div>
            <div class="sidebar-common-btn"></div>
          </div>
        
      
    </div>
  </div>

  <div class="sidebar-widget">
  
  </div>
  
</aside>

          <section id="main"><article id="post-Web3 å®ä¹ è®¡åˆ’ - 2025 å¤å­£" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner" data-aos="fade-up">
    <div class="article-meta">
      <div class="article-date">
  <span class="article-date-link" data-aos="zoom-in">
    <time datetime="2025-08-04T12:34:47.066Z" itemprop="datePublished">2025-08-04</time>
    <time style="display: none;" id="post-update-time">2025-08-13</time>
  </span>
</div>

      

    </div>
    <div class="hr-line"></div>
    

    <div class="e-content article-entry" itemprop="articleBody">
      
      
        <h1 id="Web3-å®ä¹ è®¡åˆ’-2025-å¤å­£"><a href="#Web3-å®ä¹ è®¡åˆ’-2025-å¤å­£" class="headerlink" title="Web3 å®ä¹ è®¡åˆ’ - 2025 å¤å­£"></a>Web3 å®ä¹ è®¡åˆ’ - 2025 å¤å­£</h1><p>åœ¨è¿™ä¸ªWeb3å®ä¹ è®¡åˆ’ä¹‹å‰ï¼Œå…¶å®æˆ‘å­¦è¿‡ä¸€äº›åŒºå—é“¾çš„å†…å®¹ï¼Œä½†æ˜¯ä¹Ÿä»…ä»…æ˜¯çŸ¥é“ä¸€äº›æ¦‚å¿µæ€§çš„ä¸œè¥¿ï¼Œä¾‹å¦‚ï¼ŒPoWã€PoSã€defiç­‰ä¸€äº›æ¦‚å¿µï¼Œæ‰€ä»¥å‚åŠ è¿™ä¸ªå®ä¹ è®¡åˆ’ä¹Ÿæ˜¯ä¸ºäº†æ›´æ·±å…¥çš„å­¦ä¹ Web3çš„å†…å®¹ï¼Œæ¥ä¸‹æ¥æ˜¯æˆ‘çš„æ¯æ—¥å­¦ä¹ ç¬”è®°</p>
<h1 id="8æœˆ4æ—¥"><a href="#8æœˆ4æ—¥" class="headerlink" title="8æœˆ4æ—¥"></a>8æœˆ4æ—¥</h1><h2 id="åŒºå—é“¾åŸºç¡€æ¦‚å¿µ"><a href="#åŒºå—é“¾åŸºç¡€æ¦‚å¿µ" class="headerlink" title="åŒºå—é“¾åŸºç¡€æ¦‚å¿µ"></a>åŒºå—é“¾åŸºç¡€æ¦‚å¿µ</h2><h3 id="åŒºå—é“¾ä»‹ç»"><a href="#åŒºå—é“¾ä»‹ç»" class="headerlink" title="åŒºå—é“¾ä»‹ç»"></a>åŒºå—é“¾ä»‹ç»</h3><p>åŒºå—é“¾æ˜¯ä¸€ç§<strong>å»ä¸­å¿ƒåŒ–</strong>çš„<strong>åˆ†å¸ƒå¼è´¦æœ¬</strong>æŠ€æœ¯ï¼Œç”¨äºåœ¨ç½‘ç»œèŠ‚ç‚¹ä¹‹é—´å®‰å…¨ã€é€æ˜ä¸”ä¸å¯ç¯¡æ”¹åœ°è®°å½•äº‹åŠ¡æ•°æ®</p>
<ul>
<li>å»ä¸­å¿ƒåŒ–ï¼šåŒºå—é“¾ç½‘ç»œé€šå¸¸åˆ†å¸ƒåœ¨å…¨çƒï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å°†ä¼šå­˜å‚¨ä¸€ä»½ç›¸åŒçš„åŒºå—é“¾æ•°æ®ã€‚æ²¡æœ‰äººèƒ½å¤Ÿæ§åˆ¶å…¨éƒ¨çš„èŠ‚ç‚¹ï¼Œå› æ­¤è¿™ä»½åŒºå—é“¾æ•°æ®å°†ä¼šä¸€ç›´å­˜åœ¨ã€‚</li>
</ul>
<h3 id="åŒºå—é“¾ç‰¹æ€§"><a href="#åŒºå—é“¾ç‰¹æ€§" class="headerlink" title="åŒºå—é“¾ç‰¹æ€§"></a>åŒºå—é“¾ç‰¹æ€§</h3><ol>
<li>ä¸å¯ç¯¡æ”¹</li>
</ol>
<p>ä½ æ— æ³•æ”¹å˜å†å²ä¿¡æ¯ï¼Œå› ä¸ºæ¯ä¸ªåŒºå—åŒ…å«äº†ä¸Šä¸€ä¸ªåŒºå—çš„æ‘˜è¦å¹¶ä¸²è”èµ·æ¥ï¼Œå¦‚æœä½ ä¿®æ”¹äº†å†å²çš„åŒºå—ï¼Œä½ å°†å¿…é¡»ä¿®æ”¹åé¢çš„å…¨éƒ¨åŒºå—ã€‚æ‰€ä»¥äº¤æ˜“ä¸€æ—¦ä¸Šé“¾ï¼Œå°±æ— æ³•å†æ›´æ”¹</p>
<ol start="2">
<li>å…¬å¼€é€æ˜ã€åŒ¿å</li>
</ol>
<p>åœ¨åŒºå—é“¾ä¸Šçš„ä¿¡æ¯å…¨éƒ¨å…¬å¼€é€æ˜ã€‚æ¯ä¸ªäººéƒ½å¯ä»¥é¡ºç€åŒºå—å’Œé“¾æ‰¾åˆ°å†å²ä¸Šæ‰€æœ‰çš„è®°å½•æ¥æŸ¥çœ‹ä½ çš„é’±åŒ…ä½™é¢ã€‚å¯ä»¥åœ¨åŒºå—é“¾æµè§ˆå™¨ä¸Šè¿›è¡ŒæŸ¥çœ‹</p>
<ol start="3">
<li>å¿«é€Ÿäº¤æ˜“</li>
</ol>
<p>æ— è®ºé‡‘é¢å¤šå°‘ä»¥åŠä½ åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œåªè¦ä½ çš„äº¤æ˜“è®°å½•è¢«æ‰“åŒ…åœ¨åŒºå—é“¾ä¸­ï¼Œäº¤æ˜“å°±è‡ªåŠ¨å®Œæˆã€‚ç›¸æ¯”ä¼ ç»Ÿçš„è·¨å›½æ±‡æ¬¾éå¸¸å¿«é€Ÿä¾¿æ·</p>
<h3 id="åŒºå—é“¾çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†"><a href="#åŒºå—é“¾çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†" class="headerlink" title="åŒºå—é“¾çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†"></a>åŒºå—é“¾çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†</h3><h4 id="å»ä¸­å¿ƒåŒ–çš„ç½‘ç»œå’ŒåŒºå—é“¾"><a href="#å»ä¸­å¿ƒåŒ–çš„ç½‘ç»œå’ŒåŒºå—é“¾" class="headerlink" title="å»ä¸­å¿ƒåŒ–çš„ç½‘ç»œå’ŒåŒºå—é“¾"></a><strong>å»ä¸­å¿ƒåŒ–çš„ç½‘ç»œå’ŒåŒºå—é“¾</strong></h4><p>åŒºå—é“¾å°†ä¼šæœ‰ä¸€æ¡é“¾æ¥è®°å½•å…¨éƒ¨çš„ä¿¡æ¯ï¼Œè¿™æ¡é“¾å°†å­˜åœ¨å¯¹åº”çš„å»ä¸­å¿ƒåŒ–ç½‘ç»œä¸­ã€‚ å»ä¸­å¿ƒåŒ–çš„ç½‘ç»œï¼Œå°†ç”±æ— æ•°èŠ‚ç‚¹æä¾›æœåŠ¡æ¥ç»´æŒç½‘ç»œè¿è¡Œã€‚èŠ‚ç‚¹é€šè¿‡è®¡ç®—éªŒè¯äº¤æ˜“è·å¾—ä»£å¸å¥–åŠ±</p>
<h4 id="ç»´æŒç½‘ç»œè¿è¡Œçš„ä»£å¸æ¿€åŠ±"><a href="#ç»´æŒç½‘ç»œè¿è¡Œçš„ä»£å¸æ¿€åŠ±" class="headerlink" title="ç»´æŒç½‘ç»œè¿è¡Œçš„ä»£å¸æ¿€åŠ±"></a><strong>ç»´æŒç½‘ç»œè¿è¡Œçš„ä»£å¸æ¿€åŠ±</strong></h4><p>å»ä¸­å¿ƒåŒ–çš„ç½‘ç»œç”±æ— æ•°èŠ‚ç‚¹æä¾›æœåŠ¡æ¥ç»´æŒç½‘ç»œè¿è¡Œï¼Œæ•´åˆåŒºå—å¹¶åˆå¹¶åˆ°é“¾ä¸Šçš„æ“ä½œç§°ä¸º<strong>æŒ–çŸ¿</strong>ã€‚ç»´æŒè¿™äº›æœåŠ¡çš„äººä¸€èˆ¬ç§°ä¹‹ä¸º<strong>çŸ¿å·¥</strong>ã€‚çŸ¿å·¥ä»¬ç»´æŒç½‘ç»œè¿è¡Œä¼šå¾—åˆ°ä»£å¸å¥–åŠ±ä»¥åŠç‡ƒæ–™è´¹ï¼ˆGas Feeï¼‰ã€‚ ä½ ä½¿ç”¨è¿™ä¸ªç½‘ç»œè¿›è¡Œäº¤æ˜“ã€è½¬è´¦ã€é“¸é€  NFT ç­‰ç­‰ï¼Œå‡éœ€è¦æ”¯ä»˜ä»£å¸</p>
<h3 id="å…¬é“¾-ç§é“¾-è”ç›Ÿé“¾"><a href="#å…¬é“¾-ç§é“¾-è”ç›Ÿé“¾" class="headerlink" title="å…¬é“¾ ç§é“¾ è”ç›Ÿé“¾"></a>å…¬é“¾ ç§é“¾ è”ç›Ÿé“¾</h3><p>åŒºå—é“¾æ ¹æ®è®¿é—®æƒé™ä¸æ²»ç†æ¨¡å¼ï¼Œå¤§è‡´å¯åˆ†ä¸ºä¸‰ç±»ã€‚æŒ‰ç…§å»ä¸­å¿ƒåŒ–ç¨‹åº¦ä»é«˜åˆ°ä½æ’åˆ—</p>
<p><img src="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-04%20205327.png"></p>
<h4 id="å…¬é“¾ï¼ˆPublic-Blockchainï¼‰"><a href="#å…¬é“¾ï¼ˆPublic-Blockchainï¼‰" class="headerlink" title="å…¬é“¾ï¼ˆPublic Blockchainï¼‰"></a>å…¬é“¾ï¼ˆPublic Blockchainï¼‰</h4><ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼š<ul>
<li><strong>å®Œå…¨å¼€æ”¾</strong>ï¼šä»»ä½•äººå¯å‚ä¸è¯»å†™ã€éªŒè¯äº¤æ˜“æˆ–æˆä¸ºèŠ‚ç‚¹ã€‚</li>
<li><strong>å»ä¸­å¿ƒåŒ–</strong>ï¼šæ— å•ä¸€æ§åˆ¶æ–¹ï¼Œæ•°æ®å…¬å¼€é€æ˜ï¼Œä¸å¯ç¯¡æ”¹ã€‚</li>
<li><strong>æ¿€åŠ±æœºåˆ¶</strong>ï¼šé€šå¸¸é€šè¿‡ä»£å¸ï¼ˆå¦‚æ¯”ç‰¹å¸ã€ä»¥å¤ªåŠï¼‰å¥–åŠ±çŸ¿å·¥/éªŒè¯è€…ã€‚</li>
<li><strong>æ€§èƒ½è¾ƒä½</strong>ï¼šå› å…±è¯†æœºåˆ¶ï¼ˆå¦‚PoWã€PoSï¼‰éœ€å…¨å±€èŠ‚ç‚¹éªŒè¯ï¼Œäº¤æ˜“é€Ÿåº¦è¾ƒæ…¢ã€‚</li>
</ul>
</li>
<li><strong>å…¸å‹åº”ç”¨</strong>ï¼š<ul>
<li>åŠ å¯†è´§å¸ï¼ˆæ¯”ç‰¹å¸ã€ä»¥å¤ªåŠï¼‰ã€‚</li>
<li>å»ä¸­å¿ƒåŒ–åº”ç”¨ï¼ˆDAppï¼‰ã€DeFiã€NFTç­‰å¼€æ”¾ç”Ÿæ€ã€‚</li>
</ul>
</li>
<li><strong>ä»£è¡¨æ¡ˆä¾‹</strong>ï¼š<br>  Bitcoinã€Ethereumã€Solanaã€‚</li>
</ul>
<h4 id="ç§é“¾ï¼ˆPrivate-Blockchainï¼‰"><a href="#ç§é“¾ï¼ˆPrivate-Blockchainï¼‰" class="headerlink" title="ç§é“¾ï¼ˆPrivate Blockchainï¼‰"></a>ç§é“¾ï¼ˆPrivate Blockchainï¼‰</h4><ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼š<ul>
<li><strong>æƒé™å°é—­</strong>ï¼šç”±å•ä¸€ç»„ç»‡æˆ–å®ä½“æ§åˆ¶ï¼Œå‚ä¸è€…éœ€æˆæƒã€‚</li>
<li><strong>ä¸­å¿ƒåŒ–</strong>ï¼šèŠ‚ç‚¹ç”±ç®¡ç†è€…æŒ‡å®šï¼Œäº¤æ˜“éªŒè¯æ•ˆç‡é«˜ã€‚</li>
<li><strong>éšç§æ€§å¼º</strong>ï¼šæ•°æ®ä»…å¯¹æˆæƒæ–¹å¯è§ï¼Œé€‚åˆä¼ä¸šå†…éƒ¨ä½¿ç”¨ã€‚</li>
<li><strong>æ— ä»£å¸æ¿€åŠ±</strong>ï¼šé€šå¸¸æ— éœ€æŒ–çŸ¿ï¼ŒèŠ‚ç‚¹ç”±ç»„ç»‡è‡ªè¡Œç»´æŠ¤ã€‚</li>
</ul>
</li>
<li><strong>å…¸å‹åº”ç”¨</strong>ï¼š<ul>
<li>ä¼ä¸šæ•°æ®ç®¡ç†ã€å†…éƒ¨å®¡è®¡ã€ä¾›åº”é“¾è¿½è¸ªç­‰ã€‚</li>
<li>å¯¹éšç§å’Œæ•ˆç‡è¦æ±‚é«˜çš„å°é—­åœºæ™¯ã€‚</li>
</ul>
</li>
<li><strong>ä»£è¡¨æ¡ˆä¾‹</strong>ï¼š<br>  Hyperledger Fabricï¼ˆå¯é…ç½®ä¸ºç§é“¾ï¼‰ã€R3 Cordaã€‚</li>
</ul>
<h4 id="è”ç›Ÿé“¾ï¼ˆConsortium-Blockchainï¼‰"><a href="#è”ç›Ÿé“¾ï¼ˆConsortium-Blockchainï¼‰" class="headerlink" title="è”ç›Ÿé“¾ï¼ˆConsortium Blockchainï¼‰"></a>è”ç›Ÿé“¾ï¼ˆConsortium Blockchainï¼‰</h4><ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼š<ul>
<li><strong>éƒ¨åˆ†å»ä¸­å¿ƒåŒ–</strong>ï¼šç”±å¤šä¸ªç»„ç»‡è”åˆç®¡ç†ï¼ˆå¦‚é“¶è¡Œã€ä¼ä¸šè”ç›Ÿï¼‰ã€‚</li>
<li><strong>å‡†å…¥æœºåˆ¶</strong>ï¼šèŠ‚ç‚¹éœ€è®¸å¯åŠ å…¥ï¼Œä½†å‚ä¸è€…é—´å¹³ç­‰åä½œã€‚</li>
<li><strong>å¹³è¡¡æ•ˆç‡ä¸ä¿¡ä»»</strong>ï¼šå…±è¯†æœºåˆ¶ï¼ˆå¦‚PBFTï¼‰æ¯”å…¬é“¾æ›´å¿«ï¼Œå…¼é¡¾ä¸€å®šé€æ˜åº¦ã€‚</li>
<li><strong>éƒ¨åˆ†å…¬å¼€</strong>ï¼šæ•°æ®å¯å¯¹æˆå‘˜å…±äº«ï¼Œå¯¹å¤–ä¿å¯†ã€‚</li>
</ul>
</li>
<li><strong>å…¸å‹åº”ç”¨</strong>ï¼š<ul>
<li>è·¨æœºæ„ä¸šåŠ¡ï¼ˆè·¨å¢ƒæ”¯ä»˜ã€è´¸æ˜“é‡‘èï¼‰ã€‚</li>
<li>è¡Œä¸šåä½œï¼ˆç‰©æµã€åŒ»ç–—æ•°æ®å…±äº«ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>ä»£è¡¨æ¡ˆä¾‹</strong>ï¼š<br>  Hyperledger Fabricã€FISCO BCOSã€Quorumã€‚</li>
</ul>
<h4 id="å¯¹æ¯”æ€»ç»“"><a href="#å¯¹æ¯”æ€»ç»“" class="headerlink" title="å¯¹æ¯”æ€»ç»“"></a>å¯¹æ¯”æ€»ç»“</h4><table>
<thead>
<tr>
<th align="left"><strong>ç»´åº¦</strong></th>
<th align="left"><strong>å…¬é“¾</strong></th>
<th align="left"><strong>è”ç›Ÿé“¾</strong></th>
<th align="left"><strong>ç§é“¾</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>æ§åˆ¶æƒ</strong></td>
<td align="left">æ— ä¸­å¿ƒä¸»ä½“</td>
<td align="left">å¤šç»„ç»‡å…±åŒæ²»ç†</td>
<td align="left">å•ä¸€ç»„ç»‡æ§åˆ¶</td>
</tr>
<tr>
<td align="left"><strong>å‚ä¸æƒé™</strong></td>
<td align="left">å®Œå…¨å¼€æ”¾</td>
<td align="left">éœ€è®¸å¯åŠ å…¥</td>
<td align="left">ä¸¥æ ¼æˆæƒ</td>
</tr>
<tr>
<td align="left"><strong>é€æ˜åº¦</strong></td>
<td align="left">å…¨ç½‘å…¬å¼€</td>
<td align="left">æˆå‘˜é—´é€æ˜</td>
<td align="left">ä»…å†…éƒ¨å¯è§</td>
</tr>
<tr>
<td align="left"><strong>æ€§èƒ½</strong></td>
<td align="left">ä½ï¼ˆTPSä½ï¼Œå»¶è¿Ÿé«˜ï¼‰</td>
<td align="left">ä¸­ï¼ˆä¼˜åŒ–å…±è¯†æœºåˆ¶ï¼‰</td>
<td align="left">é«˜ï¼ˆä¸­å¿ƒåŒ–å¤„ç†ï¼‰</td>
</tr>
<tr>
<td align="left"><strong>ç”¨ä¾‹</strong></td>
<td align="left">åŠ å¯†è´§å¸ã€å¼€æ”¾ç”Ÿæ€</td>
<td align="left">è·¨æœºæ„åä½œ</td>
<td align="left">ä¼ä¸šå†…éƒ¨ç®¡ç†</td>
</tr>
</tbody></table>
<h4 id="é€‰æ‹©ä¾æ®"><a href="#é€‰æ‹©ä¾æ®" class="headerlink" title="é€‰æ‹©ä¾æ®"></a>é€‰æ‹©ä¾æ®</h4><ul>
<li><strong>å…¬é“¾</strong>ï¼šé€‚åˆéœ€è¦å®Œå…¨å»ä¸­å¿ƒåŒ–å’Œä¿¡ä»»é€æ˜çš„åœºæ™¯ã€‚</li>
<li><strong>è”ç›Ÿé“¾</strong>ï¼šé€‚åˆå¤šç»„ç»‡åä½œä¸”éœ€å¹³è¡¡æ•ˆç‡ä¸éšç§çš„è¡Œä¸šã€‚</li>
<li><strong>ç§é“¾</strong>ï¼šé€‚åˆå•ä¸€ç»„ç»‡è¿½æ±‚é«˜æ•ˆå¯æ§çš„ç§æœ‰åŒ–åº”ç”¨ã€‚</li>
</ul>
<h1 id="8æœˆ5æ—¥"><a href="#8æœˆ5æ—¥" class="headerlink" title="8æœˆ5æ—¥"></a>8æœˆ5æ—¥</h1><table>
<thead>
<tr>
<th>ä»Šæ—¥å­¦ä¹ å†…å®¹</th>
</tr>
</thead>
<tbody><tr>
<td>ä»¥å¤ªåŠæ¦‚è§ˆ</td>
</tr>
<tr>
<td>unphishableé’“é±¼æ”»é˜²æŒ‘æˆ˜-åˆçº§</td>
</tr>
</tbody></table>
<h2 id="ä»¥å¤ªåŠæ¦‚è§ˆ"><a href="#ä»¥å¤ªåŠæ¦‚è§ˆ" class="headerlink" title="ä»¥å¤ªåŠæ¦‚è§ˆ"></a>ä»¥å¤ªåŠæ¦‚è§ˆ</h2><h3 id="ä»¥å¤ªåŠä»‹ç»"><a href="#ä»¥å¤ªåŠä»‹ç»" class="headerlink" title="ä»¥å¤ªåŠä»‹ç»"></a>ä»¥å¤ªåŠä»‹ç»</h3><p>ä»¥å¤ªåŠï¼ˆEthereumï¼‰è¢«ç§°ä¸ºâ€œåŒºå—é“¾ 2.0â€ï¼Œå®ƒä¸ä»…æ˜¯ä¸€ç§åŠ å¯†è´§å¸ï¼ˆä»¥å¤ªå¸ ETHï¼‰ï¼Œæ›´æ˜¯ä¸€å°æ”¯æŒæ™ºèƒ½åˆçº¦çš„â€œå…¨çƒå…±äº«è®¡ç®—æœºâ€ã€‚é€šè¿‡ä»£ç è‡ªåŠ¨æ‰§è¡Œè§„åˆ™ï¼Œå¼€å‘è€…å¯ä»¥åœ¨åŒºå—é“¾ä¸Šæ„å»ºå»ä¸­å¿ƒåŒ–é‡‘èï¼ˆDeFiï¼‰ã€æ•°å­—è‰ºæœ¯å“ï¼ˆNFTï¼‰å’Œå»ä¸­å¿ƒåŒ–è‡ªæ²»ç»„ç»‡ï¼ˆDAOï¼‰ç­‰åˆ›æ–°åº”ç”¨ï¼Œæ— éœ€ä¾èµ–é“¶è¡Œæˆ–ä¸­å¿ƒåŒ–å¹³å°ã€‚</p>
<p>ä»¥å¤ªåŠçš„æ ¸å¿ƒåˆ›æ–°åœ¨äº <strong>æ™ºèƒ½åˆçº¦</strong>ï¼ˆSmart Contractsï¼‰ ã€‚<u>æ™ºèƒ½åˆçº¦æ˜¯å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šçš„å¯æ‰§è¡Œä»£ç ï¼Œèƒ½å¤Ÿåœ¨æ»¡è¶³é¢„è®¾æ¡ä»¶æ—¶è‡ªåŠ¨æ‰§è¡Œæ“ä½œï¼Œæ— éœ€äººå·¥å¹²é¢„</u>ã€‚è¿™ä¸€ç‰¹æ€§ä½¿å¾—ä»¥å¤ªåŠä¸ä»…æ˜¯æ•°å­—è´§å¸çš„è½½ä½“ï¼Œæ›´æ˜¯æ„å»ºå»ä¸­å¿ƒåŒ–åº”ç”¨ï¼ˆDappsï¼‰ã€å»ä¸­å¿ƒåŒ–é‡‘èï¼ˆDeFiï¼‰ã€éåŒè´¨åŒ–ä»£å¸ï¼ˆNFTï¼‰ç­‰ç”Ÿæ€ç³»ç»Ÿçš„åŸºç¡€è®¾æ–½ã€‚</p>
<h3 id="Ethereum-ä¸-Bitcoin-çš„å·®å¼‚"><a href="#Ethereum-ä¸-Bitcoin-çš„å·®å¼‚" class="headerlink" title="Ethereum ä¸ Bitcoin çš„å·®å¼‚"></a>Ethereum ä¸ Bitcoin çš„å·®å¼‚</h3><table>
<thead>
<tr>
<th align="center">ç»´åº¦</th>
<th align="left">æ¯”ç‰¹å¸ï¼ˆBitcoinï¼‰</th>
<th align="left">ä»¥å¤ªåŠï¼ˆEthereumï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>ç›®æ ‡ä¸å®šä½</strong></td>
<td align="left">å»ä¸­å¿ƒåŒ–çš„<strong>æ•°å­—è´§å¸</strong>ï¼Œå¼ºè°ƒå®‰å…¨ã€ç¨³å®šå’Œç¨€ç¼ºæ€§ï¼ˆæ€»é‡ 2100 ä¸‡æšï¼‰</td>
<td align="left">å»ä¸­å¿ƒåŒ–å¹³å°ï¼Œæ”¯æŒ<strong>æ™ºèƒ½åˆçº¦</strong>å’Œ Dappsï¼Œå®šä½ä¸ºâ€œåŒºå—é“¾ 2.0â€</td>
</tr>
<tr>
<td align="center"><strong>ç¼–ç¨‹èƒ½åŠ›</strong></td>
<td align="left">è„šæœ¬è¯­è¨€æœ‰é™ï¼Œä»…æ”¯æŒç®€å•çš„äº¤æ˜“éªŒè¯é€»è¾‘</td>
<td align="left">å›¾çµå®Œå¤‡çš„ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚ Solidityï¼‰ï¼Œå¯å¼€å‘å¤æ‚æ™ºèƒ½åˆçº¦</td>
</tr>
<tr>
<td align="center"><strong>å…±è¯†æœºåˆ¶</strong></td>
<td align="left">å·¥ä½œé‡è¯æ˜ï¼ˆPoWï¼‰ï¼ŒçŸ¿å·¥é€šè¿‡ç®—åŠ›ç«äº‰è®°è´¦æƒ</td>
<td align="left">ä» PoW è½¬å‘æƒç›Šè¯æ˜ï¼ˆPoSï¼‰ï¼Œé€šè¿‡ The Merge å®ç°èƒ½æºæ•ˆç‡ä¼˜åŒ–</td>
</tr>
<tr>
<td align="center"><strong>äº¤æ˜“é€Ÿåº¦</strong></td>
<td align="left">æ¯ 10 åˆ†é’Ÿç”Ÿæˆä¸€ä¸ªåŒºå—ï¼Œäº¤æ˜“ç¡®è®¤è¾ƒæ…¢</td>
<td align="left">åŒºå—æ—¶é—´çº¦ 12 ç§’ï¼Œäº¤æ˜“ç¡®è®¤æ›´å¿«ï¼Œé€‚åˆé«˜é¢‘åº”ç”¨</td>
</tr>
<tr>
<td align="center"><strong>ç»æµæ¨¡å‹</strong></td>
<td align="left">æ€»é‡å›ºå®šï¼Œå¼ºè°ƒæŠ—é€šèƒ€å±æ€§</td>
<td align="left">ä¾›åº”çµæ´»ï¼Œé€šè¿‡ EIP-1559 ç­‰æœºåˆ¶å¯èƒ½å‘ˆç°é€šç¼©è¶‹åŠ¿</td>
</tr>
</tbody></table>
<h3 id="ä»¥å¤ªåŠçš„å®šä½ä¸æ¼”è¿›"><a href="#ä»¥å¤ªåŠçš„å®šä½ä¸æ¼”è¿›" class="headerlink" title="ä»¥å¤ªåŠçš„å®šä½ä¸æ¼”è¿›"></a>ä»¥å¤ªåŠçš„å®šä½ä¸æ¼”è¿›</h3><h4 id="ä»¥å¤ªåŠ1-0ï¼ˆPoWé˜¶æ®µï¼‰"><a href="#ä»¥å¤ªåŠ1-0ï¼ˆPoWé˜¶æ®µï¼‰" class="headerlink" title="ä»¥å¤ªåŠ1.0ï¼ˆPoWé˜¶æ®µï¼‰"></a>ä»¥å¤ªåŠ1.0ï¼ˆPoWé˜¶æ®µï¼‰</h4><p>è¿™ä¸ªé˜¶æ®µå°±æ˜¯æŒ–çŸ¿ï¼Œå’Œæ¯”ç‰¹å¸çš„æœºåˆ¶ç›¸åŒï¼ŒåŒæ ·çš„æ¶ˆè€—ç”µåŠ›å’Œå¤„ç†äº¤æ˜“é€Ÿåº¦æ…¢ã€è´¹ç”¨é«˜</p>
<h4 id="ä»¥å¤ªåŠ2-0ä¸The-Mergeï¼šä»åŒé“¾å¹¶è¡Œåˆ°å®Œç¾åˆå¹¶"><a href="#ä»¥å¤ªåŠ2-0ä¸The-Mergeï¼šä»åŒé“¾å¹¶è¡Œåˆ°å®Œç¾åˆå¹¶" class="headerlink" title="ä»¥å¤ªåŠ2.0ä¸The Mergeï¼šä»åŒé“¾å¹¶è¡Œåˆ°å®Œç¾åˆå¹¶"></a>ä»¥å¤ªåŠ2.0ä¸The Mergeï¼šä»åŒé“¾å¹¶è¡Œåˆ°å®Œç¾åˆå¹¶</h4><blockquote>
<p><strong>The Merge å®Œæ•´æ•…äº‹</strong>ï¼š</p>
<ol>
<li><p><strong>2020 å¹´ 12 æœˆï¼šä¿¡æ ‡é“¾å¯åŠ¨</strong></p>
<p> ä»¥å¤ªåŠå›¢é˜Ÿé¦–å…ˆåˆ›å»ºäº†ä¸€æ¡å…¨æ–°çš„<strong>ä¿¡æ ‡é“¾ï¼ˆBeacon Chainï¼‰</strong>ï¼Œä¸“é—¨è¿è¡Œ PoS å…±è¯†æœºåˆ¶ã€‚æ­¤æ—¶ï¼š</p>
<ul>
<li>ä»¥å¤ªåŠä¸»ç½‘ç»§ç»­ä½¿ç”¨ PoW æŒ–çŸ¿</li>
<li>ä¿¡æ ‡é“¾ç‹¬ç«‹è¿è¡Œ PoS éªŒè¯</li>
<li>ä¸¤æ¡é“¾å¹¶è¡Œå­˜åœ¨ï¼Œäº’ä¸å¹²æ‰°</li>
</ul>
</li>
<li><p><strong>2022 å¹´ 9 æœˆï¼šå†å²æ€§åˆå¹¶</strong></p>
<p> 2022 å¹´ 9 æœˆ 15 æ—¥ï¼Œ<strong>The Merge</strong> å‘ç”Ÿï¼š</p>
<ul>
<li>ä»¥å¤ªåŠä¸»ç½‘â€œå…³é—­â€äº† PoW æŒ–çŸ¿å¼•æ“</li>
<li>å°†å…±è¯†æœºåˆ¶â€œæ’æ¥â€åˆ°ä¿¡æ ‡é“¾çš„ PoS ç³»ç»Ÿ</li>
<li>ä»æ­¤ï¼Œä»¥å¤ªåŠä¸»ç½‘ç”±ä¿¡æ ‡é“¾ä¿æŠ¤å®‰å…¨</li>
</ul>
</li>
<li><p><strong>åˆå¹¶åçš„æ–°æ¶æ„</strong></p>
<p> ç°åœ¨çš„ä»¥å¤ªåŠå®é™…ä¸Šæ˜¯ä¸¤å±‚ç»“æ„ï¼š</p>
<ul>
<li><strong>æ‰§è¡Œå±‚</strong>ï¼šå¤„ç†äº¤æ˜“ã€æ™ºèƒ½åˆçº¦ï¼ˆåŸä¸»ç½‘ï¼‰</li>
<li><strong>å…±è¯†å±‚</strong>ï¼šç®¡ç†éªŒè¯è€…ã€ç¡®å®šåŒºå—é¡ºåºï¼ˆä¿¡æ ‡é“¾ï¼‰</li>
</ul>
</li>
</ol>
</blockquote>
<p><strong>PoSæœºåˆ¶è¯¦è§£ï¼š</strong></p>
<p><strong>éªŒè¯è€…å¦‚ä½•å·¥ä½œ</strong>ï¼š</p>
<ul>
<li><strong>å‡†å…¥é—¨æ§›</strong>ï¼šè´¨æŠ¼ 32 ETH æˆä¸ºéªŒè¯è€…</li>
<li><strong>å·¥ä½œæ–¹å¼</strong>ï¼šç³»ç»Ÿéšæœºé€‰æ‹©éªŒè¯è€…æ¥æè®®å’ŒéªŒè¯åŒºå—</li>
<li><strong>å¥–åŠ±æœºåˆ¶</strong>ï¼šéªŒè¯è€…è·å¾—æ–°å‘è¡Œçš„ ETH + äº¤æ˜“è´¹ç”¨ï¼ˆgasï¼‰</li>
<li><strong>æƒ©ç½šæœºåˆ¶</strong>ï¼šä½œæ¶è€…è´¨æŠ¼çš„ ETH è¢«é”€æ¯ï¼ˆSlashingï¼‰</li>
</ul>
<p><strong>ç›¸æ¯” PoW çš„ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>**èƒ½è€—é™ä½ 99.95%**ï¼šæ— éœ€å¤§é‡ç”µåŠ›å’Œç¡¬ä»¶</li>
<li><strong>ç»æµå®‰å…¨æ€§</strong>ï¼šæ”»å‡»æˆæœ¬çº¦éœ€æ§åˆ¶å…¨ç½‘ 67% çš„è´¨æŠ¼ ETHï¼ˆä»·å€¼æ•°ç™¾äº¿ç¾å…ƒï¼‰</li>
<li><strong>æœ€ç»ˆç¡®å®šæ€§</strong>ï¼šåŒºå—ç¡®è®¤æ›´å¿«ã€æ›´å¯é </li>
</ul>
<h4 id="æœªæ¥å‡çº§è·¯çº¿"><a href="#æœªæ¥å‡çº§è·¯çº¿" class="headerlink" title="æœªæ¥å‡çº§è·¯çº¿"></a>æœªæ¥å‡çº§è·¯çº¿</h4><p>æš‚æ—¶å­¦ä¸æ‡‚</p>
<h3 id="ä»¥å¤ªåŠç”Ÿæ€æ¦‚è§ˆï¼šL1ã€L2ã€Sidechains-ç­‰"><a href="#ä»¥å¤ªåŠç”Ÿæ€æ¦‚è§ˆï¼šL1ã€L2ã€Sidechains-ç­‰" class="headerlink" title="ä»¥å¤ªåŠç”Ÿæ€æ¦‚è§ˆï¼šL1ã€L2ã€Sidechains ç­‰"></a>ä»¥å¤ªåŠç”Ÿæ€æ¦‚è§ˆï¼šL1ã€L2ã€Sidechains ç­‰</h3><p>ä»¥å¤ªåŠçš„ç”Ÿæ€ç³»ç»Ÿç”±å¤šå±‚æ¶æ„ç»„æˆï¼ŒåŒ…æ‹¬ <strong>L1ï¼ˆä¸»ç½‘ï¼‰ã€L2ï¼ˆäºŒå±‚æ‰©å±•è§£å†³æ–¹æ¡ˆï¼‰ã€ä¾§é“¾ï¼ˆSidechainsï¼‰</strong> ç­‰ï¼Œå…±åŒæ”¯æŒé«˜ååé‡å’Œä½è´¹ç”¨çš„äº¤æ˜“å¤„ç†ã€‚</p>
<ol>
<li>Layer 1ï¼ˆL1ï¼‰<ul>
<li><strong>ä»¥å¤ªåŠä¸»ç½‘</strong>ï¼šæ ¸å¿ƒåŒºå—é“¾ï¼Œè´Ÿè´£æœ€ç»ˆå®‰å…¨æ€§ä¸å…±è¯†ã€‚</li>
<li><strong>EVM</strong>ï¼šä»¥å¤ªåŠè™šæ‹Ÿæœºï¼Œæ‰§è¡Œæ™ºèƒ½åˆçº¦ä»£ç ã€‚</li>
<li><strong>è´¦æˆ·ç³»ç»Ÿ</strong>ï¼šå¤–éƒ¨è´¦æˆ·ï¼ˆEOAï¼‰ä¸åˆçº¦è´¦æˆ·ï¼ˆCAï¼‰å…±åŒæ„æˆç½‘ç»œåŸºç¡€ã€‚</li>
</ul>
</li>
<li>Layer 2ï¼ˆL2ï¼‰<ul>
<li>Rollupï¼šé€šè¿‡å°†äº¤æ˜“æ‰¹é‡å¤„ç†åæäº¤è‡³ L1ï¼Œé™ä½ Gas è´¹ã€‚<ul>
<li><strong>Optimistic Rollup</strong>ï¼šå‡è®¾äº¤æ˜“åˆæ³•ï¼Œä»…åœ¨äº‰è®®æ—¶éªŒè¯ã€‚</li>
<li><strong>ZK Rollup</strong>ï¼šé€šè¿‡é›¶çŸ¥è¯†è¯æ˜éªŒè¯äº¤æ˜“ï¼Œæ— éœ€é“¾ä¸Šäº‰è®®ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><strong>ä¾§é“¾ï¼ˆSidechainsï¼‰</strong>ï¼šç‹¬ç«‹è¿è¡Œçš„é“¾ï¼Œé€šè¿‡<strong>æ¡¥æ¥</strong>ä¸ä¸»ç½‘äº¤äº’ã€‚</li>
<li><strong>ä»¥å¤ªåŠç”Ÿæ€åˆ†å±‚æ¶æ„</strong></li>
</ol>
<blockquote>
<p><strong>1. Optimistic Rollupï¼ˆä¹è§‚æ±‡æ€»ï¼‰</strong></p>
<p><strong>æ ¸å¿ƒæ€æƒ³</strong></p>
<p>â€œé»˜è®¤ä¿¡ä»»ï¼Œäº‰è®®æ—¶éªŒè¯â€ â€”â€” å‡è®¾æ‰€æœ‰æäº¤åˆ°é“¾ä¸Šçš„äº¤æ˜“æ˜¯åˆæ³•çš„ï¼Œä»…åœ¨æœ‰äººæå‡ºè´¨ç–‘æ—¶è¿›è¡ŒéªŒè¯ã€‚</p>
<p><strong>å·¥ä½œæµç¨‹</strong></p>
<ol>
<li><strong>äº¤æ˜“æ‰“åŒ…</strong>ï¼š<ul>
<li>ç”¨æˆ·å°†äº¤æ˜“å‘é€ç»™æ’åºå™¨ï¼ˆSequencerï¼‰ï¼Œæ’åºå™¨æ‰¹é‡æ‰“åŒ…äº¤æ˜“å¹¶ç”ŸæˆçŠ¶æ€æ ¹ï¼ˆState Rootï¼‰ï¼Œæäº¤åˆ°ä¸»é“¾ï¼ˆå¦‚ä»¥å¤ªåŠï¼‰ã€‚</li>
<li>ä¸»é“¾ä»…å­˜å‚¨äº¤æ˜“æ•°æ®ï¼ˆCalldataï¼‰ï¼Œä¸ç«‹å³éªŒè¯ã€‚</li>
</ul>
</li>
<li><strong>æŒ‘æˆ˜æœŸï¼ˆFraud Proofï¼‰</strong>ï¼š<ul>
<li>æäº¤åæœ‰ä¸€æ®µæŒ‘æˆ˜æœŸï¼ˆé€šå¸¸ <strong>7å¤©</strong>ï¼‰ï¼Œä»»ä½•äººå¯è´¨ç–‘äº¤æ˜“æœ‰æ•ˆæ€§ã€‚</li>
<li>å¦‚æœå‘ç°æ— æ•ˆäº¤æ˜“ï¼ŒéªŒè¯è€…æäº¤æ¬ºè¯ˆè¯æ˜ï¼ˆFraud Proofï¼‰ï¼Œè§¦å‘é“¾ä¸Šè®¡ç®—å¹¶å›æ»šé”™è¯¯çŠ¶æ€ã€‚</li>
</ul>
</li>
<li><strong>æœ€ç»ˆç¡®è®¤</strong>ï¼š<ul>
<li>è‹¥æŒ‘æˆ˜æœŸå†…æ— äº‰è®®ï¼Œäº¤æ˜“æœ€ç»ˆç¡®è®¤ã€‚</li>
</ul>
</li>
</ol>
<p> <strong>ä¼˜ç‚¹</strong></p>
<ul>
<li><strong>å…¼å®¹æ€§å¼º</strong>ï¼šæ”¯æŒä»»æ„æ™ºèƒ½åˆçº¦ï¼ˆEVM å…¼å®¹ï¼‰ã€‚</li>
<li><strong>Gas æˆæœ¬ä½</strong>ï¼šä»…éœ€æäº¤æ•°æ®ï¼Œæ— éœ€å¤æ‚è®¡ç®—ã€‚</li>
<li><strong>å¼€å‘é—¨æ§›ä½</strong>ï¼šæ— éœ€é›¶çŸ¥è¯†è¯æ˜ï¼ˆZKPï¼‰ä¸“ä¸šçŸ¥è¯†ã€‚</li>
</ul>
<p> <strong>ç¼ºç‚¹</strong></p>
<ul>
<li><strong>ææ¬¾å»¶è¿Ÿ</strong>ï¼šç”¨æˆ·éœ€ç­‰å¾…æŒ‘æˆ˜æœŸç»“æŸï¼ˆ7å¤©ï¼‰æ‰èƒ½æå–èµ„é‡‘ã€‚</li>
<li><strong>ä¸­å¿ƒåŒ–é£é™©</strong>ï¼šä¾èµ–æ’åºå™¨ï¼ˆSequencerï¼‰å¿«é€Ÿæ‰“åŒ…äº¤æ˜“ã€‚</li>
<li><strong>å®‰å…¨ä¾èµ–è¯šå®å¤šæ•°</strong>ï¼šè‹¥æ— äººç›‘æ§å¹¶æäº¤æ¬ºè¯ˆè¯æ˜ï¼Œæ¶æ„äº¤æ˜“å¯èƒ½é€šè¿‡ã€‚</li>
</ul>
<p> <strong>ä»£è¡¨é¡¹ç›®</strong></p>
<ul>
<li><strong>Optimism</strong>ã€<strong>Arbitrum</strong>ï¼ˆEVM å…¼å®¹ï¼Œä¸»æ‰“ DeFi ç”Ÿæ€ï¼‰ã€‚</li>
</ul>
<hr>
<p> <strong>2. ZK Rollupï¼ˆé›¶çŸ¥è¯†è¯æ˜æ±‡æ€»ï¼‰</strong></p>
<p><strong>æ ¸å¿ƒæ€æƒ³</strong></p>
<p>â€œæ•°å­¦è¯æ˜ï¼Œå³æ—¶éªŒè¯â€ â€”â€” æ¯æ‰¹äº¤æ˜“é€šè¿‡é›¶çŸ¥è¯†è¯æ˜ï¼ˆZKPï¼‰éªŒè¯æœ‰æ•ˆæ€§ï¼Œæ— éœ€äº‰è®®æœŸã€‚</p>
<p><strong>å·¥ä½œæµç¨‹</strong></p>
<ol>
<li><strong>äº¤æ˜“æ‰“åŒ…</strong>ï¼š<ul>
<li>æ’åºå™¨æ”¶é›†äº¤æ˜“ï¼Œç”ŸæˆçŠ¶æ€å˜æ›´å’Œæœ‰æ•ˆæ€§è¯æ˜ï¼ˆZK-SNARK/STARKï¼‰ã€‚</li>
<li>å°†è¯æ˜å’ŒçŠ¶æ€æ ¹æäº¤åˆ°ä¸»é“¾ã€‚</li>
</ul>
</li>
<li><strong>é“¾ä¸ŠéªŒè¯</strong>ï¼š<ul>
<li>ä¸»é“¾éªŒè¯ ZKPï¼Œç¡®ä¿äº¤æ˜“åˆæ³•åç«‹å³æ›´æ–°çŠ¶æ€ã€‚</li>
<li>æ— éœ€æŒ‘æˆ˜æœŸï¼Œäº¤æ˜“å³æ—¶ç¡®è®¤ã€‚</li>
</ul>
</li>
</ol>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li><strong>å³æ—¶æœ€ç»ˆæ€§</strong>ï¼šæ— ææ¬¾å»¶è¿Ÿï¼Œèµ„é‡‘å¯ç«‹å³æå–ã€‚</li>
<li><strong>æ›´é«˜å®‰å…¨æ€§</strong>ï¼šä¾èµ–æ•°å­¦è¯æ˜ï¼Œæ— éœ€è¯šå®å¤šæ•°å‡è®¾ã€‚</li>
<li><strong>éšç§æ€§</strong>ï¼šå¯é€‰æ‹©æ€§éšè—äº¤æ˜“ç»†èŠ‚ï¼ˆå¦‚ Zcash é£æ ¼éšç§äº¤æ˜“ï¼‰ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li><strong>è®¡ç®—èµ„æºæ¶ˆè€—å¤§</strong>ï¼šç”Ÿæˆ ZKP éœ€è¦é«˜æ€§èƒ½ç¡¬ä»¶ã€‚</li>
<li><strong>EVM å…¼å®¹æ€§æœ‰é™</strong>ï¼šæ—©æœŸä»…æ”¯æŒç®€å•é€»è¾‘ï¼Œç°é€æ­¥æ”¹è¿›ï¼ˆå¦‚ zkEVMï¼‰ã€‚</li>
<li><strong>å¼€å‘å¤æ‚åº¦é«˜</strong>ï¼šéœ€å¯†ç å­¦ä¸“ä¸šçŸ¥è¯†ã€‚</li>
</ul>
<p><strong>ä»£è¡¨é¡¹ç›®</strong></p>
<ul>
<li><strong>zkSync</strong>ã€<strong>StarkNet</strong>ã€<strong>Scroll</strong>ï¼ˆä¸“æ³¨ zkEVM å…¼å®¹ï¼‰ã€‚</li>
</ul>
</blockquote>
<p>ä»¥å¤ªåŠç”Ÿæ€å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªå±‚æ¬¡ï¼š</p>
<ol>
<li><strong>åº”ç”¨å±‚ï¼ˆApplication Layerï¼‰</strong></li>
</ol>
<p>ç”¨æˆ·ç›´æ¥äº¤äº’çš„åº”ç”¨å’Œç•Œé¢ï¼š</p>
<ul>
<li><strong>DeFi åº”ç”¨</strong>ï¼šUniswapï¼ˆå»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€ï¼‰ã€Aaveï¼ˆå€Ÿè´·åè®®ï¼‰ã€Compoundï¼ˆå€Ÿè´·åè®®ï¼‰</li>
<li><strong>NFT å¹³å°</strong>ï¼šOpenSeaã€Foundationã€SuperRare</li>
<li><strong>é’±åŒ…åº”ç”¨</strong>ï¼šMetaMaskã€Coinbase Walletã€Rainbow</li>
<li><strong>DAO å·¥å…·</strong>ï¼šSnapshotã€Aragonã€Colony</li>
</ul>
<ol start="2">
<li><strong>åè®®å±‚ï¼ˆProtocol Layerï¼‰</strong></li>
</ol>
<p>ä»¥å¤ªåŠçš„æ ¸å¿ƒåŸºç¡€è®¾æ–½ï¼š</p>
<ul>
<li><strong>å…±è¯†å±‚å®¢æˆ·ç«¯</strong>ï¼šPrysmã€Lighthouseã€Nimbusã€Teku</li>
<li><strong>æ‰§è¡Œå±‚å®¢æˆ·ç«¯</strong>ï¼šGethã€Nethermindã€Erigonã€Besu</li>
<li><strong>æ ¸å¿ƒåè®®</strong>ï¼šEVMã€çŠ¶æ€ç®¡ç†ã€Gas æœºåˆ¶</li>
</ul>
<ol start="3">
<li><strong>æ‰©å±•å±‚ï¼ˆScaling Layerï¼‰</strong></li>
</ol>
<p>æå‡æ€§èƒ½å’Œé™ä½æˆæœ¬çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li><strong>Layer 2 Rollups</strong>ï¼šArbitrumã€Optimismã€Polygon zkEVMã€zkSync Era</li>
<li><strong>ä¾§é“¾</strong>ï¼šPolygon PoSã€xDAIï¼ˆGnosis Chainï¼‰</li>
<li><strong>çŠ¶æ€é€šé“</strong>ï¼šLightning Network for Ethereum</li>
</ul>
<h3 id="ä»¥å¤ªåŠæ–‡åŒ–ä¸ä»·å€¼è§‚"><a href="#ä»¥å¤ªåŠæ–‡åŒ–ä¸ä»·å€¼è§‚" class="headerlink" title="ä»¥å¤ªåŠæ–‡åŒ–ä¸ä»·å€¼è§‚"></a>ä»¥å¤ªåŠæ–‡åŒ–ä¸ä»·å€¼è§‚</h3><p>æ ¸å¿ƒä»·å€¼è§‚</p>
<ol>
<li><strong>å»ä¸­å¿ƒåŒ–æ²»ç†ï¼ˆDecentralizationï¼‰</strong><ul>
<li>æ²¡æœ‰å•ä¸€çš„æ§åˆ¶è€…æˆ–æƒå¨æœºæ„</li>
<li>ç¤¾åŒºé€šè¿‡å…¬å¼€è®¨è®ºå’Œ EIPï¼ˆä»¥å¤ªåŠæ”¹è¿›ææ¡ˆï¼‰æœºåˆ¶å…±åŒå†³ç­–</li>
<li>éªŒè¯è€…éå¸ƒå…¨çƒï¼Œé˜²æ­¢æƒåŠ›é›†ä¸­</li>
</ul>
</li>
<li><strong>æ— éœ€è®¸å¯ä¸å¼€æ”¾æ€§ï¼ˆPermissionless &amp; Openï¼‰</strong><ul>
<li>ä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨ã€å¼€å‘ã€éƒ¨ç½²æ™ºèƒ½åˆçº¦</li>
<li>å¼€æºä»£ç ï¼Œé€æ˜å¯å®¡è®¡</li>
<li>æ— èº«ä»½ã€åœ°åŸŸã€è´¢å¯Œé™åˆ¶çš„å‚ä¸é—¨æ§›</li>
</ul>
</li>
<li><strong>æŠ—å®¡æŸ¥æ€§ï¼ˆCensorship Resistanceï¼‰</strong><ul>
<li>äº¤æ˜“å’Œæ™ºèƒ½åˆçº¦ä¸å—æ”¿åºœæˆ–æœºæ„å¹²é¢„</li>
<li>é€šè¿‡åˆ†å¸ƒå¼éªŒè¯ç¡®ä¿ç½‘ç»œå¼¹æ€§</li>
<li>æ”¯æŒè¨€è®ºè‡ªç”±å’Œç»æµè‡ªç”±</li>
</ul>
</li>
<li><strong>å¯†ç æœ‹å…‹ç²¾ç¥ï¼ˆCypherpunk Ethosï¼‰</strong><ul>
<li>ä»£ç å³æ³•å¾‹ï¼šç”¨ç®—æ³•å’Œæ•°å­¦æ„å»ºä¿¡ä»»</li>
<li>å¯†ç å­¦ä¿æŠ¤éšç§å’Œè‡ªä¸»æƒ</li>
<li>æŠ€æœ¯é©±åŠ¨çš„ç¤¾ä¼šå˜é©ï¼Œè€Œéæ”¿æ²»æ‰‹æ®µ</li>
</ul>
</li>
<li><strong>å…¬å…±ç‰©å“å¯¼å‘ï¼ˆPublic Goods Orientationï¼‰</strong><ul>
<li>ä¼˜å…ˆè€ƒè™‘ç”Ÿæ€ç³»ç»Ÿæ•´ä½“åˆ©ç›Š</li>
<li>æ”¯æŒå¼€æºé¡¹ç›®å’ŒåŸºç¡€è®¾æ–½å»ºè®¾</li>
<li>é€šè¿‡å„ç§èµ„åŠ©è®¡åˆ’æ¨åŠ¨åˆ›æ–°</li>
</ul>
</li>
<li><strong>å¯æŒç»­å‘å±•ç†å¿µ</strong><ul>
<li>The Merge ä½“ç°äº†å¯¹ç¯å¢ƒè´£ä»»çš„æ‰¿è¯º</li>
<li>é•¿æœŸä¸»ä¹‰æ€ç»´ï¼Œæ³¨é‡æŠ€æœ¯çš„å¯æŒç»­æ¼”è¿›</li>
<li>å¹³è¡¡åˆ›æ–°é€Ÿåº¦ä¸ç½‘ç»œç¨³å®šæ€§</li>
</ul>
</li>
</ol>
<h3 id="ä»¥å¤ªåŠæ ¸å¿ƒæœºåˆ¶ï¼šä»è´¦æˆ·åˆ°æ‰§è¡Œçš„å®Œæ•´é“¾è·¯"><a href="#ä»¥å¤ªåŠæ ¸å¿ƒæœºåˆ¶ï¼šä»è´¦æˆ·åˆ°æ‰§è¡Œçš„å®Œæ•´é“¾è·¯" class="headerlink" title="ä»¥å¤ªåŠæ ¸å¿ƒæœºåˆ¶ï¼šä»è´¦æˆ·åˆ°æ‰§è¡Œçš„å®Œæ•´é“¾è·¯"></a>ä»¥å¤ªåŠæ ¸å¿ƒæœºåˆ¶ï¼šä»è´¦æˆ·åˆ°æ‰§è¡Œçš„å®Œæ•´é“¾è·¯</h3><p>ä»¥å¤ªåŠä¸‰ä¸ªå…³é”®æœºåˆ¶ï¼š<strong>è´¦æˆ·ç³»ç»Ÿ</strong>ã€<strong>Gas æ¨¡å‹</strong> å’Œ <strong>ä»¥å¤ªåŠè™šæ‹Ÿæœºï¼ˆEVMï¼‰</strong>ã€‚</p>
<p>ï¼ˆ1ï¼‰è´¦æˆ·ç³»ç»Ÿï¼šä½ çš„æ•°å­—èº«ä»½</p>
<p><strong>è´¦æˆ·ç³»ç»Ÿ</strong> åŒ…å«ç”±ç§é’¥æ§åˆ¶çš„ <strong>å¤–éƒ¨è´¦æˆ·ï¼ˆEOAï¼‰</strong> å’Œç”±æ™ºèƒ½åˆçº¦ä»£ç æ§åˆ¶çš„ <strong>åˆçº¦è´¦æˆ·ï¼ˆCAï¼‰</strong> ã€‚</p>
<p>æƒ³è±¡ä½ ç¬¬ä¸€æ¬¡æ¥è§¦ä»¥å¤ªåŠâ€”â€”ä½ éœ€è¦ä¸€ä¸ªâ€œæ•°å­—é’±åŒ…â€æ¥å‚ä¸ç½‘ç»œã€‚è¿™ä¸ªé’±åŒ…çš„æ ¸å¿ƒæ˜¯ <strong>å¤–éƒ¨è´¦æˆ·ï¼ˆEOAï¼‰</strong> ï¼Œå®ƒç”±ä¸€å¯¹å¯†é’¥ï¼ˆç§é’¥å’Œå…¬é’¥ï¼‰ç”Ÿæˆï¼Œå°±åƒé“¶è¡Œè´¦æˆ·çš„å¯†ç å’Œè´¦å·ã€‚ç§é’¥æ˜¯ä½ æ§åˆ¶è´¦æˆ·çš„â€œé’¥åŒ™â€ï¼Œå¿…é¡»ä¸¥æ ¼ä¿å¯†ï¼›å…¬é’¥é€šè¿‡åŠ å¯†ç®—æ³•ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„åœ°å€ï¼ˆå¦‚ <code>0xAbc...123</code>ï¼‰ï¼Œä½ å¯ä»¥æŠŠå®ƒåˆ†äº«ç»™æœ‹å‹æ¥æ”¶è½¬è´¦ã€‚</p>
<p>é™¤äº†ç”¨æˆ·æ§åˆ¶çš„ EOAï¼Œè¿˜æœ‰ <strong>åˆçº¦è´¦æˆ·ï¼ˆCAï¼‰</strong> ã€‚å®ƒä»¬ä¸åƒ EOA é‚£æ ·å—ç§é’¥æ§åˆ¶ï¼Œè€Œæ˜¯ç”±ä»£ç é©±åŠ¨ã€‚æ¯”å¦‚ï¼Œä½ éƒ¨ç½²ä¸€ä¸ªæ™ºèƒ½åˆçº¦ï¼ˆå¦‚ä¸€ä¸ª NFT å¸‚åœºï¼‰ï¼ŒåŒºå—é“¾ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª CA åœ°å€ï¼ˆå¦‚ <code>0xDef...456</code>ï¼‰ã€‚è¿™ä¸ªè´¦æˆ·ä¸èƒ½ä¸»åŠ¨å‘èµ·äº¤æ˜“ï¼Œåªèƒ½é€šè¿‡ EOA è§¦å‘â€”â€”æ¯”å¦‚ä½ ç‚¹å‡»â€œè´­ä¹° NFTâ€æŒ‰é’®æ—¶ï¼ŒEOA å‘ CA å‘é€äº¤æ˜“ï¼ŒCA çš„ä»£ç è‡ªåŠ¨æ‰§è¡Œå‡ºè´§é€»è¾‘ã€‚</p>
<p>æ¯ä¸ªè´¦æˆ·éƒ½åŒ…å«å››ä¸ªå…³é”®å­—æ®µï¼š</p>
<ul>
<li><strong>Nonce</strong>ï¼šé˜²æ­¢é‡å¤äº¤æ˜“çš„è®¡æ•°å™¨ï¼ˆEOA è®°å½•å‘é€æ¬¡æ•°ï¼ŒCA è®°å½•åˆ›å»ºåˆçº¦æ¬¡æ•°ï¼‰ã€‚</li>
<li><strong>ä½™é¢</strong>ï¼šè´¦æˆ·æŒæœ‰çš„ ETH æ•°é‡ï¼ˆå•ä½ä¸º Weiï¼‰ã€‚</li>
<li><strong>CodeHash</strong>ï¼šEOA ä¸ºç©ºå“ˆå¸Œï¼ŒCA å­˜å‚¨åˆçº¦å­—èŠ‚ç çš„å“ˆå¸Œå€¼ã€‚</li>
<li><strong>StorageRoot</strong>ï¼šè®°å½•è´¦æˆ·æ•°æ®çš„ Merkle æ ‘æ ¹å“ˆå¸Œï¼ˆå¦‚ NFT å½’å±å…³ç³»ï¼‰ã€‚</li>
</ul>
<p>ï¼ˆ2ï¼‰Gas æ¨¡å‹ï¼šäº¤æ˜“çš„ç‡ƒæ–™è´¹</p>
<p>å½“ä½ ç”¨é’±åŒ…ä½¿ç”¨è‡ªå·±çš„ EOA å‘èµ·ä¸€ç¬”äº¤æ˜“ï¼ˆæ¯”å¦‚è½¬è´¦æˆ–æ“ä½œåˆçº¦ï¼‰ï¼Œè¿™ä»¶äº‹å½“ç„¶ <strong>ä¸ä¼šæ˜¯å…è´¹çš„</strong>ï¼Œä½ éœ€è¦æ”¯ä»˜â€œç‡ƒæ–™è´¹â€â€”â€”ä¹Ÿå°±æ˜¯ <strong>Gas</strong>ã€‚</p>
<p>Gas è´¹ç”¨ = <strong>ç”¨å¤šå°‘ Ã— æ¯å•ä½å¤šå°‘é’±</strong>ï¼Œå°±åƒä½ æ‰“è½¦ä¸€æ ·ï¼š</p>
<ul>
<li><strong>Gas Limitï¼ˆé™é¢ï¼‰</strong>ï¼šä½ æœ€å¤šæ„¿æ„â€œçƒ§â€å¤šå°‘ç‡ƒæ–™ã€‚ æ¯”å¦‚ä½ è§‰å¾—æœ€å¤šå¯èƒ½éœ€è¦ 15 ä¸‡å•ä½ï¼Œå°±è®¾ç½® 150,000ã€‚</li>
<li><strong>Gas Priceï¼ˆå•ä»·ï¼‰</strong>ï¼šæ¯å•ä½ç‡ƒæ–™å¤šå°‘é’±ï¼Œç”¨ Gwei è¡¨ç¤ºï¼ˆ1 Gwei = 0.000000001 ETHï¼‰ã€‚ ç½‘ç»œè¶Šæ‹¥å µï¼Œä»·æ ¼è¶Šè´µï¼Œå°±åƒæ‰“è½¦é«˜å³°æœŸåŠ ä»·ã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼Œ<strong>æ€»è´¹ç”¨ = Gas Limit Ã— Gas Price</strong>ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å‡è®¾ä½ è®¾ç½® Gas Limit ä¸º 150 000ï¼ŒGas Price ä¸º 100 Gweiï¼Œæ€»è´¹ç”¨å°±æ˜¯ 0.015 ETHã€‚å¦‚æœå®é™…æ¶ˆè€— 120 000 Gasï¼Œå‰©ä½™ 30 000 Gas Ã— 100 Gwei = 0.003 ETH ä¼šé€€è¿˜ç»™ä½ ã€‚</span><br></pre></td></tr></tbody></table></figure>

<p>Gas çš„å­˜åœ¨æœ‰ä¸¤ä¸ªç›®çš„ï¼š</p>
<ul>
<li><strong>æ¿€åŠ±çŸ¿å·¥/éªŒè¯è€…</strong>ï¼šä½ ç»™å¾—è¶Šå¤šï¼ˆGas Price è¶Šé«˜ï¼‰ï¼Œä»–ä»¬è¶Šæ„¿æ„ä¼˜å…ˆå¤„ç†ä½ çš„äº¤æ˜“ã€‚</li>
<li><strong>é˜²æ­¢èµ„æºæ»¥ç”¨</strong>ï¼šå¦‚æœæœ‰äººæƒ³è®©åˆçº¦æ­»å¾ªç¯ï¼ŒGas ä¼šç”¨å…‰ï¼Œäº¤æ˜“å¤±è´¥ï¼Œç³»ç»Ÿä¸ä¼šè¢«æ‹–å®ã€‚</li>
</ul>
<p><u>åœ¨ EIP-1559 å‡çº§åï¼ŒGas Price è¢«æ‹†åˆ†äº†ï¼š</u></p>
<p>ä»¥å‰ï¼ŒGas Price å…¨éƒ¨ç»™çŸ¿å·¥ã€‚ ç°åœ¨ï¼Œåˆ†æˆä¸¤éƒ¨åˆ†ï¼š</p>
<ul>
<li><strong>åŸºç¡€è´¹ç”¨ï¼ˆBase Feeï¼‰</strong>ï¼šæ¯ä¸ªåŒºå—éƒ½ä¼šæœ‰ï¼Œè‡ªåŠ¨è®¡ç®—ï¼Œç›´æ¥é”€æ¯ï¼ˆç›´æ¥æ¶ˆå¤±ï¼‰æ¥å¸®åŠ© ETH é€šç¼©ï¼Œæ¯•ç«Ÿç‰©ä»¥ç¨€ä¸ºè´µã€‚</li>
<li><strong>å°è´¹ï¼ˆTipï¼‰</strong>ï¼šä½ é¢å¤–åŠ çš„é’±ï¼Œç”¨æ¥é¼“åŠ±çŸ¿å·¥ä¼˜å…ˆå¤„ç†ä½ ã€‚</li>
</ul>
<p>ï¼ˆ3ï¼‰ä»¥å¤ªåŠè™šæ‹Ÿæœºï¼ˆEVMï¼‰ï¼šä»£ç çš„æ‰§è¡Œå¼•æ“</p>
<p>EVMï¼ˆEthereum Virtual Machineï¼‰æ˜¯ <strong>ä»¥å¤ªåŠçš„â€œå¤§è„‘â€</strong>ï¼Œæ˜¯ä¸“é—¨ç”¨æ¥<strong>è¿è¡Œæ™ºèƒ½åˆçº¦çš„è™šæ‹Ÿè®¡ç®—æœº</strong>ã€‚å®ƒè¿è¡Œåœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šï¼Œç¡®ä¿æ•´ä¸ªç½‘ç»œåœ¨å¤„ç†ä»£ç æ—¶ï¼Œ<strong>ç»“æœéƒ½ä¸€è‡´ã€å¯ä¿¡ä»»</strong>ã€‚</p>
<p>EVM çš„æ ¸å¿ƒç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>å›¾çµå®Œå¤‡</strong>ï¼šå°±åƒçœŸæ­£çš„ç”µè„‘ä¸€æ ·ï¼ŒEVM å¯ä»¥æ‰§è¡Œå„ç§é€»è¾‘ï¼Œæ¯”å¦‚ if åˆ¤æ–­ã€å¾ªç¯ç­‰ã€‚</li>
<li><strong>å…¨çƒåŒæ­¥</strong>ï¼šæ¯ä¸ªçŸ¿å·¥/èŠ‚ç‚¹éƒ½ä¼šè‡ªå·±æ‰§è¡Œä¸€éåˆçº¦ä»£ç ï¼Œä¿è¯ç»“æœä¸€æ ·ã€‚</li>
<li><strong>éš”ç¦»å®‰å…¨</strong>ï¼šEVM æŠŠåˆçº¦â€œå…³â€åœ¨ä¸€ä¸ªå°æˆ¿é—´é‡Œè¿è¡Œï¼Œä¸å…è®¸å®ƒä¹±è®¿é—®ç”¨æˆ·çš„æ•°æ®å’Œç½‘ç»œï¼Œä¿æŠ¤éšç§å’Œå®‰å…¨ã€‚</li>
</ul>
<h2 id="Unphishableé’“é±¼æ”»é˜²æŒ‘æˆ˜"><a href="#Unphishableé’“é±¼æ”»é˜²æŒ‘æˆ˜" class="headerlink" title="Unphishableé’“é±¼æ”»é˜²æŒ‘æˆ˜"></a>Unphishableé’“é±¼æ”»é˜²æŒ‘æˆ˜</h2><p>æŒ‘æˆ˜åœ°å€ï¼š<a target="_blank" rel="noopener" href="http://unphishable.io/">unphishable.io</a> </p>
<h3 id="åˆçº§"><a href="#åˆçº§" class="headerlink" title="åˆçº§"></a>åˆçº§</h3><h3 id="No-0x0001-Web3-é’±åŒ…è®¾ç½®æŒ‡å—"><a href="#No-0x0001-Web3-é’±åŒ…è®¾ç½®æŒ‡å—" class="headerlink" title="No.0x0001 Web3 é’±åŒ…è®¾ç½®æŒ‡å—"></a>No.0x0001 Web3 é’±åŒ…è®¾ç½®æŒ‡å—</h3><p>ç¬¬ä¸€å…³å°±æ˜¯åˆ›å»ºä¸€ä¸ªMetaMaskçš„å°ç‹ç‹¸é’±åŒ…ï¼Œåœ¨è¿™ä¹‹å‰æˆ‘å°±æœ‰ä¸€ä¸ªé’±åŒ…é‡Œã€‚è¿™å…³ä¹Ÿé‡ç‚¹å¼ºè°ƒäº†åŠ©è®°è¯çš„é‡è¦æ€§ã€‚éå¸¸é‡è¦ï¼ï¼åƒä¸‡ä¸èƒ½æ³„éœ²ï¼Œæ¥ä¸‹æ¥ä¸€å…³æˆ‘å°±ä¸­æ‹›äº†ï¼</p>
<p>å®‰å…¨å­˜å‚¨åŠ©è®°è¯æ–¹æ³•é™„ä¸Šï¼š</p>
<ul>
<li>å°†å…¶å†™åœ¨çº¸ä¸Šï¼ˆå¤šä»½å‰¯æœ¬ï¼‰</li>
<li>å­˜æ”¾åœ¨å®‰å…¨ã€é˜²æ°´ã€é˜²ç«çš„åœ°æ–¹</li>
<li>è€ƒè™‘ä½¿ç”¨é‡‘å±å¤‡ä»½è§£å†³æ–¹æ¡ˆä»¥æé«˜è€ä¹…æ€§</li>
<li>åˆ‡å‹¿ä»¥æ•°å­—æ–¹å¼å­˜å‚¨ï¼ˆä¸è¦æ‹ç…§ã€ä¸è¦äº‘å­˜å‚¨ã€ä¸è¦ç”µå­é‚®ä»¶ï¼‰</li>
<li>åˆ‡å‹¿ä¸ä»»ä½•äººåˆ†äº«ï¼ŒåŒ…æ‹¬â€æ”¯æŒäººå‘˜â€</li>
</ul>
<p>è¿˜æœ‰ä¸€ä¸ªç‚¹å°±æ˜¯è¦é¢†å–Holeskyçš„æµ‹è¯•å¸ï¼Œæ‰¾äº†å‡ ä¸ªæ°´é¾™å¤´éƒ½ä¸æ˜¯å¾ˆå¥½å¼„ï¼Œçœ‹ç¾¤é‡Œçš„å°ä¼™ä¼´éƒ½æ˜¯ç”¨Googleæ°´é¾™å¤´é¢†æµ‹è¯•å¸ï¼Œä½†æ˜¯æˆ‘çš„å°±ç”¨ä¸äº†ï¼ŒGoogleçš„æ°´é¾™å¤´ææŠ½è±¡ï¼Œæ— æ³•é¢†å–ï¼Œé—®äº†ç¾¤é‡Œå¤§ä½¬è¯´ä»–æ˜¯è¿™æ ·çš„ã€‚ä¸è¿‡æœ€åæ‰¾åˆ°ä¸€ä¸ªå¥½ç”¨çš„æ°´é¾™å¤´ï¼Œä¸ä»…ä¹‹å‰é¢†äº†Sepoliaçš„æµ‹è¯•å¸ï¼Œç°åœ¨ä¹Ÿé¢†äº†Holeskyçš„æµ‹è¯•å¸ï¼Œé™„ä¸Šåœ°å€</p>
<p><a target="_blank" rel="noopener" href="https://www.alchemy.com/faucets/ethereum-sepolia">https://www.alchemy.com/faucets/ethereum-sepolia</a></p>
<p>ä½†æ˜¯åº”è¯¥æ˜¯éœ€è¦ethä¸»ç½‘ä¸Šæœ‰ä¸€å®šé‡çš„ä»¥å¤ªå¸ï¼ˆ0.001 ETHï¼‰æ‰èƒ½åœ¨è¿™é‡Œé¢†æµ‹è¯•å¸</p>
<p>é¢†å®Œæµ‹è¯•å¸ï¼Œè¿æ¥é’±åŒ…ï¼Œè¿™å…³å°±ç»“æŸäº†</p>
<h3 id="No-0x0002-é’±åŒ…æ¢å¤åŠ©æ‰‹"><a href="#No-0x0002-é’±åŒ…æ¢å¤åŠ©æ‰‹" class="headerlink" title="No.0x0002 é’±åŒ…æ¢å¤åŠ©æ‰‹"></a>No.0x0002 é’±åŒ…æ¢å¤åŠ©æ‰‹</h3><p>è¿™æ˜¯ä¸€ä¸ªaiå¯¹è¯ç•Œé¢ï¼ŒåŠŸèƒ½æ˜¯é’±åŒ…æ¢å¤ï¼Œç„¶åè®©ä½ è¾“å…¥ä½ çš„åŠ©è®°è¯ï¼Œæˆ‘çœ‹åˆ°äº†è¿™æ ·çš„å­—æ · â€œè¯·æ”¾å¿ƒï¼Œè¿™æ˜¯ä¸€ä¸ªå®‰å…¨çš„ç¯å¢ƒï¼Œæ‚¨çš„ä¿¡æ¯å°†è¢«åŠ å¯†å¤„ç†ã€‚â€ç„¶åè¿˜çœŸçš„å»æ‰¾äº†æˆ‘çš„åŠ©è®°è¯ç»™ä»–æ·»ä¸Šäº†ï¼Œæˆ‘è¿˜ç‰¹æ„ç”¨aiæŸ¥äº†è¿™ä¸ªå¹³å°æ˜¯å¦é è°±ï¼Œç»“æœè¾“å…¥è¿›å…¥ï¼Œå‘Šè¯‰æˆ‘æˆ‘è¢«é’“é±¼äº†ã€‚èº«ä¸ºä¸€ä¸ªå­¦å®‰å…¨çš„äººï¼Œæˆ‘è‡ªè®¤ä¸ºå®‰å…¨æ„è¯†è¿˜æ˜¯æœ‰ç‚¹çš„ï¼Œä½†æ˜¯ä¹Ÿå¯èƒ½æ˜¯æˆ‘è¿˜æ²¡æ„è¯†åˆ°è¿™ä¸ªæŒ‘æˆ˜æ˜¯åœ¨åšä¸ªä»€ä¹ˆï¼Œæ‰€ä»¥è¢«éª—+1ã€‚</p>
<p>æ‰€ä»¥ï¼ï¼æ°¸è¿œä¸è¦å‘ä»»ä½•äººé€éœ²æ‚¨çš„åŠ©è®°è¯ï¼Œæ— è®ºä»–ä»¬å£°ç§°æ˜¯è°</p>
<h3 id="No-0x0003-USDC-Permit-é’“é±¼æ¨¡æ‹Ÿ"><a href="#No-0x0003-USDC-Permit-é’“é±¼æ¨¡æ‹Ÿ" class="headerlink" title="No.0x0003 USDC Permit é’“é±¼æ¨¡æ‹Ÿ"></a>No.0x0003 USDC Permit é’“é±¼æ¨¡æ‹Ÿ</h3><p>è¿™ä¸€ä¸ªå†…å®¹å°±åˆ°äº†æˆ‘è¦å­¦ä¹ çš„åœ°æ–¹ï¼Œä¹‹å‰æ²¡å¬è¿‡ã€‚å¼€å§‹å­¦ï¼</p>
<p>å› ä¸ºä¸€å¼€å§‹è¿˜ä¸çŸ¥é“æ‰€ä»¥è¿˜æ˜¯ç‚¹äº†æˆæƒï¼Œè¢«éª—+1</p>
<blockquote>
<p>çŸ¥è¯†ç‚¹ï¼š</p>
<p><strong>é€šè¿‡ä½¿ç”¨ EIP-2612 çš„ <code>permit</code> ç­¾ååŠŸèƒ½</strong>ï¼Œç”¨æˆ·å¯ä»¥åœ¨ä¸é¢„å…ˆè¿›è¡Œé“¾ä¸Šæˆæƒäº¤æ˜“ï¼ˆå³æ— éœ€æ”¯ä»˜ Gas è´¹ï¼‰çš„æƒ…å†µä¸‹ï¼Œæˆæƒç¬¬ä¸‰æ–¹åˆçº¦ä½¿ç”¨è‡ªå·±çš„ä»£å¸ï¼ˆå¦‚ USDCã€DAI ç­‰ï¼‰ã€‚è¿™æ˜¯ä»¥å¤ªåŠä¸Šä¸€ç§æ›´é«˜æ•ˆã€æ›´çœ Gas çš„æˆæƒæ–¹å¼ï¼Œå°¤å…¶é€‚åˆä¼˜åŒ–ç”¨æˆ·ä½“éªŒï¼ˆUXï¼‰å’Œæ‰¹é‡æ“ä½œã€‚</p>
<p><strong>1. EIP-2612 <code>permit</code> çš„æ ¸å¿ƒæœºåˆ¶</strong></p>
<p> <strong>ï¼ˆ1ï¼‰ä¼ ç»Ÿæˆæƒï¼ˆ<code>approve</code>ï¼‰çš„é—®é¢˜</strong></p>
<ul>
<li>éœ€è¦å‘é€ä¸€ç¬”é“¾ä¸Šäº¤æ˜“ï¼ˆæ”¯ä»˜ Gasï¼‰ã€‚</li>
<li>ç”¨æˆ·å¿…é¡»æå‰æˆæƒï¼Œå¯¼è‡´äº¤äº’æµç¨‹å˜é•¿ã€‚</li>
</ul>
<p> <strong>ï¼ˆ2ï¼‰<code>permit</code> çš„æ”¹è¿›</strong></p>
<p>âœ… <strong>å… Gas æˆæƒ</strong>ï¼šç”¨æˆ·ç­¾ç½²ä¸€æ¡é“¾ä¸‹æ¶ˆæ¯ï¼ˆç­¾åï¼‰ï¼Œç¬¬ä¸‰æ–¹åˆçº¦å¯å‡­æ­¤ç­¾åç›´æ¥è·å¾—ä»£å¸ä½¿ç”¨æƒï¼Œæ— éœ€ç”¨æˆ·é¢„å…ˆå‘é€ <code>approve</code> äº¤æ˜“ã€‚<br>âœ… <strong>å•æ¬¡æœ‰æ•ˆ</strong>ï¼šç­¾åå¯è®¾ç½®è¿‡æœŸæ—¶é—´ï¼ˆ<code>deadline</code>ï¼‰ï¼Œé¿å…é•¿æœŸé£é™©ã€‚<br>âœ… <strong>å…¼å®¹ ERC-20</strong>ï¼šæ— éœ€ä¿®æ”¹ä»£å¸æ ‡å‡†ï¼Œåªéœ€ä»£å¸åˆçº¦å®ç° <code>permit</code> å‡½æ•°ã€‚</p>
<p> <strong>2. <code>permit</code> çš„å·¥ä½œåŸç†</strong></p>
<p> <strong>ï¼ˆ1ï¼‰ç”¨æˆ·ç­¾ç½²ç¦»çº¿æ¶ˆæ¯</strong></p>
<p>ç”¨æˆ·å¯¹ä»¥ä¸‹æ•°æ®è¿›è¡Œç­¾åï¼ˆä½¿ç”¨ EIP-712 ç»“æ„åŒ–ç­¾åï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  owner: "0xç”¨æˆ·åœ°å€",       // ä»£å¸æŒæœ‰è€…</span><br><span class="line">  spender: "0xåˆçº¦åœ°å€",    // è¢«æˆæƒæ–¹ï¼ˆå¦‚ Uniswapï¼‰</span><br><span class="line">  value: 1000000,          // æˆæƒæ•°é‡ï¼ˆå¦‚ 1 USDC = 1e6ï¼‰</span><br><span class="line">  nonce: 123,              // é˜²æ­¢é‡æ”¾æ”»å‡»</span><br><span class="line">  deadline: 1698765432     // è¿‡æœŸæ—¶é—´ï¼ˆUNIX æ—¶é—´æˆ³ï¼‰</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p> <strong>ï¼ˆ2ï¼‰ç¬¬ä¸‰æ–¹åˆçº¦æäº¤ç­¾å</strong></p>
<p>åˆçº¦è°ƒç”¨ä»£å¸çš„ <code>permit</code> æ–¹æ³•ï¼Œä¼ å…¥ç­¾åæ•°æ®ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">token.permit(owner, spender, value, deadline, v, r, s);</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><code>v, r, s</code> æ˜¯ç­¾åçš„ ECDSA å‚æ•°ã€‚</li>
<li>ä»£å¸åˆçº¦éªŒè¯ç­¾åï¼Œå¹¶æ›´æ–°æˆæƒçŠ¶æ€ï¼ˆç›¸å½“äºæ‰§è¡Œäº† <code>approve</code>ï¼‰ã€‚</li>
</ul>
<p> <strong>3. å®‰å…¨æ³¨æ„äº‹é¡¹</strong></p>
<p> <strong>âœ… ä¼˜ç‚¹</strong></p>
<ul>
<li><strong>èŠ‚çœ Gas</strong>ï¼šç”¨æˆ·åªéœ€ç­¾ä¸€æ¬¡åï¼Œæ— éœ€å•ç‹¬å‘ <code>approve</code> äº¤æ˜“ã€‚</li>
<li><strong>æ›´çŸ­äº¤äº’æµç¨‹</strong>ï¼šé€‚åˆé’±åŒ…å†…ç›´æ¥ç­¾åæˆæƒã€‚</li>
</ul>
<p> <strong>âš ï¸ é£é™©</strong></p>
<ul>
<li><strong>ç­¾åé’“é±¼</strong>ï¼šæ¶æ„ DApp å¯èƒ½è¯±å¯¼ç”¨æˆ·ç­¾ç½²é«˜é¢ <code>permit</code>ï¼ˆæ£€æŸ¥ <code>value</code> å’Œ <code>spender</code>ï¼‰ã€‚</li>
<li><strong>è¿‡æœŸæ—¶é—´å¤±æ•ˆ</strong>ï¼šè‹¥ <code>deadline</code> è¿‡é•¿ï¼Œç­¾åå¯èƒ½è¢«é‡å¤ä½¿ç”¨ï¼ˆå»ºè®®è®¾ç½®è¾ƒçŸ­æœ‰æ•ˆæœŸï¼‰ã€‚</li>
</ul>
</blockquote>
<p>æˆ‘çš„ç†è§£å°±æ˜¯ æˆæƒç¬¬ä¸‰æ–¹åˆçº¦ä½¿ç”¨è‡ªå·±çš„ä»£å¸ï¼Œç„¶åå¯ä»¥çœå»gasè´¹ç”¨</p>
<p>è¿™ä¸ªç­¾åå°†å…è®¸æ”»å‡»è€…æ§åˆ¶æ‚¨çš„ USDC ä»£å¸ï¼é€šè¿‡ä½¿ç”¨ EIP-2612 permit ç­¾åï¼Œæ”»å‡»è€…å¯ä»¥ï¼š</p>
<ul>
<li>è·å¾—å¯¹æ‚¨æ‰€æœ‰ USDC çš„å®Œå…¨è®¿é—®æƒé™</li>
<li>åœ¨æœªæ¥ä»»ä½•æ—¶é—´è½¬ç§»æ‚¨çš„ä»£å¸</li>
<li>æ— éœ€æ‚¨è¿›ä¸€æ­¥æ‰¹å‡†å³å¯èŠ±è´¹æ‚¨çš„èµ„é‡‘</li>
</ul>
<p>å®‰å…¨æ£€æŸ¥è¦ç‚¹</p>
<ul>
<li><p>æ£€æŸ¥ Permit ç±»å‹ï¼Œäº†è§£æˆæƒèŒƒå›´</p>
</li>
<li><p>éªŒè¯ Spender åœ°å€æ˜¯å¦ä¸ºå¯ä¿¡æ¥æº</p>
</li>
<li><p>æ³¨æ„æˆæƒé‡‘é¢ï¼Œè­¦æƒ•æ— é™åˆ¶æˆæƒ</p>
</li>
<li><p>ç¡®è®¤ç½‘ç«™æ¥æºçš„å¯ä¿¡åº¦</p>
</li>
</ul>
<p>æ‰€ä»¥æ­¤å¤„ä¸èƒ½è¿›è¡Œæˆæƒ</p>
<h3 id="No-0x0004-ä¸“å±ä»£å¸ç©ºæŠ•"><a href="#No-0x0004-ä¸“å±ä»£å¸ç©ºæŠ•" class="headerlink" title="No.0x0004 ä¸“å±ä»£å¸ç©ºæŠ•"></a>No.0x0004 ä¸“å±ä»£å¸ç©ºæŠ•</h3><p>æ­¤äº¤æ˜“å®é™…ä¸Šæ˜¯å‘åˆçº¦ 0xbe535a82f2c3895bdaceb3ffe6b9b80ac2f832a0 å‘é€ 0.5 ETHï¼Œè€Œä¸æ˜¯é¢†å–ä»»ä½•ä»£å¸ã€‚</p>
<p>å‡½æ•°é€‰æ‹©å™¨ 0x5fba79f5 è°ƒç”¨äº†ä¸€ä¸ªåä¸º SecurityUpdate() çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°å¯èƒ½ä¼šå°†æ‚¨çš„èµ„é‡‘è½¬ç§»ç»™æ”»å‡»è€…ã€‚</p>
<p><strong>åœ¨çœŸå®æƒ…å†µä¸‹ï¼Œæ°¸è¿œä¸è¦åœ¨ä¸äº†è§£äº¤æ˜“å†…å®¹çš„æƒ…å†µä¸‹ç­¾ç½²äº¤æ˜“ï¼</strong></p>
<h3 id="No-0x0005-USDT-æˆæƒé’“é±¼æ¨¡æ‹Ÿ"><a href="#No-0x0005-USDT-æˆæƒé’“é±¼æ¨¡æ‹Ÿ" class="headerlink" title="No.0x0005 USDT æˆæƒé’“é±¼æ¨¡æ‹Ÿ"></a>No.0x0005 USDT æˆæƒé’“é±¼æ¨¡æ‹Ÿ</h3><p>æŒ‘æˆ˜ï¼šè¯·å°å¿ƒçœŸå®çš„æˆæƒè¯·æ±‚</p>
<p> <strong>æˆæƒé£é™©æç¤ºï¼š</strong></p>
<ul>
<li>é™¤äº† approve å¤–ï¼Œä¹Ÿè¦å½“å¿ƒ increaseAllowance å‡½æ•°</li>
<li>increaseAllowance åŒæ ·å¯ä»¥å¢åŠ ä»£å¸æˆæƒé¢åº¦</li>
<li>ä¸€äº›é’“é±¼ç½‘ç«™ä¼šé€šè¿‡è¿™ä¸ªæ–¹å¼æ¥æ©é¥°å…¶çœŸå®æ„å›¾</li>
</ul>
<p>ğŸ’¡ å®‰å…¨å»ºè®®ï¼šæ°¸è¿œä¸è¦ç»™ä¸æ˜æ¥æºçš„ç½‘ç«™æ— é™æˆæƒï¼</p>
<blockquote>
<p><code>increaseAllowance</code> æ˜¯ <strong>ERC-20 ä»£å¸æ ‡å‡†</strong> ä¸­çš„ä¸€ä¸ªæ‰©å±•å‡½æ•°ï¼Œç”¨äº<strong>å®‰å…¨åœ°å¢åŠ </strong>æŸä¸ªåœ°å€ï¼ˆ<code>spender</code>ï¼‰çš„ä»£å¸æˆæƒé¢åº¦ã€‚å®ƒæ˜¯å¯¹ä¼ ç»Ÿ <code>approve</code> æ–¹æ³•çš„æ”¹è¿›ï¼Œæ—¨åœ¨é¿å…æ½œåœ¨çš„å®‰å…¨é£é™©ï¼ˆå¦‚å‰ç«¯ç«æ€æ¡ä»¶æ”»å‡»ï¼‰ã€‚</p>
<p> <strong>ä¼ ç»Ÿ <code>approve</code> çš„é—®é¢˜</strong></p>
<ul>
<li><p><strong>ç«æ€æ¡ä»¶ï¼ˆRace Conditionï¼‰</strong><br>  å¦‚æœç”¨æˆ·è¿ç»­å‘èµ·ä¸¤ç¬” <code>approve</code> äº¤æ˜“ï¼ˆä¾‹å¦‚å…ˆæˆæƒ 100ï¼Œå†æ”¹ä¸º 200ï¼‰ï¼ŒçŸ¿å·¥å¯èƒ½ä»¥ç›¸åé¡ºåºæ‰“åŒ…äº¤æ˜“ï¼Œå¯¼è‡´æœ€ç»ˆæˆæƒé¢åº¦è¢«æ„å¤–è¦†ç›–ï¼ˆå˜æˆ 100 è€Œé 200ï¼‰ã€‚</p>
<p>  solidity</p>
  <figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// å±é™©æ“ä½œï¼šå¯èƒ½è¢«è¦†ç›–</span><br><span class="line">approve(spender, 100);  // äº¤æ˜“1</span><br><span class="line">approve(spender, 200);  // äº¤æ˜“2</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<p> <strong><code>increaseAllowance</code> çš„è§£å†³æ–¹æ¡ˆ</strong></p>
<p>âœ… <strong>å¢é‡è°ƒæ•´</strong>ï¼šåŸºäºå½“å‰æˆæƒé¢åº¦å¢åŠ æ•°å€¼ï¼Œè€Œéç›´æ¥è¦†ç›–ã€‚<br>âœ… <strong>å®‰å…¨æ“ä½œ</strong>ï¼šé¿å…ç«æ€æ¡ä»¶ï¼Œé€‚åˆå‰ç«¯äº¤äº’ã€‚</p>
</blockquote>
<h3 id="No-0x0006-å‡å†’ä»£å¸ç©ºæŠ•é’“é±¼æ”»å‡»"><a href="#No-0x0006-å‡å†’ä»£å¸ç©ºæŠ•é’“é±¼æ”»å‡»" class="headerlink" title="No.0x0006 å‡å†’ä»£å¸ç©ºæŠ•é’“é±¼æ”»å‡»"></a>No.0x0006 å‡å†’ä»£å¸ç©ºæŠ•é’“é±¼æ”»å‡»</h3><p>æŒ‘æˆ˜ï¼šè¯†åˆ«çœŸå‡åŸŸå</p>
<ul>
<li>åœºæ™¯æè¿°</li>
</ul>
<p>æŸå¤©ï¼Œä½ æ”¶åˆ°ä¸€å°ç”µå­é‚®ä»¶ï¼Œå£°ç§°ä½ æœ‰èµ„æ ¼è·å¾—UNIä»£å¸çš„ç©ºæŠ•ï¼é‚®ä»¶ä¸­åŒ…å«ä¸€ä¸ªé“¾æ¥ï¼Œå¼•å¯¼ä½ åˆ°ä¸€ä¸ªçœ‹ä¼¼åˆæ³•çš„ç½‘ç«™ã€‚ä½ ç‚¹å‡»äº†è¯¥é“¾æ¥ï¼Œå¹¶çœ‹åˆ°ä»¥ä¸‹äº¤æ˜“è®°å½•ï¼š</p>
<img src="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-05%20144514.png" style="zoom:67%;">

<p>ä»”ç»†è§‚å¯Ÿä¸Šé¢çš„äº¤æ˜“è®°å½•ã€‚è¿™ç§é’“é±¼æ”»å‡»é€šå¸¸åˆ©ç”¨è§†è§‰ä¸Šç›¸ä¼¼çš„å­—ç¬¦ï¼ˆå¦‚ç”¨æ•°å­—â€1â€æ›¿ä»£å­—æ¯â€iâ€ï¼‰æ¥æ¬ºéª—ç”¨æˆ·ã€‚</p>
<p><strong>å®‰å…¨å»ºè®®</strong></p>
<ul>
<li>å§‹ç»ˆé€å­—ç¬¦æ£€æŸ¥åŸŸå</li>
<li>è­¦æƒ•ä½¿ç”¨æ•°å­—ä»£æ›¿å­—æ¯çš„åŸŸåï¼ˆä¾‹å¦‚ï¼Œç”¨â€™1â€™ä»£æ›¿â€™iâ€™ï¼‰</li>
<li>æ”¶è—å®˜æ–¹ç½‘ç«™è€Œä¸æ˜¯ç‚¹å‡»ç”µå­é‚®ä»¶ä¸­çš„é“¾æ¥</li>
<li>ä½¿ç”¨å¯†ç ç®¡ç†å™¨ï¼Œå®ƒåªä¼šåœ¨åˆæ³•åŸŸåä¸Šè‡ªåŠ¨å¡«å……</li>
<li>å®‰è£…è­¦å‘Šé’“é±¼ç½‘ç«™çš„æµè§ˆå™¨æ‰©å±•</li>
</ul>
<h3 id="No-0x0007-è¶…é«˜æ”¶ç›Šè´¨æŠ¼å¹³å°"><a href="#No-0x0007-è¶…é«˜æ”¶ç›Šè´¨æŠ¼å¹³å°" class="headerlink" title="No.0x0007 è¶…é«˜æ”¶ç›Šè´¨æŠ¼å¹³å°"></a>No.0x0007 è¶…é«˜æ”¶ç›Šè´¨æŠ¼å¹³å°</h3><p>æŒ‘æˆ˜ï¼šäº†è§£å¦‚ä½•è¯†åˆ«å¯ç–‘çš„è´¨æŠ¼åˆçº¦</p>
<p>æŸäº›å¯ç–‘çš„è´¨æŠ¼åˆçº¦å¯èƒ½ä¼šå¼•å¯¼æ‚¨è¿›è¡Œ <strong>approve</strong> æˆæƒï¼Œè¡¨é¢ä¸Šçœ‹ä¼¼åªä¸ºäº†è´¨æŠ¼ç‰¹å®šé‡‘é¢ï¼Œå®é™…ä¸Šå´è¯·æ±‚å¯¹æ•´ä¸ªä»£å¸ä½™é¢çš„å®Œå…¨è®¿é—®æƒé™ã€‚ä¸€æ—¦æˆæƒæˆåŠŸï¼Œæ”»å‡»è€…å³å¯ä»»æ„è½¬èµ°æ‚¨çš„æ‰€æœ‰èµ„äº§ã€‚</p>
<img src="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-05%20145026.png" style="zoom:67%;">

<p>å¦‚ä¸Šå›¾ï¼Œå­˜åœ¨approveæ–¹æ³•éœ€è¦è°¨æ…ï¼ï¼</p>
<blockquote>
<p><code>approve</code> æ˜¯ <strong>ERC-20 ä»£å¸æ ‡å‡†</strong> ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒæ–¹æ³•ï¼Œç”¨äºæˆæƒå¦ä¸€ä¸ªåœ°å€ï¼ˆé€šå¸¸æ˜¯æ™ºèƒ½åˆçº¦ï¼‰ä»£è¡¨ä½ æ”¯é…ä¸€å®šæ•°é‡çš„ä»£å¸ã€‚å®ƒæ˜¯ DeFiï¼ˆå»ä¸­å¿ƒåŒ–é‡‘èï¼‰äº¤äº’çš„åŸºç¡€ï¼Œä½†é”™è¯¯ä½¿ç”¨å¯èƒ½å¯¼è‡´èµ„é‡‘é£é™©ã€‚</p>
</blockquote>
<h3 id="No-0x0008-Telegram-ä»£å¸é’“é±¼æŒ‘æˆ˜"><a href="#No-0x0008-Telegram-ä»£å¸é’“é±¼æŒ‘æˆ˜" class="headerlink" title="No.0x0008 Telegram ä»£å¸é’“é±¼æŒ‘æˆ˜"></a>No.0x0008 Telegram ä»£å¸é’“é±¼æŒ‘æˆ˜</h3><p>æŒ‘æˆ˜ï¼šå­¦ä¹ è¯†åˆ«å’Œé¿å… Telegram ä¸Šçš„åŠ©è®°è¯é’“é±¼æ”»å‡»</p>
<p>é£é™©ç‚¹ä¾æ—§æ˜¯æä¾›åŠ©è®°è¯ï¼Œæ‰€ä»¥åƒä¸‡ä¸è¦ç»™åˆ«äººæä¾›è‡ªå·±é’±åŒ…çš„åŠ©è®°è¯ï¼ï¼ï¼</p>
<img src="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-05%20145933.png" style="zoom:67%;">



<h3 id="No-0x0009-Punycode-é’“é±¼æ”»å‡»"><a href="#No-0x0009-Punycode-é’“é±¼æ”»å‡»" class="headerlink" title="No.0x0009 Punycode é’“é±¼æ”»å‡»"></a>No.0x0009 Punycode é’“é±¼æ”»å‡»</h3><p>æŒ‘æˆ˜ï¼šè¯†åˆ« Punycode é’“é±¼åŸŸå</p>
<ul>
<li>åœºæ™¯æè¿°</li>
</ul>
<p>æ‚¨æ”¶åˆ°ä¸€å°ç”µå­é‚®ä»¶ï¼Œå£°ç§°æ˜¯æ¥è‡ª Trezorï¼ˆä¸€ä¸ªçŸ¥åçš„ç¡¬ä»¶é’±åŒ…å“ç‰Œï¼‰çš„é‡è¦å®‰å…¨æ›´æ–°é€šçŸ¥ã€‚ç”µå­é‚®ä»¶ä¸­çš„é“¾æ¥çœ‹èµ·æ¥åƒæ˜¯æŒ‡å‘å®˜æ–¹ Trezor ç½‘ç«™ï¼Œä½†å®é™…ä¸Šæ˜¯ä¸€ä¸ªç²¾å¿ƒä¼ªè£…çš„é’“é±¼ç½‘ç«™ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tráº¹zor.com</span><br><span class="line">çœ‹èµ·æ¥åƒæ­£å¸¸çš„ Trezor åŸŸå</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<h4 id="ä»€ä¹ˆæ˜¯-Punycodeï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-Punycodeï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ Punycodeï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ Punycodeï¼Ÿ</h4><p>Punycode æ˜¯ä¸€ç§ç¼–ç ç³»ç»Ÿï¼Œå…è®¸å°†é ASCII å­—ç¬¦ï¼ˆå¦‚è¥¿é‡Œå°”å­—æ¯ã€ä¸­æ–‡ç­‰ï¼‰è½¬æ¢ä¸º ASCII å­—ç¬¦ï¼Œä»¥ä¾¿åœ¨åŸŸåç³»ç»Ÿä¸­ä½¿ç”¨ã€‚æ”»å‡»è€…ç»å¸¸åˆ©ç”¨è§†è§‰ä¸Šç›¸ä¼¼çš„å­—ç¬¦åˆ›å»ºçœ‹ä¼¼åˆæ³•çš„åŸŸåã€‚ ä¾‹å¦‚ï¼ŒæŸäº›ç‰¹æ®Šå­—ç¬¦çœ‹èµ·æ¥ä¸æ‹‰ä¸å­—æ¯å‡ ä¹ç›¸åŒï¼Œä½†å®ƒä»¬æ˜¯ä¸åŒçš„å­—ç¬¦ï¼š ä½ å¯ä»¥ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://www.punycoder.com/">Punycoder</a> æ¥è½¬æ¢ Unicode å’Œ Punycode åŸŸåã€‚</p>
<table>
<thead>
<tr>
<th align="left">æ˜¾ç¤ºåŸŸå</th>
<th align="left">å®é™… Punycode åŸŸå</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">tráº¹zor.com</td>
<td align="left">xnâ€“trzor-o51b.com</td>
<td align="left">ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦æ›¿æ¢äº†æŸäº›å­—æ¯</td>
</tr>
</tbody></table>
</blockquote>
<p>æ‰€ä»¥ trezorçš„å®˜æ–¹åŸŸååº”è¯¥ä¸ºtrezor.io</p>
<p>é˜²å¾¡æ–¹å¼ï¼š</p>
<ul>
<li>ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¾“å…¥å·²çŸ¥çš„å®˜æ–¹ç½‘å€ï¼Œè€Œä¸æ˜¯ç‚¹å‡»ç”µå­é‚®ä»¶ä¸­çš„é“¾æ¥</li>
<li>ä½¿ç”¨ä¹¦ç­¾ä¿å­˜å¸¸ç”¨çš„é‡è¦ç½‘ç«™</li>
<li>å®‰è£…å¯ä»¥æ£€æµ‹ Punycode åŸŸåçš„æµè§ˆå™¨æ‰©å±•</li>
<li>æ³¨æ„åŸŸåä¸­ä¸å¯»å¸¸çš„å­—ç¬¦æˆ–æ‹¼å†™</li>
</ul>
<h3 id="No-0x0010-å‰ªè´´æ¿é’“é±¼æŒ‘æˆ˜"><a href="#No-0x0010-å‰ªè´´æ¿é’“é±¼æŒ‘æˆ˜" class="headerlink" title="No.0x0010 å‰ªè´´æ¿é’“é±¼æŒ‘æˆ˜"></a>No.0x0010 å‰ªè´´æ¿é’“é±¼æŒ‘æˆ˜</h3><p>æŒ‘æˆ˜ï¼šè¯†åˆ«å‰ªè´´æ¿å‹é’“é±¼æ”»å‡»</p>
<ul>
<li>åœºæ™¯æè¿°</li>
</ul>
<p>æ‚¨éœ€è¦è½¬è´¦ 1 ETH åˆ°æœ‹å‹çš„é’±åŒ…ã€‚ä»–ä»¬å·²ç»åˆ†äº«äº†ä»–ä»¬çš„é’±åŒ…åœ°å€ï¼Œæ‚¨æ­£åœ¨ä½¿ç”¨åŠ å¯†è´§å¸è½¬è´¦ç•Œé¢è¿›è¡Œè½¬è´¦ã€‚</p>
<img src="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-05%20150754.png" style="zoom:50%;">



<p>å¤åˆ¶ç²˜è´´ä¹‹åï¼Œå‘ç°é’±åŒ…åœ°å€ä¸ä¹‹å‰çš„ä¸åŒäº†</p>
<ul>
<li>æ”»å‡»åŸç†ï¼š</li>
</ul>
<ol>
<li>æ”»å‡»è€…åˆ›å»ºä¸€ä¸ªçœ‹ä¼¼åˆæ³•çš„ç½‘ç«™</li>
<li>å½“ä½ ç‚¹å‡»â€å¤åˆ¶â€æŒ‰é’®æ—¶ï¼Œæ¶æ„JavaScriptä»£ç ä¼šç§˜å¯†æ›¿æ¢å¤åˆ¶çš„åœ°å€</li>
<li>å¦‚æœç²˜è´´åæ²¡æœ‰éªŒè¯åœ°å€ï¼Œä½ å¯èƒ½ä¼šå°†èµ„é‡‘å‘é€ç»™æ”»å‡»è€…</li>
</ol>
<ul>
<li><p>é˜²å¾¡æ–¹å¼ï¼š</p>
<ul>
<li><p>ç²˜è´´ååŠ¡å¿…å†æ¬¡æ£€æŸ¥åœ°å€</p>
</li>
<li><p>è€ƒè™‘ä½¿ç”¨å¸¦æœ‰åœ°å€éªŒè¯çš„ç¡¬ä»¶é’±åŒ…</p>
</li>
<li><p>åœ¨ç”µè„‘ä¸Šå¤åˆ¶æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚é’±åŒ…åœ°å€ï¼‰æ—¶è¦ç‰¹åˆ«å°å¿ƒ - å³ä½¿ä½¿ç”¨Ctrl+Cï¼Œæ¶æ„è½¯ä»¶ä¹Ÿå¯èƒ½ç¯¡æ”¹ä½ çš„å‰ªè´´æ¿å†…å®¹</p>
</li>
</ul>
</li>
</ul>
<h3 id="No-0x0011-Google-æœç´¢å¹¿å‘Šé’“é±¼æ”»å‡»"><a href="#No-0x0011-Google-æœç´¢å¹¿å‘Šé’“é±¼æ”»å‡»" class="headerlink" title="No.0x0011 Google æœç´¢å¹¿å‘Šé’“é±¼æ”»å‡»"></a>No.0x0011 Google æœç´¢å¹¿å‘Šé’“é±¼æ”»å‡»</h3><p>æŒ‘æˆ˜ï¼šè¯†åˆ« Google æœç´¢å¹¿å‘Šé’“é±¼</p>
<ul>
<li>åœºæ™¯æè¿°</li>
</ul>
<p>æ‚¨æƒ³è¦ä½¿ç”¨ Lido Finance è´¨æŠ¼ ETHã€‚åœ¨ Google ä¸Šæœç´¢â€Lido Financeâ€æ—¶çœ‹åˆ°è¿™äº›ç»“æœã€‚æ‚¨èƒ½è¯†åˆ«å‡ºå“ªä¸ªæ˜¯åˆæ³•ç½‘ç«™ï¼Œå“ªä¸ªæ˜¯é’“é±¼ç½‘ç«™å—ï¼Ÿ</p>
<img src="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-05%20151348.png" style="zoom:67%;">

<p>çœ‹ç¬¬ä¸€æ¡çš„å·¦ä¸Šè§’æœ‰ä¸€ä¸ªAdï¼Œæ˜¯å¹¿å‘Šçš„æ„æ€ï¼Œæ€€ç–‘æ˜¯é’“é±¼ç½‘ç«™</p>
<p>è¾¨åˆ«ç½‘ç«™çœŸä¼ªçš„æ–¹æ³•ï¼š</p>
<ul>
<li>æ”»å‡»è€…ç»å¸¸è´­ä¹°ä¸çƒ­é—¨åŠ å¯†è´§å¸é¡¹ç›®ç›¸å…³çš„ Google å¹¿å‘Šï¼Œè¿™äº›å¹¿å‘Šä¼šå‡ºç°åœ¨æœç´¢ç»“æœçš„é¡¶éƒ¨ï¼Œæ ‡è®°ä¸ºâ€èµåŠ©â€æˆ–â€å¹¿å‘Šâ€ã€‚</li>
<li>è¿™äº›å¹¿å‘Šé€šå¸¸ä½¿ç”¨ä¸å®˜æ–¹ç½‘ç«™éå¸¸ç›¸ä¼¼çš„åŸŸåï¼Œä½†æœ‰ç»†å¾®çš„å·®åˆ«ï¼Œä¾‹å¦‚ï¼š<ul>
<li>ä½¿ç”¨ä¸åŒçš„é¡¶çº§åŸŸåï¼ˆå¦‚ç”¨ .is ä»£æ›¿ .fiï¼‰</li>
<li>åœ¨åŸŸåä¸­æ·»åŠ æˆ–åˆ é™¤å­—æ¯</li>
<li>ä½¿ç”¨è¿å­—ç¬¦æˆ–ç”¨æ•°å­—æ›¿æ¢å­—æ¯</li>
<li>å½“ç”¨æˆ·ç‚¹å‡»è¿™äº›å¹¿å‘Šæ—¶ï¼Œä»–ä»¬ä¼šè¢«å¼•å¯¼åˆ°çœ‹èµ·æ¥ä¸å®˜æ–¹ç½‘ç«™å®Œå…¨ç›¸åŒçš„é’“é±¼ç½‘ç«™ï¼Œè¿™äº›ç½‘ç«™æ—¨åœ¨çªƒå–èµ„é‡‘æˆ–ç§é’¥ã€‚</li>
</ul>
</li>
</ul>
<h3 id="No-0x0012-Microsoft-Teams-é’“é±¼æ”»å‡»"><a href="#No-0x0012-Microsoft-Teams-é’“é±¼æ”»å‡»" class="headerlink" title="No.0x0012 Microsoft Teams é’“é±¼æ”»å‡»"></a>No.0x0012 Microsoft Teams é’“é±¼æ”»å‡»</h3><p>æœ¬é¡µé¢æ¨¡æ‹Ÿæ”»å‡»è€…å¦‚ä½•åˆ›å»ºè™šå‡çš„ Microsoft Teams ç½‘ç«™æ¥åˆ†å‘æ¶æ„è½¯ä»¶å’Œçªƒå–æ•æ„Ÿä¿¡æ¯ã€‚</p>
<img src="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-05%20151843.png" style="zoom:67%;">

<p>æœ¬ç¤ºä¾‹ä¸­çš„é’“é±¼æŒ‡æ ‡</p>
<ul>
<li><strong>å¯ç–‘ URL</strong>ï¼šæ³¨æ„åŸŸåæ˜¯ â€œmicrosoft-meet.comâ€ è€Œä¸æ˜¯ â€œteams.microsoft.comâ€</li>
<li><strong>ç®€åŒ–ç•Œé¢</strong>ï¼šä¸çœŸå®çš„ Teams ç™»å½•ç›¸æ¯”ï¼Œè™šå‡é¡µé¢å…·æœ‰ç®€åŒ–çš„ç•Œé¢</li>
<li><strong>ç¼ºä¹å®‰å…¨åŠŸèƒ½</strong>ï¼šç¼ºå°‘ Microsoft é€šå¸¸åŒ…å«çš„å®‰å…¨å…ƒç´ </li>
<li><strong>åŠ å…¥æŒ‰é’®</strong>ï¼šçªå‡ºçš„ â€œåœ¨ Teams åº”ç”¨ç¨‹åºä¸­åŠ å…¥â€ æŒ‰é’®å¯èƒ½ä¼šå¯¼è‡´æ¶æ„è½¯ä»¶ä¸‹è½½</li>
</ul>
<p>å®‰å…¨æç¤º</p>
<ul>
<li>åœ¨è¾“å…¥å‡­æ®æˆ–ä¸‹è½½è½¯ä»¶ä¹‹å‰ï¼Œå§‹ç»ˆéªŒè¯ URLã€‚</li>
<li>ä»…ä»å®˜æ–¹ Microsoft ç½‘ç«™æˆ–åº”ç”¨å•†åº—ä¸‹è½½ Microsoft Teamsã€‚</li>
<li>å¯¹ä»»ä½•å¼‚å¸¸çš„å®‰è£…è¿‡ç¨‹æˆ–è¯·æ±‚ä¿æŒè­¦æƒ•ã€‚</li>
<li>å¦‚æœæ‚¨ä¸‹è½½äº†å¯ç–‘çš„è½¯ä»¶åŒ…ï¼Œå¯ä»¥åœ¨æ‰“å¼€ä¹‹å‰ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://www.virustotal.com/">VirusTotal.com</a> è¿›è¡Œæ‰«æã€‚ä½†è¯·æ³¨æ„ï¼Œå³ä½¿æ²¡æœ‰æ£€æµ‹åˆ°å¨èƒï¼ˆ0 æ£€æµ‹ï¼‰ï¼Œä¹Ÿä¸èƒ½ä¿è¯ç»å¯¹å®‰å…¨ã€‚</li>
</ul>
<blockquote>
<h2 id="Microsoft-Teams-é’“é±¼æ”»å‡»çš„å·¥ä½œåŸç†"><a href="#Microsoft-Teams-é’“é±¼æ”»å‡»çš„å·¥ä½œåŸç†" class="headerlink" title="Microsoft Teams é’“é±¼æ”»å‡»çš„å·¥ä½œåŸç†"></a>Microsoft Teams é’“é±¼æ”»å‡»çš„å·¥ä½œåŸç†</h2><p>æ”»å‡»è€…åˆ›å»ºä»¤äººä¿¡æœçš„ Microsoft Teams ç™»å½•é¡µé¢æˆ–æ›´æ–°é€šçŸ¥çš„å¤åˆ¶å“ï¼Œè¯±éª—ç”¨æˆ·ä¸‹è½½æ¶æ„è½¯ä»¶æˆ–æ³„éœ²å…¶å‡­æ®ã€‚è¿™äº›æ”»å‡»å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œé’ˆå¯¹ä¸ªäººå’Œç»„ç»‡ã€‚</p>
<p>é£é™©1ï¼šæ•°æ®æ³„éœ²</p>
<p>é€šè¿‡è™šå‡ Teams æ›´æ–°å®‰è£…çš„æ¶æ„è½¯ä»¶å¯ä»¥è®¿é—®æ‚¨è®¾å¤‡ä¸Šçš„æ•æ„Ÿæ–‡ä»¶ï¼Œå¯èƒ½å¯¼è‡´æœªç»æˆæƒè®¿é—®ä¸ªäººå’Œå…¬å¸æ•°æ®ã€‚è¿™å¯èƒ½å¯¼è‡´çŸ¥è¯†äº§æƒç›—çªƒã€æœºå¯†ä¿¡æ¯æ³„éœ²å’Œåˆè§„è¿è§„ã€‚</p>
<p>é£é™©2ï¼šå‡­æ®ç›—çªƒ</p>
<p>å½“ç”¨æˆ·åœ¨è™šå‡ Teams ç½‘ç«™ä¸Šè¾“å…¥å…¶ Microsoft å‡­æ®æ—¶ï¼Œæ”»å‡»è€…ä¼šæ•è·è¿™äº›ä¿¡æ¯ä»¥è·å–å¯¹ç”µå­é‚®ä»¶ã€OneDriveã€SharePoint å’Œå…¶ä»– Microsoft 365 æœåŠ¡çš„è®¿é—®æƒé™ã€‚è¿™å¯èƒ½å¯¼è‡´è´¦æˆ·è¢«æ¥ç®¡å¹¶è¿›ä¸€æ­¥å±åŠç»„ç»‡èµ„æºã€‚</p>
<p>é£é™©3ï¼šé’±åŒ…èµ„é‡‘è€—å°½</p>
<p>å¯¹äºä»åŒä¸€è®¾å¤‡è®¿é—®åŠ å¯†è´§å¸é’±åŒ…æˆ–é‡‘èæœåŠ¡çš„ç”¨æˆ·ï¼Œé€šè¿‡è™šå‡ Teams æ›´æ–°å®‰è£…çš„æ¶æ„è½¯ä»¶å¯èƒ½åŒ…å«æ‰«æé’±åŒ…å‡­æ®çš„åŠŸèƒ½ï¼Œå¯¼è‡´æ•°å­—èµ„äº§è¢«ç›—ã€‚</p>
</blockquote>
<h3 id="No-0x0037-è™šå‡æ‰©å±•ç¨‹åºé’“é±¼"><a href="#No-0x0037-è™šå‡æ‰©å±•ç¨‹åºé’“é±¼" class="headerlink" title="No.0x0037 è™šå‡æ‰©å±•ç¨‹åºé’“é±¼"></a>No.0x0037 è™šå‡æ‰©å±•ç¨‹åºé’“é±¼</h3><p>æŒ‘æˆ˜ï¼šè¯†åˆ«å‡ºè™šå‡æ‰©å±•ç¨‹åº</p>
<img src="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-05%20155308.png" style="zoom: 50%;">

<p>æ‰©å±•ç¨‹åºå®‰å…¨æœ€ä½³å®è·µï¼š</p>
<ul>
<li>å§‹ç»ˆä»å®˜æ–¹ç½‘ç«™ä¸‹è½½ï¼šç›´æ¥è®¿é—®å®˜æ–¹ç½‘ç«™ï¼ˆä¾‹å¦‚ metamask.ioï¼‰ï¼Œè€Œä¸æ˜¯åœ¨æ‰©å±•å•†åº—ä¸­æœç´¢ã€‚è™šå‡æˆ–æ¶æ„æ‰©å±•ç¨‹åºå¯èƒ½å‡ºç°åœ¨æœç´¢ç»“æœä¸­ï¼Œç”šè‡³å‡ºç°åœ¨å®˜æ–¹æ‰©å±•å•†åº—ä¸­ï¼Œæœ‰æ—¶ä¼šæ¨¡ä»¿çœŸå®æ‰©å±•ç¨‹åºçš„åç§°ã€å›¾æ ‡æˆ–å“ç‰Œã€‚é€šè¿‡è®¿é—®å®˜æ–¹ç½‘ç«™ï¼Œæ‚¨å¯ä»¥ç¡®ä¿è·å¾—æ­£å®—ã€å®‰å…¨çš„ç‰ˆæœ¬ï¼Œé¿å…è½å…¥å¯èƒ½å±åŠæ‚¨å®‰å…¨å’Œèµ„äº§çš„ä»¿å†’æˆ–è¯ˆéª—åˆ—è¡¨çš„é™·é˜±ã€‚</li>
<li>æ£€æŸ¥ç”¨æˆ·æ•°é‡å’Œè¯„è®ºï¼šå®˜æ–¹æ‰©å±•ç¨‹åºæ‹¥æœ‰å¤§é‡ç”¨æˆ·å’Œæ™®éç§¯æçš„è¯„è®º</li>
<li>ä»”ç»†é˜…è¯»æƒé™ï¼šåªæˆäºˆå¿…è¦çš„æƒé™</li>
<li>ä¿æŒæ‰©å±•ç¨‹åºæ›´æ–°ï¼šå®šæœŸæ›´æ–°é€šå¸¸åŒ…å«å®‰å…¨è¡¥ä¸</li>
<li>åˆ é™¤æœªä½¿ç”¨çš„æ‰©å±•ç¨‹åºï¼šé€šè¿‡åˆ é™¤ä¸å†ä½¿ç”¨çš„æ‰©å±•ç¨‹åºæ¥å‡å°‘æ”»å‡»é¢</li>
</ul>
<h3 id="ä¸­çº§"><a href="#ä¸­çº§" class="headerlink" title="ä¸­çº§"></a>ä¸­çº§</h3><h3 id="No-0x0013-TransferFrom-é›¶å€¼è½¬è´¦é’“é±¼æŒ‘æˆ˜"><a href="#No-0x0013-TransferFrom-é›¶å€¼è½¬è´¦é’“é±¼æŒ‘æˆ˜" class="headerlink" title="No.0x0013 TransferFrom é›¶å€¼è½¬è´¦é’“é±¼æŒ‘æˆ˜"></a>No.0x0013 TransferFrom é›¶å€¼è½¬è´¦é’“é±¼æŒ‘æˆ˜</h3><p>æŒ‘æˆ˜ï¼šå­¦ä¹ è¯†åˆ«å’Œé¿å…é›¶å€¼è½¬è´¦è¯ˆéª—</p>
<p><img src="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-05%20153732.png"></p>
<p>å‘ç°æˆ‘çš„é’±åŒ…åœ°å€å’Œå‘é€æ–¹å‘é€åˆ°æ¥æ”¶æ–¹çš„åœ°å€ä¸åŒ</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">æˆ‘çš„é’±åŒ…ï¼š		   	0x1234ab7890123456781232345678901234567890</span><br><span class="line">å‘é€æ–¹çš„å‘é€åˆ°çš„åœ°å€ï¼š	0x1234ab789012345678abc2345678901234567890</span><br></pre></td></tr></tbody></table></figure>

<p>è¯ˆéª—è€…ç»å¸¸ä½¿ç”¨é›¶å€¼è½¬è´¦æ¥åˆ›å»ºä¸ä¼ªé€ åœ°å€çš„è™šå‡äº¤æ˜“å†å²ï¼Œè®©å—å®³è€…ä»¥ä¸ºè¯¥åœ°å€ä¸ºå¯ä¿¡åœ°å€ï¼Œä»è€Œåšåˆ°åœ°å€æ··æ·†ï¼Œè®©å—å®³è€…å‘æ”»å‡»æ–¹åœ°å€è¿›è¡Œè½¬è´¦ã€‚</p>
<p>å¦‚ä½•ä¿æŠ¤è‡ªå·±ï¼š</p>
<ul>
<li><strong>å§‹ç»ˆéªŒè¯å®Œæ•´åœ°å€</strong>ï¼Œè€Œä¸ä»…ä»…æ˜¯å¼€å¤´å’Œç»“å°¾</li>
<li>è­¦æƒ•çœ‹èµ·æ¥ä¸æ‚¨ä¹‹å‰äº¤äº’è¿‡çš„åœ°å€ç›¸ä¼¼çš„åœ°å€</li>
<li>ä»”ç»†æ£€æŸ¥äº¤æ˜“å†å²ï¼ŒåŒ…æ‹¬é›¶å€¼è½¬è´¦</li>
<li>ä½¿ç”¨é’±åŒ…çš„åœ°å€ç°¿åŠŸèƒ½æ ‡è®°å¯ä¿¡åœ°å€</li>
<li>è€ƒè™‘ä½¿ç”¨å¸¦æœ‰åœ°å€éªŒè¯åŠŸèƒ½çš„ç¡¬ä»¶é’±åŒ…</li>
</ul>
<blockquote>
<h3 id="è¯ˆéª—è€…åˆ©ç”¨â€œé›¶å€¼è½¬è´¦â€ä¼ªé€ äº¤æ˜“å†å²çš„åŸç†åŠé˜²èŒƒæªæ–½"><a href="#è¯ˆéª—è€…åˆ©ç”¨â€œé›¶å€¼è½¬è´¦â€ä¼ªé€ äº¤æ˜“å†å²çš„åŸç†åŠé˜²èŒƒæªæ–½" class="headerlink" title="è¯ˆéª—è€…åˆ©ç”¨â€œé›¶å€¼è½¬è´¦â€ä¼ªé€ äº¤æ˜“å†å²çš„åŸç†åŠé˜²èŒƒæªæ–½"></a><strong>è¯ˆéª—è€…åˆ©ç”¨â€œé›¶å€¼è½¬è´¦â€ä¼ªé€ äº¤æ˜“å†å²çš„åŸç†åŠé˜²èŒƒæªæ–½</strong></h3><h4 id="1-æ”»å‡»åŸç†"><a href="#1-æ”»å‡»åŸç†" class="headerlink" title="1. æ”»å‡»åŸç†"></a><strong>1. æ”»å‡»åŸç†</strong></h4><p>è¯ˆéª—è€…é€šè¿‡å‘é€ <strong>é›¶å€¼è½¬è´¦ï¼ˆ0 ETH æˆ– 0 ä»£å¸ï¼‰</strong> åˆ° <strong>ä¼ªé€ åœ°å€</strong>ï¼Œç›®çš„æ˜¯åœ¨åŒºå—é“¾æµè§ˆå™¨ï¼ˆå¦‚ Etherscanï¼‰ä¸Šåˆ¶é€ è™šå‡çš„äº¤æ˜“å†å²ï¼Œè¯±å¯¼å—å®³è€…è¯¯è®¤ä¸ºè¯¥åœ°å€æ˜¯å¯ä¿¡çš„ã€‚å…·ä½“æ‰‹æ³•å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>ä¼ªé€ äº¤æ˜“å†å²</strong>ï¼š<br>  æ”»å‡»è€…å‘ç›®æ ‡åœ°å€ï¼ˆå¦‚ <code>0x123...abc</code>ï¼‰å‘é€å¤šç¬” <code>0 ETH</code> è½¬è´¦ï¼Œä½¿è¯¥åœ°å€åœ¨ Etherscan ä¸Šæ˜¾ç¤ºä¸â€œçŸ¥ååœ°å€â€ï¼ˆå¦‚äº¤æ˜“æ‰€ã€é¡¹ç›®æ–¹ï¼‰æœ‰äº¤äº’è®°å½•ã€‚<ul>
<li>ä¾‹å¦‚ï¼šæ”»å‡»è€…å¯èƒ½ä¼ªé€ ä¸€ä¸ªä¸ <strong>Uniswap è·¯ç”±åˆçº¦</strong> ç›¸ä¼¼çš„åœ°å€ï¼Œå¹¶æå‰ç”¨é›¶å€¼è½¬è´¦åˆ¶é€ â€œæ´»è·ƒè®°å½•â€ã€‚</li>
</ul>
</li>
<li><strong>åœ°å€æ··æ·†ï¼ˆAddress Poisoningï¼‰</strong>ï¼š<br>  æ”»å‡»è€…ç”Ÿæˆä¸€ä¸ªä¸å—å®³è€…å¸¸ç”¨åœ°å€ <strong>å¼€å¤´å’Œç»“å°¾ç›¸ä¼¼</strong> çš„åœ°å€ï¼ˆå¦‚ <code>0x1234...5678</code> vs <code>0x1234...9876</code>ï¼‰ï¼Œå¹¶å‘é€é›¶å€¼è½¬è´¦ï¼Œä½¿å—å®³è€…åœ¨å¤åˆ¶ç²˜è´´æ—¶è¯¯é€‰é”™è¯¯åœ°å€ã€‚</li>
<li><strong>è¯±å¯¼è½¬è´¦</strong>ï¼š<br>  å½“å—å®³è€…çœ‹åˆ°è¯¥åœ°å€æœ‰â€œå†å²äº¤æ˜“â€æ—¶ï¼Œå¯èƒ½è¯¯ä»¥ä¸ºæ˜¯åˆæ³•åœ°å€ï¼Œä»è€Œå°†èµ„é‡‘è½¬å…¥è¯ˆéª—è€…çš„é’±åŒ…ã€‚</li>
</ul>
</blockquote>
<h1 id="8æœˆ6æ—¥"><a href="#8æœˆ6æ—¥" class="headerlink" title="8æœˆ6æ—¥"></a>8æœˆ6æ—¥</h1><table>
<thead>
<tr>
<th>ä»Šæ—¥å­¦ä¹ å†…å®¹</th>
</tr>
</thead>
<tbody><tr>
<td>MyFirstLayer2 éƒ¨åˆ†å­¦ä¹ </td>
</tr>
<tr>
<td>åŒºå—é“¾å²—ä½å…¨æ™¯å›¾</td>
</tr>
</tbody></table>
<h2 id="MyFirstLayer2"><a href="#MyFirstLayer2" class="headerlink" title="MyFirstLayer2"></a>MyFirstLayer2</h2><h3 id="1-å…¬é“¾ç“¶é¢ˆ"><a href="#1-å…¬é“¾ç“¶é¢ˆ" class="headerlink" title="1 å…¬é“¾ç“¶é¢ˆ"></a>1 å…¬é“¾ç“¶é¢ˆ</h3><h4 id="1-1æ”¹è¿›å°è¯•"><a href="#1-1æ”¹è¿›å°è¯•" class="headerlink" title="1.1æ”¹è¿›å°è¯•"></a>1.1æ”¹è¿›å°è¯•</h4><p>ä¸ºäº†ä¿è¯å‚ä¸é—¨æ§›è¶³å¤Ÿä½ï¼Œæ¯”ç‰¹å¸å°†å…¨ç½‘åŒæ­¥çš„å‡ºå—æ—¶é—´æ§åˆ¶åœ¨ 10 åˆ†é’Ÿï¼Œå¹³å‡ TPS ï¼ˆæ¯ç§’å¯å¤„ç†äº¤æ˜“ç¬”æ•°ï¼‰ä»…æœ‰ä¸ªä½æ•°ã€‚ä»¥å¤ªåŠå‡ºå—æ—¶é—´çº¦ 12 ç§’ï¼Œå¹³å‡ TPS ä¹Ÿä»…æœ‰åå‡ ç¬”ã€‚è¿™å¯¹æ¯”äºä¼ ç»Ÿ Web2 çš„ç»æµæ´»åŠ¨æ¥è¯´ï¼Œè¿œè¿œä¸å¤Ÿç”¨</p>
<p>æé«˜åŒºå—é“¾æ€§èƒ½çš„ä¸¤ä¸ªå°è¯•ï¼š</p>
<ul>
<li><p><u>å¢å¤§å•ä¸ªåŒºå—çš„å¤§å°ï¼Œå®¹çº³æ›´å¤šçš„äº¤æ˜“</u></p>
<p>  è¿™æ ·åšä¼šå¼•èµ·åŒºå—è´¦æœ¬çš„å¿«é€Ÿè†¨èƒ€ï¼Œå‚ä¸éªŒè¯çš„æœºå™¨æ€§èƒ½è¦æ±‚è¶Šæ¥è¶Šé«˜ï¼Œæé«˜äº†å‚ä¸é—¨æ§›ï¼Œå¯¼è‡´æ•´ä¸ªç½‘ç»œå»ä¸­å¿ƒåŒ–ç¨‹åº¦å’Œå®‰å…¨æ€§æ¸æ¸é™ä½ã€‚ä» BTC åˆ†å‰å‡ºæ¥çš„ BCHï¼ˆBitcoin Cashï¼‰ å°†åŒºå—å¤§å°ä» 1MB æå‡è‡³ 32MBï¼ŒBSVï¼ˆBitcoin Satoshiâ€™s Visionï¼‰ åˆ™æ˜¯æ›´æ¿€è¿›åœ°å–æ¶ˆäº†åŒºå—å¤§å°ä¸Šé™ï¼Œå…è®¸æ— é™å¤šçš„ä¿¡æ¯èå…¥ä¸€ä¸ªåŒºå—ã€‚</p>
</li>
<li><p><u>é™ä½å‡ºå—çš„æ—¶é—´ï¼Œè¿½æ±‚ä¸€å®šæ—¶é—´å†…å‡ºæ›´å¤šçš„å—æ¥å¤„ç†æ›´å¤šçš„äº¤æ˜“</u></p>
<p>  è¿™æ ·å¯¹èŠ‚ç‚¹çš„ç½‘ç»œæ¡ä»¶æå‡ºäº†æ›´é«˜è¦æ±‚ï¼Œæé«˜äº†å‚ä¸é—¨æ§›ã€‚å¹¶ä¸”å½±å“äº†å…¨ç½‘æ•°æ®åŒæ­¥çš„ç¨³å®šæ€§ï¼Œå› ä¸ºç‰©ç†ä¸Šç›¸éš”è¾ƒè¿œçš„èŠ‚ç‚¹é›†ç¾¤å®¹æ˜“å¯¹æœ€æ–°çš„åŒºå—äº§ç”Ÿåˆ†æ­§ï¼Œå¯¼è‡´åˆ†å‰ã€‚åˆ†å‰é“¾æ€»éœ€è¦ç«äº‰å‡ºæ–°çš„æœ€é•¿é“¾ï¼ŒæŠ›å¼ƒå…¶ä¸­çš„ä¸€æ¡åˆ†æ”¯ï¼Œå¯¼è‡´è¿‡å»ä¸€æ®µæ—¶é—´å†…çš„è®¸å¤šäº¤æ˜“è¢«é‡å†™ï¼Œè¿™å°±æ˜¯â€œåŒºå—é‡ç»„â€ç°è±¡ï¼ŒPolygon åœ¨ 2023 å¹´å‘ç”Ÿè¿‡ 157 ä¸ªåŒºå—çš„é‡ç»„äº‹ä»¶ã€‚</p>
</li>
</ul>
<p>æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…¬é“¾è¯•å›¾ç”¨æ›´æ¿€è¿›çš„æ–¹å¼æ”¹å–„æ€§èƒ½ï¼š</p>
<ul>
<li><p><u>ä½¿ç”¨æ•°é‡æ›´å°‘çš„è¶…çº§èŠ‚ç‚¹é€šè®¯ï¼š</u></p>
<p>  è¶…çº§èŠ‚ç‚¹çš„æ€§èƒ½æ›´å¼ºå¤§ï¼Œç½‘ç»œå¸¦å®½æ›´å¥½æ›´ç¨³å®šï¼Œå› æ­¤å½¼æ­¤ä¹‹é—´èƒ½å®ç°è¶…é«˜é€Ÿçš„é€šè®¯ï¼Œä½†è¿™æ˜¾ç„¶é™ä½äº†å»ä¸­å¿ƒåŒ–ç¨‹åº¦ã€‚å¦‚ Fanton æœ‰ 51 ä¸ªå…±è¯†èŠ‚ç‚¹ï¼ŒBSCã€EOSã€TRON åˆ™ä»…æœ‰ 21 ä¸ªè¶…çº§èŠ‚ç‚¹ã€‚</p>
</li>
<li><p><u>ç”¨ç‰¹æ®Šçš„å…±è¯†æœºåˆ¶æå‡æ€§èƒ½ï¼š</u></p>
<p>  å…±è¯†æœºåˆ¶å†³å®šäº†å…¨ç½‘èŠ‚ç‚¹å¯¹å‡ºå—æ–¹å¼å¦‚ä½•è¾¾æˆå…±è¯†ï¼Œä¸€äº›ç‰¹æ®Šçš„æœºåˆ¶ä¹Ÿè®¸å¯ä»¥æé«˜å‡ºå—é€Ÿåº¦ï¼Œä½†å…±è¯†æœºåˆ¶è¶Šå¤æ‚ï¼Œå°±å¯¹æœºå™¨æ€§èƒ½è¦æ±‚è¶Šé«˜ï¼Œä¹Ÿæ›´å®¹æ˜“å‡ºç°å•ç‚¹æ•…éšœå¯¼è‡´æ•´ä¸ªç³»ç»Ÿå‡ºé”™ã€‚å¦‚ Solanaï¼Œå…¨ç½‘èŠ‚ç‚¹ä¾èµ–éšæœºé€‰å‡ºçš„å•ä¸ª Leader èŠ‚ç‚¹æ¥åè°ƒï¼Œå› æ­¤è·å¾—äº†æé«˜çš„ç†è®º TPS ä¸Šé™ï¼Œä½†å¯¹èŠ‚ç‚¹æ€§èƒ½è¦æ±‚å˜å¾—éå¸¸é«˜ï¼Œå¹¶å¤šæ¬¡å‘ç”Ÿå…¨ç½‘å®•æœºçš„å®‰å…¨æ€§äº‹æ•…ã€‚</p>
</li>
</ul>
<p>ç›®å‰é«˜æ€§èƒ½å…¬é“¾çš„æ¢ç´¢æˆæœï¼Œæ™®éè·å¾—äº†å°† TPS æå‡è‡³ 100 ~ 1000 çš„æˆç»©ï¼Œä½†å…±è¯†èŠ‚ç‚¹æ•°é‡ä¹Ÿé™ä½ä¸ºå‡ åä¸ªè‡³ä¸€åƒå¤šä¸ªä¸ç­‰ã€‚å¯¹æ¯”äºä»¥å¤ªåŠåˆ†å¸ƒå…¨çƒçš„è¿‘ä¸‡ä¸ªå…±è¯†èŠ‚ç‚¹ ï¼Œé«˜æ€§èƒ½å…¬é“¾åœ¨æ€§èƒ½æé«˜äº†ä¸€ä¸¤ä¸ªæ•°é‡çº§çš„åŒæ—¶ï¼Œå»ä¸­å¿ƒåŒ–ç¨‹åº¦ä¹Ÿä¸‹é™äº†ä¸€ä¸¤ä¸ªæ•°é‡çº§ã€‚</p>
<h4 id="1-2-åŒºå—é“¾ä¸‰éš¾å›°å¢ƒ"><a href="#1-2-åŒºå—é“¾ä¸‰éš¾å›°å¢ƒ" class="headerlink" title="1.2 åŒºå—é“¾ä¸‰éš¾å›°å¢ƒ"></a>1.2 åŒºå—é“¾ä¸‰éš¾å›°å¢ƒ</h4><p>ç”±äºåŒºå—é“¾çš„åº•å±‚ç‰¹æ€§ï¼Œå­˜åœ¨ä¸€ä¸ªä¸å¯èƒ½ä¸‰è§’æ‚–è®ºã€‚åŒºå—é“¾ä¸å¯èƒ½ä¸‰è§’ï¼ˆBlockchain Trilemmaï¼‰æ˜¯æŒ‡åœ¨è®¾è®¡åŒºå—é“¾ç³»ç»Ÿæ—¶ï¼Œå­˜åœ¨ä¸‰ä¸ªç›®æ ‡ä¹‹é—´çš„çŸ›ç›¾ï¼Œè¿™ä¸‰ä¸ªç›®æ ‡åˆ†åˆ«æ˜¯å»ä¸­å¿ƒåŒ–ã€å®‰å…¨æ€§å’Œå¯æ‰©å±•æ€§ï¼ˆæ€§èƒ½ï¼‰</p>
<ol>
<li><strong>å»ä¸­å¿ƒåŒ–</strong>ï¼ˆDecentralizationï¼‰ï¼šæŒ‡çš„æ˜¯åœ¨åŒºå—é“¾ç³»ç»Ÿä¸­ï¼Œæ‰€æœ‰çš„èŠ‚ç‚¹éƒ½å…·æœ‰ç›¸åŒçš„æƒåŠ›ï¼Œæ²¡æœ‰å•ä¸€çš„ä¸­å¿ƒåŒ–æƒå¨èŠ‚ç‚¹è¿›è¡Œæ§åˆ¶ã€‚è¿™ä¸ªç›®æ ‡æ˜¯åŒºå—é“¾çš„æ ¸å¿ƒç‰¹æ€§ï¼Œä¹Ÿæ˜¯ä¿è¯ç³»ç»Ÿå®‰å…¨æ€§å’ŒæŠ—æ”»å‡»æ€§çš„åŸºç¡€ã€‚</li>
<li><strong>å®‰å…¨æ€§</strong>ï¼ˆSecurityï¼‰ï¼šæŒ‡çš„æ˜¯åœ¨åŒºå—é“¾ç³»ç»Ÿä¸­ï¼Œä¿è¯äº¤æ˜“çš„çœŸå®æ€§ã€å®Œæ•´æ€§ã€ä¸å¯ç¯¡æ”¹æ€§å’ŒæŠ—æ”»å‡»æ€§ç­‰æ–¹é¢çš„å®‰å…¨ã€‚è¿™ä¸ªç›®æ ‡æ˜¯åŒºå—é“¾ç³»ç»Ÿçš„é‡è¦ä¿éšœï¼Œä¹Ÿæ˜¯ç¡®ä¿ç³»ç»Ÿå¯é æ€§å’Œä¿¡ä»»åº¦çš„åŸºç¡€ã€‚</li>
<li><strong>å¯æ‰©å±•æ€§</strong>ï¼ˆScalabilityï¼‰ï¼šå¯æ‰©å±•æ€§å³æ€§èƒ½ï¼ŒæŒ‡çš„æ˜¯åœ¨åŒºå—é“¾ç³»ç»Ÿä¸­ï¼Œæ”¯æŒè¶³å¤Ÿå¤§é‡çš„äº¤æ˜“ã€èŠ‚ç‚¹å’Œç”¨æˆ·ç­‰ç³»ç»Ÿæ‰©å±•ã€‚è¿™ä¸ªç›®æ ‡æ˜¯åŒºå—é“¾ç³»ç»Ÿçš„é‡è¦éœ€æ±‚ï¼Œä¹Ÿæ˜¯ç¡®ä¿ç³»ç»Ÿèƒ½å¤Ÿæ»¡è¶³ç°å®éœ€æ±‚çš„åŸºç¡€ã€‚</li>
</ol>
<p>è¿™ä¸‰ä¸ªç›®æ ‡ä¹‹é—´å­˜åœ¨çŸ›ç›¾å…³ç³»ã€‚ä¾‹å¦‚ï¼Œåœ¨è¿½æ±‚æ›´é«˜çš„å»ä¸­å¿ƒåŒ–çš„æƒ…å†µä¸‹ï¼Œéœ€è¦æ‰€æœ‰èŠ‚ç‚¹éƒ½ä¿å­˜å®Œæ•´çš„åŒºå—é“¾æ•°æ®ï¼Œä½†æ˜¯è¿™ä¼šå¯¼è‡´ç³»ç»Ÿçš„å¯æ‰©å±•æ€§é™ä½ã€‚ç›¸åï¼Œåœ¨è¿½æ±‚æ›´é«˜çš„å¯æ‰©å±•æ€§çš„æƒ…å†µä¸‹ï¼Œéœ€è¦ç‰ºç‰²ä¸€å®šçš„å»ä¸­å¿ƒåŒ–ï¼›è¿˜æ¯”å¦‚é‡‡ç”¨åˆ†ç‰‡æŠ€æœ¯ [1] æ¥æ‰©å®¹ï¼Œä½†æ˜¯å¯èƒ½å¯¼è‡´èŠ‚ç‚¹åŒæ­¥æ•°æ®å›°éš¾ï¼Œæ›´å®¹æ˜“å‘ç”Ÿæ•…éšœï¼Œå¯¼è‡´å®‰å…¨æ€§é™ä½ã€‚</p>
<p><strong>é«˜å®‰å…¨æ€§å’Œé«˜å¯æ‰©å±•æ€§</strong></p>
<p>è¿½æ±‚å®‰å…¨æ€§å’Œå¯æ‰©å±•æ€§ï¼ˆå³æ€§èƒ½ï¼‰ï¼Œå¾€å¾€é‡‡ç”¨å°‘æ•°è¶…çº§èŠ‚ç‚¹è¿›è¡Œé€šè®¯ï¼Œè¶…çº§èŠ‚ç‚¹æ‹¥æœ‰æ›´å¼ºçš„æ€§èƒ½å’Œæ›´å¥½çš„ç½‘ç»œç¯å¢ƒï¼Œå½¼æ­¤ä¹‹é—´èƒ½å®ç°è¶…é«˜é€Ÿçš„é€šè®¯ã€‚ä½†å‚ä¸é—¨æ§›è¿‡é«˜ï¼Œç‰ºç‰²äº†å»ä¸­å¿ƒåŒ–ç¨‹åº¦ã€‚</p>
<p>ä»£è¡¨åŒºå—é“¾ï¼šBSCã€EOSã€TRON ç­‰åŒºå—é“¾é‡‡ç”¨äº†å°‘æ•°é«˜æ€§èƒ½èŠ‚ç‚¹ç»´æŠ¤ç½‘ç»œï¼Œä»…æœ‰ 21 ä¸ªè¶…çº§èŠ‚ç‚¹è¿›è¡Œè®°è´¦ã€‚</p>
<p><strong>é«˜å¯æ‰©å±•æ€§å’Œé«˜å»ä¸­å¿ƒåŒ–</strong></p>
<p>è¿½æ±‚å¯æ‰©å±•æ€§ï¼ˆå³æ€§èƒ½ï¼‰å’Œå»ä¸­å¿ƒåŒ–ç¨‹åº¦ï¼Œä¸ºä¿è¯å»ä¸­å¿ƒåŒ–é‡‡ç”¨äº†è¾ƒå¤šéªŒè¯èŠ‚ç‚¹ï¼Œä¸ºäº†è¿½æ±‚æ€§èƒ½æé«˜äº†å‡ºå—é€Ÿåº¦ï¼Œæˆ–é‡‡ç”¨äº†ç‰¹æ®Šçš„å…±è¯†æœºåˆ¶ã€‚ä½†æé«˜å‡ºå—é€Ÿåº¦å®¹æ˜“å¯¼è‡´å¤§è§„æ¨¡åŒºå—é‡ç»„ï¼Œæ›´å¤æ‚çš„å…±è¯†æœºåˆ¶å®¹æ˜“å¯¼è‡´å…¨ç½‘å®•æœºç­‰å®‰å…¨äº‹æ•…ï¼Œç‰ºç‰²äº†å®‰å…¨æ€§ã€‚</p>
<p>ä»£è¡¨åŒºå—é“¾ï¼šPolygon åœ¨ 2023 å¹´å‘ç”Ÿäº† 157 ä¸ªåŒºå—çš„å¤§è§„æ¨¡é‡ç»„ï¼›Solana å¤šæ¬¡å‡ºç°å…¨ç½‘å®•æœºçš„äº‹æ•…ã€‚</p>
<p><strong>é«˜å»ä¸­å¿ƒåŒ–å’Œé«˜å®‰å…¨æ€§</strong></p>
<p>è¿½æ±‚å»ä¸­å¿ƒåŒ–ç¨‹åº¦å’Œå®‰å…¨æ€§ï¼Œé‡‡ç”¨æ›´å¤šçš„èŠ‚ç‚¹å’Œæ›´å…¬å¹³çš„å‡ºå—æ–¹å¼ï¼Œå€¼å¾—ä¿¡èµ–ã€‚ä½†ä¸ºäº†å…è®¸ä½æ€§èƒ½èŠ‚ç‚¹å‚ä¸éªŒè¯ï¼Œåè°ƒå…¨çƒç½‘ç»œå»¶è¿Ÿï¼Œå¯¼è‡´æ¯ç§’å¯å¤„ç†çš„äº¤æ˜“æ•°è¾ƒä½ï¼Œç‰ºç‰²äº†æ€§èƒ½ã€‚</p>
<p>ä»£è¡¨åŒºå—é“¾ï¼šBTCã€ETH è¿½æ±‚äº†æè‡´çš„å®‰å…¨å¯é å’Œå»ä¸­å¿ƒåŒ–ï¼Œä½†å¤„ç†äº¤æ˜“çš„é€Ÿåº¦è¾ƒä½ï¼ŒBTC çº¦ä¸º 7 ç¬”/ç§’ï¼ŒETH çº¦ä¸º 10 - 20 ç¬”/ç§’ã€‚</p>
<h4 id="1-3-Layer-2"><a href="#1-3-Layer-2" class="headerlink" title="1.3 Layer 2"></a>1.3 Layer 2</h4><p>äº‹å®ä¸Šï¼Œæœ‰ä¸€ç§æ–¹æ³•å¯ä»¥å…‹æœåŒºå—é“¾ä¸‰éš¾å›°å¢ƒã€‚è€Œå·¥ç¨‹å®è·µä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¢åŠ å±‚çº§çš„æ–¹å¼æ¥ä¼˜åŒ–ä¸‰è€…çš„çŸ›ç›¾ï¼Œå¢åŠ å±‚çº§å®ç°äº†ä¸šåŠ¡è§£è€¦ï¼Œé™ä½äº†åŸå…ˆå±‚çº§çš„è´Ÿæ‹…ã€‚</p>
<p>å¢åŠ ç¬¬äºŒå±‚ç½‘ç»œï¼ˆLayer 2 ï¼‰ï¼Œæ¥åˆ†æ‘Šä¸€å±‚ç½‘ç»œï¼ˆLayer 1ï¼‰çš„è´Ÿæ‹…ï¼Œè¾¾åˆ°æ‰©å®¹çš„ç›®çš„ã€‚</p>
<blockquote>
<p>Layer 2 å³äºŒå±‚ç½‘ç»œï¼Œæ˜¯åœ¨ä¸€å±‚ç½‘ç»œçš„åŸºç¡€ä¸Šæ­å»ºçš„ï¼Œç”¨å„ç§æŠ€æœ¯æ‰‹æ®µå¸®åŠ©åº•å±‚å…¬é“¾æ‰©å®¹çš„è§£å†³æ–¹æ¡ˆ</p>
</blockquote>
<h3 id="2-Layer-2å‘å±•å²"><a href="#2-Layer-2å‘å±•å²" class="headerlink" title="2 Layer 2å‘å±•å²"></a>2 Layer 2å‘å±•å²</h3><h4 id="2-1-çŠ¶æ€é€šé“ï¼ˆState-channelï¼‰"><a href="#2-1-çŠ¶æ€é€šé“ï¼ˆState-channelï¼‰" class="headerlink" title="2.1 çŠ¶æ€é€šé“ï¼ˆState channelï¼‰"></a>2.1 çŠ¶æ€é€šé“ï¼ˆState channelï¼‰</h4><blockquote>
<p>å‡è®¾ Alice ç»å¸¸åœ¨ä¸€å®¶å’–å•¡åº—æ¶ˆè´¹ï¼Œå¦‚æœæ¯æ¬¡ä¹°ä¸€æ¯ 5 ç¾å…ƒçš„å’–å•¡ï¼Œéƒ½éœ€è¦æ”¯ä»˜ 0.5 ç¾å…ƒçš„æ‰‹ç»­è´¹ï¼Œè¿™ä¹Ÿå¤ªç—›è‹¦äº†ã€‚é‚£ä¹ˆå‡å¦‚ Alice å’Œå’–å•¡åº—èƒ½è¾¾æˆå…±è¯†ï¼Œæ¯æ¬¡ä¹°å’–å•¡æ—¶ä»˜ç»™å’–å•¡åº—ä¸€å¼ ç­¾äº†åçš„æ¬ æ¡ï¼Œä¸€æ®µæ—¶é—´åå’–å•¡åº—æ”’äº†è¶³å¤Ÿå¤šçš„æ¬ æ¡ï¼Œå°†æ¬ æ¡ç®—å¥½æ€»é‡‘é¢ä¸€æ¬¡æ€§å…‘ç°ï¼Œè¿™æ ·äº¤æ˜“æˆæœ¬å°±å¯ä»¥å¤§å¹…é™ä½ï¼Œå¯¹åŒæ–¹éƒ½æœ‰åˆ©ã€‚è¿™ç§æ€è·¯å°±æ˜¯æœ€æ—©çš„äºŒå±‚ç½‘ç»œï¼Œä¹Ÿå°±æ˜¯çŠ¶æ€é€šé“çš„åŸç†ã€‚</p>
</blockquote>
<p><strong>çŠ¶æ€é€šé“</strong> æ˜¯ä¸€ç§åŒºå—é“¾æ‰©å®¹æŠ€æœ¯ï¼Œå…è®¸ç”¨æˆ·åœ¨é“¾ä¸‹è¿›è¡Œé«˜é¢‘ã€ä½æˆæœ¬çš„äº¤äº’ï¼Œä»…åœ¨å¼€å¯å’Œå…³é—­é€šé“æ—¶ä¸åŒºå—é“¾äº¤äº’ï¼Œä»è€Œå®ç°è¿‘ä¹å³æ—¶ã€é›¶æ‘©æ“¦çš„äº¤æ˜“ã€‚çŠ¶æ€é€šé“ä½¿ç”¨äº†<strong>å¤šç­¾æŠ€æœ¯</strong> [1]ï¼Œå…è®¸ä¸¤ä¸ªä¸ªä½“ä¹‹é—´æå‰å­˜å…¥ä¸€ç¬”èµ„é‡‘é”å®šåœ¨æ™ºèƒ½åˆçº¦ä¸­ï¼Œå»ºç«‹ä¸€ä¸ªå†…éƒ¨é€šé“ï¼Œç„¶ååŒæ–¹å¯ä»¥åœ¨é€šé“å†…è¿›è¡Œå¤šç¬”å°é¢è½¬è´¦ï¼Œé€Ÿåº¦æå¿«ï¼Œæˆæœ¬æä½ï¼Œå†åœ¨ä¸€æ®µæ—¶é—´åç”¨è½¬è´¦è¯æ˜ä¸€æ¬¡æ€§ææ¬¾ã€‚çŠ¶æ€é€šé“ä¹Ÿæ˜¯æ¯”ç‰¹å¸çš„ Lightning Networkï¼ˆé—ªç”µç½‘ç»œï¼‰ï¼Œä»¥å¤ªåŠçš„ Raiden Networkï¼ˆé›·ç”µç½‘ç»œï¼‰èƒŒåçš„åº•å±‚æŠ€æœ¯ã€‚</p>
<blockquote>
<p>[1] å¤šç­¾æŠ€æœ¯ï¼ˆMulti-sigï¼‰ï¼šå³å¤šé‡ç­¾åæŠ€æœ¯ï¼Œæ˜¯æŒ‡éœ€è¦å¤šä¸ªæˆæƒæ–¹å…±åŒæˆæƒæ‰èƒ½å®Œæˆäº¤æ˜“ï¼Œæé«˜äº†äº¤æ˜“çš„å®‰å…¨æ€§å’Œå¯é æ€§ã€‚å¦‚å…¬å¸è´¢åº“çš„èµ„é‡‘è¦æ±‚ä¸‰äººä¹‹ä¸­çš„è‡³å°‘ä¸¤äººç­¾åï¼ˆ2/3ï¼‰æ‰èƒ½åŠ¨ç”¨ï¼ŒçŠ¶æ€é€šé“ä¸­åˆ™è¦æ±‚åŒæ—¶æ‹¥æœ‰åŒæ–¹çš„ç­¾åï¼ˆ2/2ï¼‰æ‰èƒ½ç”Ÿæ•ˆï¼Œå¤šç­¾ä¹Ÿå…è®¸å‡ºç°æ›´å¤š n/m çš„æˆæƒæ¡ä»¶ã€‚</p>
</blockquote>
<blockquote>
<p><strong>1. æ ¸å¿ƒåŸç†</strong></p>
<p> <strong>(1) åŸºæœ¬æµç¨‹</strong></p>
<ol>
<li><strong>å¼€å¯é€šé“</strong>ï¼š<ul>
<li>åŒæ–¹å°†èµ„é‡‘é”å®šåœ¨é“¾ä¸Šçš„æ™ºèƒ½åˆçº¦ä¸­ï¼ˆå¦‚å­˜å…¥ 10 ETHï¼‰ã€‚</li>
<li>ç”Ÿæˆåˆå§‹çŠ¶æ€ï¼ˆå¦‚ Alice: 6 ETHï¼ŒBob: 4 ETHï¼‰ï¼Œå¹¶ç­¾åç¡®è®¤ã€‚</li>
</ul>
</li>
<li><strong>é“¾ä¸‹äº¤æ˜“</strong>ï¼š<ul>
<li>åŒæ–¹é€šè¿‡ç­¾åæ¶ˆæ¯æ›´æ–°çŠ¶æ€ï¼ˆå¦‚ Alice è½¬ 1 ETH ç»™ Bob â†’ Alice:5, Bob:5ï¼‰ã€‚</li>
<li><strong>æ— éœ€çŸ¿å·¥/éªŒè¯è€…</strong>ï¼Œäº¤æ˜“å³æ—¶ç”Ÿæ•ˆã€‚</li>
</ul>
</li>
<li><strong>å…³é—­é€šé“</strong>ï¼š<ul>
<li>å°†æœ€ç»ˆçŠ¶æ€æäº¤åˆ°é“¾ä¸Šï¼Œåˆçº¦æ ¹æ®æœ€æ–°çŠ¶æ€åˆ†é…èµ„é‡‘ã€‚</li>
<li>è‹¥æœ‰äº‰è®®ï¼ˆå¦‚ä¸€æ–¹æäº¤è¿‡æœŸçŠ¶æ€ï¼‰ï¼Œå¯æŒ‘æˆ˜å¹¶æƒ©ç½šä½œå¼Šè€…ã€‚</li>
</ul>
</li>
</ol>
<p><strong>(2) æŠ€æœ¯å…³é”®ç‚¹</strong></p>
<ul>
<li><strong>å¤šç­¾åéªŒè¯</strong>ï¼šæ¯æ¬¡çŠ¶æ€æ›´æ–°éœ€åŒæ–¹ç­¾åã€‚</li>
<li><strong>æ—¶é—´é”ï¼ˆTimelockï¼‰</strong>ï¼šé˜²æ­¢æ—§çŠ¶æ€è¢«æ¶æ„æäº¤ã€‚</li>
<li><strong>æ¬ºè¯ˆè¯æ˜ï¼ˆFraud Proofï¼‰</strong>ï¼šå…è®¸è¯šå®æ–¹åœ¨äº‰è®®æœŸä¸¾è¯ã€‚</li>
</ul>
<p><strong>2. ä¸ºä»€ä¹ˆéœ€è¦çŠ¶æ€é€šé“ï¼Ÿ</strong></p>
<table>
<thead>
<tr>
<th align="center"><strong>é—®é¢˜</strong></th>
<th align="center"><strong>çŠ¶æ€é€šé“è§£å†³æ–¹æ¡ˆ</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center">é“¾ä¸Šäº¤æ˜“æ…¢ä¸”æ˜‚è´µ</td>
<td align="center">é“¾ä¸‹äº¤æ˜“é›¶æˆæœ¬ï¼Œå³æ—¶ç¡®è®¤</td>
</tr>
<tr>
<td align="center">åŒºå—é“¾ååé‡æœ‰é™</td>
<td align="center">æ”¯æŒæ— é™æ¬¡é“¾ä¸‹äº¤äº’</td>
</tr>
<tr>
<td align="center">éšç§æ€§å·®</td>
<td align="center">äº¤æ˜“ç»†èŠ‚ä»…åœ¨å‚ä¸è€…é—´ä¼ é€’</td>
</tr>
</tbody></table>
<hr>
<p><strong>3. å…¸å‹åº”ç”¨åœºæ™¯</strong></p>
<p> <strong>(1) é«˜é¢‘å¾®æ”¯ä»˜</strong></p>
<ul>
<li><strong>æ¡ˆä¾‹</strong>ï¼š<ul>
<li>æŒ‰ç§’è®¡è´¹çš„è§†é¢‘æµæœåŠ¡ï¼ˆå¦‚æ¯å°æ—¶æ”¯ä»˜ 0.001 ETHï¼‰ã€‚</li>
<li>æ¸¸æˆå†…é“å…·å®æ—¶äº¤æ˜“ã€‚</li>
</ul>
</li>
</ul>
<p> <strong>(2) é“¾ä¸‹æŠ•ç¥¨ä¸æ²»ç†</strong></p>
<ul>
<li><strong>æ¡ˆä¾‹</strong>ï¼š<ul>
<li>DAO æˆå‘˜åœ¨é€šé“å†…é¢‘ç¹æŠ•ç¥¨ï¼Œæœ€ç»ˆç»“æœä¸Šé“¾ã€‚</li>
</ul>
</li>
</ul>
<p><strong>(3) éšç§ä¿æŠ¤äº¤æ˜“</strong></p>
<ul>
<li><strong>æ¡ˆä¾‹</strong>ï¼š<ul>
<li>åŒæ–¹é“¾ä¸‹åå•†ä»·æ ¼ï¼Œä»…å…¬å¼€æœ€ç»ˆäº¤æ˜“ã€‚</li>
</ul>
</li>
</ul>
<p><strong>4.ä¼˜ç¼ºç‚¹</strong></p>
<p> <strong>âœ… ä¼˜ç‚¹</strong></p>
<ul>
<li><strong>é›¶å»¶è¿Ÿ</strong>ï¼šäº¤æ˜“å³æ—¶å®Œæˆã€‚</li>
<li><strong>é›¶ Gas è´¹</strong>ï¼šé“¾ä¸‹äº¤äº’æ— éœ€ä»˜è´¹ã€‚</li>
<li><strong>éšç§æ€§</strong>ï¼šäº¤æ˜“ç»†èŠ‚ä¸ä¸Šé“¾ã€‚</li>
</ul>
<p><strong>âŒ ç¼ºç‚¹</strong></p>
<ul>
<li><strong>é€šé“ç®¡ç†å¤æ‚</strong>ï¼šéœ€é¢„å…ˆé”å®šèµ„é‡‘ã€‚</li>
<li><strong>é€‚ç”¨æ€§æœ‰é™</strong>ï¼šä»…é€‚åˆå›ºå®šå‚ä¸è€…é—´çš„äº¤äº’ã€‚</li>
<li><strong>æµåŠ¨æ€§è¦æ±‚</strong>ï¼šé•¿æœŸå ç”¨èµ„é‡‘ã€‚</li>
</ul>
</blockquote>
<p>çŠ¶æ€é€šé“æŠ€æœ¯æœ¬è´¨ä¸Šæ˜¯ä½¿ç”¨äº†<strong>ä¸­å¿ƒåŒ–çš„èŠ‚ç‚¹</strong>ï¼Œç”¨æˆ·åœ¨é“¾ä¸Šè´¨æŠ¼ä¸€ç¬”è¾ƒå¤§é¢çš„èµ„é‡‘ï¼Œç„¶ååœ¨é“¾ä¸‹ç”¨ç­¾äº†åçš„â€œæ¬ æ¡â€è¿›è¡Œä»˜æ¬¾ï¼Œç§¯æ”’äº†ä¸€å®šé‡çš„â€œæ¬ æ¡â€ä¹‹åï¼Œä»»ä½•ä¸€æ–¹éƒ½å¯ä»¥é€‰æ‹©å…³é—­é€šé“è¿›è¡Œç»“ç®—ã€‚é“¾ä¸Šçš„æ™ºèƒ½åˆçº¦åªè®¤å¯åŒæ—¶æ‹¥æœ‰åŒæ–¹ç­¾åçš„è½¬è´¦ä¿¡æ¯ï¼ŒAlice å’Œå’–å•¡åº—éƒ½æ‹¥æœ‰è‡ªå·±çš„ç­¾åï¼Œå†åŠ ä¸Šâ€œæ¬ æ¡â€ä¸Šå¯¹æ–¹çš„ç­¾åï¼Œæ‰èƒ½å‡‘é½ç­¾å<strong>é€šè¿‡å¤šç­¾éªŒè¯</strong>ï¼Œå› æ­¤æ— æ³•æå–ä¸å±äºè‡ªå·±çš„èµ„é‡‘ã€‚</p>
<p>ä½†è¿™æ ·åšäº§ç”Ÿäº† 2 ä¸ªæ–°çš„é—®é¢˜ï¼š</p>
<ol>
<li>Alice å’Œå’–å•¡åº—ä¹‹é—´æ”’â€œæ¬ æ¡â€çš„çº¦å®šä»…é€‚åˆäºæœ€ç®€å•çš„è½¬è´¦äº¤æ˜“ï¼Œå»ä¸­å¿ƒåŒ–é‡‘èè¦å®ç°çš„äº¤æ˜“æ¯”è½¬è´¦å¤æ‚å¾—å¤šï¼Œé‚£ä¹ˆ<strong>æƒ³è¦å®ç°æ›´å¤æ‚çš„äº¤æ˜“è¦æ€ä¹ˆåŠå‘¢</strong>ï¼Ÿä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¼•å‡ºäº†<strong>ä¾§é“¾</strong>æ–¹æ¡ˆã€‚</li>
<li>Alice å¯ä»¥ç»™å’–å•¡åº—å‘é€èµ„é‡‘ï¼Œè‹¥è¶…å¸‚ä¸å’–å•¡åº—æœ‰é€šé“ï¼Œä¹Ÿå¯ä»¥å€ŸåŠ©å’–å•¡åº—å‘è¶…å¸‚å‘é€èµ„é‡‘ï¼Œä½†æ˜¯<strong>å¦‚ä½•ç»™æœªå‚ä¸é›·ç”µç½‘ç»œçš„ä¸ªä½“å‘é€èµ„é‡‘å‘¢</strong>ï¼Ÿè¿™ä¸ªé—®é¢˜ï¼Œåˆ™å¼•å‡ºäº† <strong>Plasma</strong> æ–¹æ¡ˆã€‚</li>
</ol>
<h4 id="2-2-ä¾§é“¾ï¼ˆSidechainï¼‰"><a href="#2-2-ä¾§é“¾ï¼ˆSidechainï¼‰" class="headerlink" title="2.2 ä¾§é“¾ï¼ˆSidechainï¼‰"></a>2.2 ä¾§é“¾ï¼ˆSidechainï¼‰</h4><p>ä¸ºäº†è§£å†³<strong>çŠ¶æ€é€šé“æ— æ³•æ‰§è¡Œå¤æ‚äº¤æ˜“</strong>çš„é—®é¢˜ï¼Œä¾§é“¾æ–¹æ¡ˆè¿›å…¥äººä»¬è§†é‡ã€‚</p>
<p><strong>ä¾§é“¾</strong>å¯ä»¥ç†è§£ä¸ºä¸€æ¡ç›¸å¯¹ç‹¬ç«‹çš„åŒºå—é“¾ï¼Œå®ƒä»¬å¾€å¾€é‡‡ç”¨ä¸ä¸»é“¾ï¼ˆä¸€èˆ¬æ˜¯ä»¥å¤ªåŠï¼‰ç±»ä¼¼çš„æ¶æ„ï¼Œæ–¹ä¾¿ä¸»é“¾ä¸Šçš„é¡¹ç›®è¿ç§»è‡³ä¾§é“¾ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨ä¸»é“¾çš„æ™ºèƒ½åˆçº¦å†…é”å®šä¸€å®šé‡çš„èµ„äº§ï¼Œç„¶ååœ¨ä¾§é“¾ä¸Šé“¸é€ ç­‰é‡èµ„äº§ï¼Œå®ç°â€œåŸå­äº¤æ¢â€ã€‚ç”¨è¿™ç§æ–¹å¼å°†èµ„äº§å­˜å…¥ä¾§é“¾ï¼Œåœ¨ä¾§é“¾ä¸Šè¿›è¡Œå„ç§äº¤æ˜“ï¼Œç„¶ååœ¨å¿…è¦æ—¶è½¬ç§»å›ä¸»é“¾ã€‚</p>
<p><strong>ä¾§é“¾æ ¸å¿ƒç‰¹æ€§</strong></p>
<table>
<thead>
<tr>
<th align="center"><strong>ç‰¹æ€§</strong></th>
<th align="center"><strong>è¯´æ˜</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>ç‹¬ç«‹æ€§</strong></td>
<td align="center">æ‹¥æœ‰è‡ªå·±çš„å…±è¯†æœºåˆ¶ï¼ˆå¦‚ PoAã€PoSï¼‰ã€åŒºå—å‚æ•°å’Œæ™ºèƒ½åˆçº¦ã€‚</td>
</tr>
<tr>
<td align="center"><strong>åŒå‘é”šå®š</strong></td>
<td align="center">èµ„äº§å¯ä»ä¸»é“¾é”å®šåæ˜ å°„åˆ°ä¾§é“¾ï¼Œä¹Ÿèƒ½åå‘è¿”å›ã€‚</td>
</tr>
<tr>
<td align="center"><strong>äº’æ“ä½œæ€§</strong></td>
<td align="center">é€šè¿‡æ¡¥æ¥åè®®ï¼ˆBridgeï¼‰ä¸ä¸»é“¾é€šä¿¡ã€‚</td>
</tr>
<tr>
<td align="center"><strong>å®šåˆ¶åŒ–</strong></td>
<td align="center">å¯é’ˆå¯¹ç‰¹å®šéœ€æ±‚ä¼˜åŒ–ï¼ˆå¦‚é«˜TPSã€ä½Gasè´¹ã€éšç§å¢å¼ºï¼‰ã€‚</td>
</tr>
</tbody></table>
<p>ä¾§é“¾ä¼šè¿›è¡Œä¸€å®šçš„å®šåˆ¶åŒ–ï¼Œè·å¾—æ›´é«˜çš„æ€§èƒ½ï¼Œå¸®åŠ©ä¸»é“¾åˆ†æ‹…äº¤æ˜“å‹åŠ›ã€‚</p>
<ul>
<li>é‡‡ç”¨ <strong>POS</strong> å…±è¯†æœºåˆ¶ï¼ˆProof of Stakeï¼‰ï¼Œå¤§å¹…æé«˜äº†å‡ºå—é€Ÿåº¦ä»¥è¾¾åˆ°æ‰©å®¹çš„ç›®çš„ã€‚å¦‚ Polygon ä¾§é“¾ï¼Œå°†å‡ºå—æ—¶é—´ç¼©çŸ­è‡³ 2 ç§’ã€‚</li>
<li>é‡‡ç”¨ <strong>POA</strong> å…±è¯†æœºåˆ¶ï¼ˆProof of Authorityï¼‰ï¼Œç”¨æ›´å°‘çš„ç»è¿‡æˆæƒçš„è¶…çº§èŠ‚ç‚¹è¿›è¡Œé€šä¿¡ï¼Œä»¥å®ç°ä¾§é“¾ä¸Šçš„è¶…é«˜æ€§èƒ½ã€‚å¦‚è´Ÿè´£æ¸¸æˆèµ„äº§äº¤æ˜“çš„ Ronin ä¾§é“¾ï¼Œå› æ¸¸æˆå†…çš„ NFT èµ„äº§æœ¬å°±æ¯”è¾ƒä¸­å¿ƒåŒ–ï¼Œæ‰€ä»¥è¿™ç§æ›´ä¸­å¿ƒåŒ–çš„æ–¹æ¡ˆä¹Ÿå¯ä»¥æ¥å—ã€‚</li>
</ul>
<p><strong>ä¾§é“¾çš„å·¥ä½œåŸç†</strong></p>
<p><strong>(1) èµ„äº§è·¨é“¾æµç¨‹ï¼ˆä»¥ä»¥å¤ªåŠ â†” Polygon ä¸ºä¾‹ï¼‰</strong></p>
<ol>
<li><strong>å­˜æ¬¾ï¼ˆä¸»é“¾ â†’ ä¾§é“¾ï¼‰</strong><ul>
<li>ç”¨æˆ·å°† ETH å­˜å…¥ä¸»é“¾çš„æ¡¥åˆçº¦ï¼Œåˆçº¦é”å®šèµ„äº§å¹¶ç”Ÿæˆè¯æ˜ã€‚</li>
<li>ä¾§é“¾éªŒè¯è¯æ˜åï¼Œåœ¨ä¾§é“¾ä¸Š mint ç­‰é‡çš„å°è£…èµ„äº§ï¼ˆå¦‚ WETHï¼‰ã€‚</li>
</ul>
</li>
<li><strong>ææ¬¾ï¼ˆä¾§é“¾ â†’ ä¸»é“¾ï¼‰</strong><ul>
<li>ç”¨æˆ·é”€æ¯ä¾§é“¾çš„ WETHï¼Œæäº¤é”€æ¯è¯æ˜åˆ°ä¸»é“¾æ¡¥åˆçº¦ã€‚</li>
<li>ä¸»é“¾åˆçº¦éªŒè¯åè§£é”åŸå§‹ ETHã€‚</li>
</ul>
</li>
</ol>
<p><strong>(2) å…±è¯†æœºåˆ¶å·®å¼‚</strong></p>
<ul>
<li><strong>ä¸»é“¾</strong>ï¼šé€šå¸¸é‡‡ç”¨é«˜å®‰å…¨å…±è¯†ï¼ˆå¦‚ä»¥å¤ªåŠçš„ PoSï¼‰ã€‚</li>
<li><strong>ä¾§é“¾</strong>ï¼šå¯èƒ½ä½¿ç”¨æ›´é«˜æ•ˆçš„å…±è¯†ï¼ˆå¦‚ Polygon PoS é“¾çš„ Bor å…±è¯†ï¼‰ã€‚</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦ä¾§é“¾ï¼Ÿ</strong></p>
<table>
<thead>
<tr>
<th align="center"><strong>ä¸»é“¾ç“¶é¢ˆ</strong></th>
<th align="center"><strong>ä¾§é“¾è§£å†³æ–¹æ¡ˆ</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center">ä½TPSï¼ˆå¦‚ä»¥å¤ªåŠ15 TPSï¼‰</td>
<td align="center">ä¾§é“¾å¯è¾¾æ•°åƒ TPSï¼ˆå¦‚ Polygon 7,000 TPSï¼‰ã€‚</td>
</tr>
<tr>
<td align="center">é«˜Gasè´¹</td>
<td align="center">ä¾§é“¾äº¤æ˜“æˆæœ¬æä½ï¼ˆå¦‚ BSC çš„ $0.01 äº¤æ˜“è´¹ï¼‰ã€‚</td>
</tr>
<tr>
<td align="center">åŠŸèƒ½é™åˆ¶</td>
<td align="center">ä¾§é“¾å¯å®šåˆ¶æ¨¡å—ï¼ˆå¦‚éšç§äº¤æ˜“ã€æ¸¸æˆä¸“ç”¨é“¾ï¼‰ã€‚</td>
</tr>
</tbody></table>
<p> <strong>å…¸å‹ä¾§é“¾é¡¹ç›®</strong></p>
<table>
<thead>
<tr>
<th align="center"><strong>ä¾§é“¾</strong></th>
<th align="center"><strong>é”šå®šä¸»é“¾</strong></th>
<th align="center"><strong>ç‰¹ç‚¹</strong></th>
<th align="center"><strong>ç”¨ä¾‹</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>Polygon PoS</strong></td>
<td align="center">ä»¥å¤ªåŠ</td>
<td align="center">é«˜TPSï¼ŒEVMå…¼å®¹</td>
<td align="center">DeFiã€NFT</td>
</tr>
<tr>
<td align="center"><strong>Gnosis Chain</strong></td>
<td align="center">ä»¥å¤ªåŠ</td>
<td align="center">æ³¨é‡å»ä¸­å¿ƒåŒ–ï¼ŒxDai åˆå¹¶</td>
<td align="center">æ”¯ä»˜ã€DAO</td>
</tr>
<tr>
<td align="center"><strong>Liquid Network</strong></td>
<td align="center">æ¯”ç‰¹å¸</td>
<td align="center">è”é‚¦æ¡¥æ¥ï¼Œæ”¯æŒæœºå¯†äº¤æ˜“</td>
<td align="center">æ¯”ç‰¹å¸å¿«é€Ÿç»“ç®—</td>
</tr>
<tr>
<td align="center"><strong>Ronin</strong></td>
<td align="center">ä»¥å¤ªåŠ</td>
<td align="center">Axie Infinity æ¸¸æˆä¸“ç”¨é“¾</td>
<td align="center">GameFi</td>
</tr>
</tbody></table>
<p><strong>ä¾§é“¾çš„å®‰å…¨é£é™©</strong></p>
<p><strong>(1) æ¡¥æ¥æ”»å‡»</strong></p>
<ul>
<li><strong>æ¡ˆä¾‹</strong>ï¼š2022 å¹´ Ronin æ¡¥è¢«ç›— 6.25 äº¿ç¾å…ƒï¼ˆç§é’¥æ³„éœ²ï¼‰ã€‚</li>
<li><strong>é˜²å¾¡</strong>ï¼šä½¿ç”¨å¤šé‡ç­¾åã€é›¶çŸ¥è¯†è¯æ˜æ¡¥ï¼ˆå¦‚ zkBridgeï¼‰ã€‚</li>
</ul>
<p><strong>(2) å…±è¯†ä¸­å¿ƒåŒ–</strong></p>
<ul>
<li>éƒ¨åˆ†ä¾§é“¾ï¼ˆå¦‚ BSCï¼‰ç”±å°‘æ•°èŠ‚ç‚¹æ§åˆ¶ï¼Œå¯èƒ½è¢«æ“çºµã€‚</li>
</ul>
<p><strong>(3) èµ„äº§é”šå®šå¤±æ•ˆ</strong></p>
<ul>
<li>è‹¥æ¡¥åˆçº¦æ¼æ´å¯¼è‡´åŒå‘é”šå®šæ–­è£‚ï¼Œä¾§é“¾èµ„äº§å¯èƒ½è„±é’©ã€‚</li>
</ul>
<p>ä¾§é“¾é€šè¿‡ <strong>ç‰ºç‰²éƒ¨åˆ†ä¸»é“¾å®‰å…¨æ€§</strong> æ¢å–é«˜æ€§èƒ½å’Œä½æˆæœ¬ï¼Œæ˜¯åŒºå—é“¾ç”Ÿæ€çš„é‡è¦æ‰©å®¹æ‰‹æ®µã€‚ç”¨æˆ·åœ¨ä½¿ç”¨æ—¶éœ€æƒè¡¡<strong>æ•ˆç‡ã€æˆæœ¬ä¸é£é™©</strong>ï¼Œä¼˜å…ˆé€‰æ‹©ç»è¿‡æ—¶é—´éªŒè¯çš„ä¾§é“¾å’Œæ¡¥æ¥åè®®ã€‚</p>
<h4 id="2-3-Plasma"><a href="#2-3-Plasma" class="headerlink" title="2.3 Plasma"></a>2.3 Plasma</h4><p>éšç€çŠ¶æ€é€šé“å’Œä¾§é“¾æ–¹æ¡ˆåœ¨å®è·µä¸­æš´éœ²å‡ºä¸è¶³ï¼ŒPlasma æ–¹æ¡ˆè¢«æå‡ºå¹¶å¾—åˆ°é‡è§†ï¼Œå®ƒè§£å†³äº†å‰é¢ä¸¤è€…æš´éœ²å‡ºçš„ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li><strong>æ— æ³•ç»™æœªå‚ä¸çš„ä¸ªä½“å‘é€èµ„é‡‘</strong>ï¼šæœªåŠ å…¥ Plasma é“¾çš„è´¦æˆ·ä¹Ÿå¯ä»¥æ”¶åˆ°èµ„é‡‘ï¼Œç„¶åè‡ªè¡Œæå–åˆ° Layer 1ã€‚</li>
<li><strong>æ— æ³•ç»§æ‰¿ Layer 1 å®‰å…¨æ€§</strong>ï¼šPlasma å®šæœŸå‘ä¸»é“¾æäº¤ä¿¡æ¯ï¼Œä»¥ç»§æ‰¿ Layer 1 å®‰å…¨æ€§ã€‚</li>
</ul>
<p><strong>Plasma</strong> æ˜¯ä»¥å¤ªåŠåˆ›å§‹äºº <strong>Vitalik Buterin</strong> å’Œ <strong>Joseph Poon</strong> åœ¨ 2017 å¹´æå‡ºçš„ä¸€ç§ <strong>åŒºå—é“¾æ‰©å®¹æ–¹æ¡ˆ</strong>ï¼Œæ—¨åœ¨é€šè¿‡æ„å»ºå¤šå±‚é“¾ä¸‹ç»“æ„ï¼ˆâ€œå­é“¾â€ï¼‰ï¼Œå°†å¤§éƒ¨åˆ†äº¤æ˜“ä»<u>ä¸»é“¾ï¼ˆå¦‚ä»¥å¤ªåŠï¼‰å¸è½½åˆ°å­é“¾ä¸Šå¤„ç†</u>ï¼Œä»è€Œæ˜¾è‘—æå‡ååé‡å¹¶é™ä½äº¤æ˜“æˆæœ¬ã€‚å°½ç®¡åæœŸå› æŠ€æœ¯å¤æ‚æ€§è¢« Rollup å–ä»£ï¼Œä½† Plasma çš„è®¾è®¡æ€æƒ³ä»å¯¹ Layer2 å‘å±•å½±å“æ·±è¿œã€‚</p>
<p><strong>Plasma çš„æ ¸å¿ƒæ€æƒ³</strong></p>
<p> <strong>(1) åˆ†å±‚ç»“æ„</strong></p>
<ul>
<li><strong>ä¸»é“¾ï¼ˆRoot Chainï¼‰</strong>ï¼šä»¥å¤ªåŠç­‰åº•å±‚åŒºå—é“¾ï¼Œè´Ÿè´£æœ€ç»ˆç»“ç®—å’Œäº‰è®®ä»²è£ã€‚</li>
<li><strong>å­é“¾ï¼ˆPlasma Chainï¼‰</strong>ï¼šç‹¬ç«‹çš„é“¾ä¸‹åŒºå—é“¾ï¼Œå¤„ç†é«˜é¢‘äº¤æ˜“ï¼Œå®šæœŸå‘ä¸»é“¾æäº¤çŠ¶æ€æ‰¿è¯ºï¼ˆMerkle Rootï¼‰ã€‚</li>
</ul>
<p><strong>(2) å…³é”®æœºåˆ¶</strong></p>
<ul>
<li><strong>çŠ¶æ€æ‰¿è¯º</strong>ï¼šå­é“¾å°†äº¤æ˜“æ‰¹é‡æ‰“åŒ…åï¼Œç”Ÿæˆ Merkle Root å¹¶æäº¤åˆ°ä¸»é“¾ã€‚</li>
<li><strong>æ¬ºè¯ˆè¯æ˜ï¼ˆFraud Proofï¼‰</strong>ï¼šè‹¥å­é“¾ä½œæ¶ï¼ˆå¦‚ç¯¡æ”¹äº¤æ˜“ï¼‰ï¼Œç”¨æˆ·å¯æäº¤è¯æ˜è‡³ä¸»é“¾ï¼Œè§¦å‘æƒ©ç½šå’ŒçŠ¶æ€å›æ»šã€‚</li>
<li><strong>èµ„é‡‘é€€å‡ºï¼ˆExitï¼‰</strong>ï¼šç”¨æˆ·éœ€é€šè¿‡ä¸»é“¾çš„â€œé€€å‡ºæ¸¸æˆâ€æœºåˆ¶å®‰å…¨å–å›èµ„é‡‘ã€‚</li>
</ul>
<p><strong>Plasma çš„å·¥ä½œåŸç†</strong></p>
<p><strong>(1) å­˜æ¬¾ï¼ˆä¸»é“¾ â†’ Plasma é“¾ï¼‰</strong></p>
<ol>
<li>ç”¨æˆ·å°†èµ„äº§ï¼ˆå¦‚ ETHï¼‰é”å®šåœ¨ä¸»é“¾çš„ Plasma æ™ºèƒ½åˆçº¦ä¸­ã€‚</li>
<li>Plasma é“¾ç”Ÿæˆå¯¹åº”çš„èµ„äº§å‡­è¯ï¼ˆå¦‚ 1:1 æ˜ å°„çš„ä»£å¸ï¼‰ã€‚</li>
</ol>
<p><strong>(2) é“¾ä¸‹äº¤æ˜“ï¼ˆPlasma é“¾å†…ï¼‰</strong></p>
<ul>
<li>ç”¨æˆ·åœ¨ Plasma é“¾ä¸Šè‡ªç”±äº¤æ˜“ï¼ˆå¦‚è½¬è´¦ã€æ”¯ä»˜ï¼‰ï¼Œæ— éœ€ä¸»é“¾ç¡®è®¤ã€‚</li>
<li>å­é“¾åŒºå—ç”Ÿäº§è€…ï¼ˆOperatorï¼‰å®šæœŸå°†äº¤æ˜“æ‰“åŒ…ï¼Œå¹¶æäº¤ Merkle Root åˆ°ä¸»é“¾ã€‚</li>
</ul>
<p><strong>(3) ææ¬¾ï¼ˆPlasma é“¾ â†’ ä¸»é“¾ï¼‰</strong></p>
<ol>
<li>ç”¨æˆ·å‘èµ·ææ¬¾è¯·æ±‚ï¼Œå¯åŠ¨ <strong>7å¤©æŒ‘æˆ˜æœŸ</strong>ï¼ˆç±»ä¼¼ Optimistic Rollupï¼‰ã€‚</li>
<li>è‹¥æ— äº‰è®®ï¼Œä¸»é“¾é‡Šæ”¾é”å®šçš„èµ„äº§ï¼›è‹¥æœ‰æ¬ºè¯ˆï¼Œæäº¤è¯æ˜å–æ¶ˆææ¬¾ã€‚</li>
</ol>
<p><strong>Plasma çš„ä¼˜ç¼ºç‚¹</strong></p>
<p><strong>âœ… ä¼˜ç‚¹</strong></p>
<ul>
<li><strong>é«˜ååé‡</strong>ï¼šäº¤æ˜“åœ¨å­é“¾å¤„ç†ï¼Œä¸»é“¾ä»…å­˜å‚¨å‹ç¼©æ•°æ®ã€‚</li>
<li><strong>ä½æˆæœ¬</strong>ï¼šGas è´¹ç”±å­é“¾æ‰¿æ‹…ï¼Œä¸»é“¾ä»…éœ€æä½å¼€é”€ã€‚</li>
<li><strong>å®‰å…¨æ€§ç»§æ‰¿</strong>ï¼šä¾èµ–ä¸»é“¾çš„<strong>æ¬ºè¯ˆè¯æ˜æœºåˆ¶</strong>ç¡®ä¿èµ„é‡‘å®‰å…¨ã€‚</li>
</ul>
<p> <strong>âŒ ç¼ºç‚¹</strong></p>
<ul>
<li><strong>é€€å‡ºå»¶è¿Ÿ</strong>ï¼šææ¬¾éœ€ç­‰å¾…æŒ‘æˆ˜æœŸï¼ˆ7å¤©ï¼‰ï¼ŒæµåŠ¨æ€§å—é™ã€‚</li>
<li><strong>æ•°æ®å¯ç”¨æ€§é—®é¢˜</strong>ï¼š**<u>è‹¥å­é“¾è¿è¥å•†éšè—æ•°æ®ï¼Œç”¨æˆ·æ— æ³•æ„é€ æ¬ºè¯ˆè¯æ˜ã€‚</u>**</li>
<li><strong>é€šç”¨æ€§å·®</strong>ï¼šéš¾ä»¥æ”¯æŒå¤æ‚æ™ºèƒ½åˆçº¦ï¼ˆä»…é€‚åˆæ”¯ä»˜ç­‰ç®€å•é€»è¾‘ï¼‰ã€‚</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆ Plasma é€æ¸è¢«æ·˜æ±°ï¼Ÿ</strong></p>
<ol>
<li><strong>æ•°æ®å¯ç”¨æ€§é—®é¢˜</strong>ï¼šç”¨æˆ·æ— æ³•è·å–å­é“¾å®Œæ•´æ•°æ®æ—¶ï¼Œæ— æ³•æŒ‘æˆ˜æ— æ•ˆäº¤æ˜“ã€‚</li>
<li><strong>ç”¨æˆ·ä½“éªŒå·®</strong>ï¼šææ¬¾å»¶è¿Ÿé•¿ï¼Œä¸”éœ€ä¸»åŠ¨ç›‘æ§æ¬ºè¯ˆã€‚</li>
<li><strong>Rollup çš„å´›èµ·</strong>ï¼š<ul>
<li><strong>ZK Rollup</strong> é€šè¿‡é›¶çŸ¥è¯†è¯æ˜è§£å†³æ•°æ®é—®é¢˜ã€‚</li>
<li><strong>Optimistic Rollup</strong> ä¿ç•™æ¬ºè¯ˆè¯æ˜ä½†å¼ºåˆ¶æ•°æ®ä¸Šé“¾ï¼Œå¹³è¡¡å®‰å…¨ä¸æˆæœ¬ã€‚</li>
</ul>
</li>
</ol>
<blockquote>
<p>é»˜å…‹å°”æ ‘åˆ©ç”¨äº†å“ˆå¸Œç®—æ³•ï¼ˆHash Algorithmï¼‰ï¼Œæ¯ä¸ªå­èŠ‚ç‚¹çš„å†…å®¹ï¼Œéƒ½å½±å“ç€ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„å“ˆå¸Œå€¼ã€‚å› æ­¤ä¿å­˜åœ¨é»˜å…‹å°”æ ‘å†…çš„æ•°æ®ï¼Œè‹¥è¢«æ”¹å˜äº†å“ªæ€•ä¸€ä¸ªå­—ç¬¦ï¼Œéƒ½å°†å¯¼è‡´ä¸Šæ–¹ä¸€è¿ä¸²èŠ‚ç‚¹çš„å“ˆå¸Œå€¼æ”¹å˜ï¼Œæœ€ç»ˆä¼ å¯¼è‡³é»˜å…‹å°”æ ‘çš„æ ¹éƒ¨ä¹Ÿå‘ç”Ÿæ”¹å˜ã€‚ä»»ä½•äººéƒ½å¯ä»¥è‡ªè¡Œè¿ç®—å“ˆå¸Œç®—æ³•æ¥æ£€æŸ¥è®¡ç®—å‡ºçš„å“ˆå¸Œå€¼ä¸å…¬å¼€çš„å“ˆå¸Œå€¼æ˜¯å¦å¯¹åº”ï¼Œä»¥æ­¤ç¡®è®¤å†…å®¹æ˜¯å¦è¢«ç¯¡æ”¹ã€‚</p>
</blockquote>
<h4 id="2-4-Rollup"><a href="#2-4-Rollup" class="headerlink" title="2.4 Rollup"></a>2.4 Rollup</h4><p>è™½ç„¶ Plasma æœ€ç»ˆæœªèƒ½å¤§è§„æ¨¡ä½¿ç”¨ï¼Œä½†å®ƒçš„ä¸€äº›ç†å¿µåœ¨åç»­çš„ Layer 2 æ–¹æ¡ˆä¸­è¢«å¸æ”¶å’Œå‘å±•ã€‚</p>
<p>æ—¢ç„¶å›°æ‰° Plasma æœ€å¤§çš„é—®é¢˜æ˜¯<strong>æ•°æ®å¯ç”¨æ€§</strong>ï¼Œä¹Ÿå°±æ˜¯ç›‘ç£è€…ä¸å®¹æ˜“è·å–äº¤æ˜“æ•°æ®ä»¥è¿›è¡Œæ£€éªŒçš„é—®é¢˜ã€‚é‚£æˆ‘ä»¬å¦‚æœä¸ä»…ä»…ä¸Šä¼ ä¸€ä¸ªæ ¹è¯æ˜ï¼Œè€Œæ˜¯æŠŠå¿…è¦çš„å…³é”®æ•°æ®é€šé€šä¸Šä¼ è‡³ Layer 1 ï¼Œæ˜¯ä¸æ˜¯å°±è§£å†³äº†è¿™ä¸ªæ£˜æ‰‹é—®é¢˜å‘¢ï¼Ÿ</p>
<p>è¿™ä¸ªæ€è·¯å¸¦æ¥äº†ç›®å‰æœ€å…·å¯è¡Œæ€§çš„ Layer 2 æ‰©å®¹æ–¹æ¡ˆï¼š Rollupã€‚Rollup æ„ä¸ºâ€œæ‰“åŒ…â€ï¼Œä¹Ÿå°±æ˜¯å°†ä¸€æ®µæ—¶é—´å†…å‘ç”Ÿçš„äº¤æ˜“å…ˆè¿›è¡Œå‹ç¼©ï¼Œå†è¿›è¡Œæ‰“åŒ…ï¼Œç„¶åå‘¨æœŸæ€§åœ°ä¸Šä¼ è‡³ä¸»ç½‘ã€‚ç›®å‰ä¸»æµçš„ Rollup æ–¹æ¡ˆåˆ†ä¸ºä¸¤å¤§è·¯çº¿ï¼Œåˆ†åˆ«ä¸º <strong>Optimistic Rollup</strong>ï¼ˆä¹è§‚çš„ Rollupï¼‰ä¸ <strong>Zero-knowledge Rollup</strong>ï¼ˆé›¶çŸ¥è¯†è¯æ˜çš„ Rollupï¼‰ã€‚</p>
<ul>
<li>Optimistic Rollupï¼šOP-Rollup æ˜¯å°†ä¸€æ®µæ—¶é—´å†…çš„æ‰€æœ‰äº¤æ˜“ç»†èŠ‚å…¨éƒ¨å‹ç¼©æ‰“åŒ…ï¼Œå®šæœŸå‘é€è‡³ Layer 1ã€‚è¿™ç§æœºåˆ¶ä¹è§‚åœ°ç›¸ä¿¡å¤§éƒ¨åˆ†äº¤æ˜“éƒ½æ˜¯è¯šå®çš„ï¼Œç»§æ‰¿äº† Plasma æŒ‘æˆ˜æœŸå’Œæ¬ºè¯ˆè¯æ˜æœºåˆ¶ã€‚</li>
<li>Zero-knowledge Rollupï¼šZK-Rollup ä¸€èˆ¬æ˜¯å°†ä¸€æ®µæ—¶é—´å†…çš„äº¤æ˜“è®¡ç®—å®Œæˆåï¼Œå°†çŠ¶æ€å˜åŒ–çš„ç»“æœå‹ç¼©æ‰“åŒ…ï¼Œå¹¶é™„ä¸Šäº¤æ˜“å·²ç»åœ¨ Layer 2 è¢«æ­£ç¡®æ‰§è¡Œçš„é›¶çŸ¥è¯†è¯æ˜ï¼Œå®šæœŸå‘é€è‡³ Layer 1ã€‚ç”¨é›¶çŸ¥è¯†è¯æ˜ä»£æ›¿ç›‘ç£è€…ï¼Œä¾èµ–æ•°å­¦è€ŒééªŒè¯è€…ï¼ˆRely on Math, not Validatorsï¼‰ã€‚</li>
</ul>
<p><strong>Rollup çš„æ ¸å¿ƒæ€æƒ³</strong></p>
<p><strong>(1) é“¾ä¸‹æ‰§è¡Œ + é“¾ä¸ŠéªŒè¯</strong></p>
<ul>
<li><strong>é“¾ä¸‹</strong>ï¼šäº¤æ˜“åœ¨ Rollup é“¾ï¼ˆLayer2ï¼‰ä¸Šæ‰§è¡Œã€‚</li>
<li><strong>é“¾ä¸Š</strong>ï¼šäº¤æ˜“æ•°æ®ï¼ˆæˆ–æœ‰æ•ˆæ€§è¯æ˜ï¼‰æäº¤åˆ°ä¸»é“¾ï¼ˆLayer1ï¼‰ï¼Œç¡®ä¿å®‰å…¨æ€§ã€‚</li>
</ul>
<p><strong>(2) æ•°æ®å‹ç¼©</strong></p>
<ul>
<li>Rollup å°†å¤šç¬”äº¤æ˜“å‹ç¼©ä¸º <strong>å•ä¸ªæ‰¹æ¬¡</strong>ï¼Œå‡å°‘é“¾ä¸Šå­˜å‚¨å¼€é”€ã€‚</li>
<li>ä¾‹å¦‚ï¼š1000 ç¬”äº¤æ˜“ â†’ 1 ä¸ª Rollup åŒºå— â†’ 1 ç¬”ä¸»é“¾äº¤æ˜“ã€‚</li>
</ul>
<p><strong>Rollup çš„ä¸¤ç§ç±»å‹</strong></p>
<p><strong>(1) Optimistic Rollupï¼ˆä¹è§‚æ±‡æ€»ï¼‰</strong></p>
<ul>
<li><strong>å‡è®¾äº¤æ˜“åˆæ³•</strong>ï¼Œé»˜è®¤ä¸éªŒè¯ï¼Œä¾èµ– <strong>æ¬ºè¯ˆè¯æ˜ï¼ˆFraud Proofï¼‰</strong> äº‰è®®æœºåˆ¶ã€‚</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼š<ul>
<li>å…¼å®¹ EVMï¼ˆå¦‚ Arbitrumã€Optimismï¼‰ã€‚</li>
<li>ææ¬¾éœ€ç­‰å¾… <strong>7å¤©æŒ‘æˆ˜æœŸ</strong>ã€‚</li>
<li>æˆæœ¬ä½ï¼Œé€‚åˆé€šç”¨æ™ºèƒ½åˆçº¦ã€‚</li>
</ul>
</li>
</ul>
<p><strong>å·¥ä½œæµç¨‹</strong>ï¼š</p>
<ol>
<li>äº¤æ˜“åœ¨ Layer2 æ‰§è¡Œã€‚</li>
<li>æ’åºå™¨ï¼ˆSequencerï¼‰å°†äº¤æ˜“æ•°æ®ï¼ˆCalldataï¼‰æäº¤åˆ°ä¸»é“¾ã€‚</li>
<li>è‹¥æœ‰æ¬ºè¯ˆï¼ŒéªŒè¯è€…åœ¨æŒ‘æˆ˜æœŸå†…æäº¤è¯æ˜ï¼Œå›æ»šé”™è¯¯çŠ¶æ€ã€‚</li>
</ol>
<p><strong>(2) ZK Rollupï¼ˆé›¶çŸ¥è¯†è¯æ˜æ±‡æ€»ï¼‰</strong></p>
<ul>
<li>æ¯æ‰¹äº¤æ˜“ç”Ÿæˆ <strong>é›¶çŸ¥è¯†è¯æ˜ï¼ˆZK-SNARK/STARKï¼‰</strong>ï¼Œä¸»é“¾å³æ—¶éªŒè¯ã€‚</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼š<ul>
<li>æ— éœ€æŒ‘æˆ˜æœŸï¼Œææ¬¾å³æ—¶åˆ°è´¦ã€‚</li>
<li>è¯æ˜ç”Ÿæˆè®¡ç®—é‡å¤§ï¼Œæ—©æœŸéš¾å…¼å®¹ EVMï¼ˆç° zkEVM å·²çªç ´ï¼‰ã€‚</li>
<li>éšç§æ€§æ›´å¼ºï¼ˆå¯éšè—äº¤æ˜“ç»†èŠ‚ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>å·¥ä½œæµç¨‹</strong>ï¼š</p>
<ol>
<li>äº¤æ˜“åœ¨ Layer2 æ‰§è¡Œã€‚</li>
<li>ç”Ÿæˆæœ‰æ•ˆæ€§è¯æ˜ï¼ˆProofï¼‰å¹¶æäº¤åˆ°ä¸»é“¾ã€‚</li>
<li>ä¸»é“¾éªŒè¯è¯æ˜åï¼Œæ›´æ–°çŠ¶æ€ã€‚</li>
</ol>
<p><strong>Rollup çš„ä¼˜ç¼ºç‚¹</strong></p>
<p><strong>âœ… ä¼˜ç‚¹</strong></p>
<ul>
<li><strong>é«˜æ‰©å±•æ€§</strong>ï¼šååé‡æå‡ç™¾å€ã€‚</li>
<li><strong>å®‰å…¨æ€§</strong>ï¼šä¾èµ–ä¸»é“¾éªŒè¯ï¼ŒæŠ—å®¡æŸ¥ã€‚</li>
<li><strong>ä½æˆæœ¬</strong>ï¼šGas è´¹ä»…ä¸ºé“¾ä¸Šçš„ 1/10~1/100ã€‚</li>
</ul>
<p><strong>âŒ ç¼ºç‚¹</strong></p>
<ul>
<li><strong>Optimistic çš„å»¶è¿Ÿ</strong>ï¼šææ¬¾éœ€ç­‰å¾… 7 å¤©ï¼ˆå¯é€šè¿‡æµåŠ¨æ€§æä¾›å•†ç¼“è§£ï¼‰ã€‚</li>
<li><strong>ZK çš„ç¡¬ä»¶éœ€æ±‚</strong>ï¼šè¯æ˜ç”Ÿæˆéœ€è¦é«˜æ€§èƒ½æœåŠ¡å™¨ã€‚</li>
<li><strong>ä¸­å¿ƒåŒ–é£é™©</strong>ï¼šæ’åºå™¨å¯èƒ½è¢«å„æ–­ï¼ˆé€æ­¥å»ä¸­å¿ƒåŒ–ä¸­ï¼‰ã€‚</li>
</ul>
<blockquote>
<h3 id="é›¶çŸ¥è¯†è¯æ˜ï¼ˆZero-Knowledge-Proof-ZKPï¼‰è¯¦è§£"><a href="#é›¶çŸ¥è¯†è¯æ˜ï¼ˆZero-Knowledge-Proof-ZKPï¼‰è¯¦è§£" class="headerlink" title="é›¶çŸ¥è¯†è¯æ˜ï¼ˆZero-Knowledge Proof, ZKPï¼‰è¯¦è§£"></a><strong>é›¶çŸ¥è¯†è¯æ˜ï¼ˆZero-Knowledge Proof, ZKPï¼‰è¯¦è§£</strong></h3><p><strong>é›¶çŸ¥è¯†è¯æ˜</strong> æ˜¯ä¸€ç§å¯†ç å­¦æŠ€æœ¯ï¼Œå…è®¸ä¸€æ–¹ï¼ˆè¯æ˜è€…ï¼‰å‘å¦ä¸€æ–¹ï¼ˆéªŒè¯è€…ï¼‰<strong>è¯æ˜æŸä¸ªé™ˆè¿°çš„çœŸå®æ€§</strong>ï¼Œè€Œæ— éœ€é€éœ²ä»»ä½•é¢å¤–ä¿¡æ¯ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>â€œæˆ‘çŸ¥é“ä¸€ä¸ªç§˜å¯†ï¼Œä½†æˆ‘ä¸ä¼šå‘Šè¯‰ä½ ç§˜å¯†æ˜¯ä»€ä¹ˆâ€</strong>ã€‚</p>
<p>åœ¨åŒºå—é“¾é¢†åŸŸï¼ŒZKP æ˜¯éšç§ä¿æŠ¤ï¼ˆå¦‚ Zcashï¼‰å’Œæ‰©å®¹ï¼ˆå¦‚ ZK Rollupï¼‰çš„æ ¸å¿ƒæŠ€æœ¯ã€‚</p>
<h4 id="1-é›¶çŸ¥è¯†è¯æ˜çš„ä¸‰å¤§æ ¸å¿ƒç‰¹æ€§"><a href="#1-é›¶çŸ¥è¯†è¯æ˜çš„ä¸‰å¤§æ ¸å¿ƒç‰¹æ€§" class="headerlink" title="1. é›¶çŸ¥è¯†è¯æ˜çš„ä¸‰å¤§æ ¸å¿ƒç‰¹æ€§"></a><strong>1. é›¶çŸ¥è¯†è¯æ˜çš„ä¸‰å¤§æ ¸å¿ƒç‰¹æ€§</strong></h4><ol>
<li><strong>å®Œå¤‡æ€§ï¼ˆCompletenessï¼‰</strong>ï¼š<ul>
<li>å¦‚æœé™ˆè¿°ä¸ºçœŸï¼Œè¯šå®éªŒè¯è€…ä¸€å®šä¼šè¢«è¯´æœã€‚</li>
</ul>
</li>
<li><strong>å¯é æ€§ï¼ˆSoundnessï¼‰</strong>ï¼š<ul>
<li>å¦‚æœé™ˆè¿°ä¸ºå‡ï¼Œä½œå¼Šçš„è¯æ˜è€…æ— æ³•æ¬ºéª—éªŒè¯è€…ã€‚</li>
</ul>
</li>
<li><strong>é›¶çŸ¥è¯†æ€§ï¼ˆZero-Knowledgeï¼‰</strong>ï¼š<ul>
<li>éªŒè¯è€…é™¤äº†â€œé™ˆè¿°ä¸ºçœŸâ€å¤–ï¼Œæ— æ³•è·å–ä»»ä½•å…¶ä»–ä¿¡æ¯ã€‚</li>
</ul>
</li>
</ol>
<h4 id="2-ç»å…¸ç±»æ¯”ï¼šæ´ç©´å¯“è¨€"><a href="#2-ç»å…¸ç±»æ¯”ï¼šæ´ç©´å¯“è¨€" class="headerlink" title="2. ç»å…¸ç±»æ¯”ï¼šæ´ç©´å¯“è¨€"></a><strong>2. ç»å…¸ç±»æ¯”ï¼šæ´ç©´å¯“è¨€</strong></h4><p>å‡è®¾æœ‰ä¸€ä¸ªç¯å½¢æ´ç©´ï¼Œä¸­é—´æœ‰ä¸€é“éœ€è¦å¯†ç æ‰èƒ½æ‰“å¼€çš„é—¨ã€‚</p>
<ul>
<li><strong>è¯æ˜è€…</strong>çŸ¥é“å¯†ç ï¼Œæƒ³å‘<strong>éªŒè¯è€…</strong>è¯æ˜è¿™ä¸€ç‚¹ï¼Œä½†ä¸æƒ³æ³„éœ²å¯†ç ã€‚</li>
<li><strong>è¿‡ç¨‹</strong>ï¼š<ol>
<li>éªŒè¯è€…ç«™åœ¨æ´å£ï¼Œéšæœºè¦æ±‚è¯æ˜è€…ä»å·¦ä¾§ï¼ˆAï¼‰æˆ–å³ä¾§ï¼ˆBï¼‰è¿›å…¥ã€‚</li>
<li>è¯æ˜è€…æ— è®ºä»å“ªè¾¹è¿›å…¥ï¼Œéƒ½èƒ½ç”¨å¯†ç å¼€é—¨å¹¶ä»å¦ä¸€ä¾§å‡ºæ¥ã€‚</li>
<li>é‡å¤å¤šæ¬¡åï¼ŒéªŒè¯è€…ç¡®ä¿¡è¯æ˜è€…ç¡®å®çŸ¥é“å¯†ç ï¼Œä½†å§‹ç»ˆä¸çŸ¥é“å¯†ç æ˜¯ä»€ä¹ˆã€‚</li>
</ol>
</li>
</ul>
<h4 id="3-é›¶çŸ¥è¯†è¯æ˜çš„ä¸¤ç§ä¸»è¦ç±»å‹"><a href="#3-é›¶çŸ¥è¯†è¯æ˜çš„ä¸¤ç§ä¸»è¦ç±»å‹" class="headerlink" title="3. é›¶çŸ¥è¯†è¯æ˜çš„ä¸¤ç§ä¸»è¦ç±»å‹"></a>3. é›¶çŸ¥è¯†è¯æ˜çš„ä¸¤ç§ä¸»è¦ç±»å‹</h4><p><strong>(1) äº¤äº’å¼é›¶çŸ¥è¯†è¯æ˜ï¼ˆInteractive ZKPï¼‰</strong></p>
<ul>
<li>éœ€è¦å¤šè½®é€šä¿¡ï¼ˆå¦‚æ´ç©´å¯“è¨€ä¸­çš„å¤šæ¬¡è¿›å‡ºï¼‰ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šæ•ˆç‡ä½ï¼Œä¸é€‚åˆåŒºå—é“¾ã€‚</li>
</ul>
<p><strong>(2) éäº¤äº’å¼é›¶çŸ¥è¯†è¯æ˜ï¼ˆNon-Interactive ZKP, NIZKï¼‰</strong></p>
<ul>
<li>è¯æ˜è€…ç”Ÿæˆå•æ¬¡è¯æ˜ï¼ŒéªŒè¯è€…å¯éšæ—¶æ£€æŸ¥ã€‚</li>
<li><strong>åŒºå—é“¾å¸¸ç”¨</strong>ï¼šå¦‚ ZK-SNARKsã€ZK-STARKsã€‚</li>
</ul>
<h4 id="4-åŒºå—é“¾ä¸­çš„-ZKP-æŠ€æœ¯"><a href="#4-åŒºå—é“¾ä¸­çš„-ZKP-æŠ€æœ¯" class="headerlink" title="4. åŒºå—é“¾ä¸­çš„ ZKP æŠ€æœ¯"></a><strong>4. åŒºå—é“¾ä¸­çš„ ZKP æŠ€æœ¯</strong></h4><p> <strong>(1) ZK-SNARKsï¼ˆç®€æ´éäº¤äº’å¼çŸ¥è¯†è®ºè¯ï¼‰</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼š<ul>
<li>è¯æ˜ä½“ç§¯å°ï¼ˆçº¦ 200 å­—èŠ‚ï¼‰ï¼ŒéªŒè¯é€Ÿåº¦å¿«ã€‚</li>
<li>éœ€è¦â€œå¯ä¿¡è®¾ç½®â€ï¼ˆTrusted Setupï¼‰ï¼Œå­˜åœ¨æ½œåœ¨é£é™©ã€‚</li>
</ul>
</li>
<li><strong>åº”ç”¨</strong>ï¼š<ul>
<li><strong>Zcash</strong>ï¼ˆéšç§è½¬è´¦ï¼‰ã€‚</li>
<li><strong>zkSync</strong>ï¼ˆZK Rollupï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p> <strong>(2) ZK-STARKs</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼š<ul>
<li>æ— éœ€å¯ä¿¡è®¾ç½®ï¼ŒæŠ—é‡å­è®¡ç®—ã€‚</li>
<li>è¯æ˜ä½“ç§¯è¾ƒå¤§ï¼ˆçº¦ 100 KBï¼‰ï¼Œä½†éªŒè¯é€Ÿåº¦ä»å¿«ã€‚</li>
</ul>
</li>
<li><strong>åº”ç”¨</strong>ï¼š<ul>
<li><strong>StarkNet</strong>ï¼ˆä»¥å¤ªåŠ Layer2ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>(3) Bulletproofs</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼š<ul>
<li>æ— éœ€å¯ä¿¡è®¾ç½®ï¼Œé€‚åˆèŒƒå›´è¯æ˜ï¼ˆå¦‚ Confidential Transactionsï¼‰ã€‚</li>
</ul>
</li>
<li><strong>åº”ç”¨</strong>ï¼š<ul>
<li><strong>Monero</strong>ï¼ˆéšç§å¸ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h4 id="5-é›¶çŸ¥è¯†è¯æ˜çš„åŒºå—é“¾åº”ç”¨"><a href="#5-é›¶çŸ¥è¯†è¯æ˜çš„åŒºå—é“¾åº”ç”¨" class="headerlink" title="5. é›¶çŸ¥è¯†è¯æ˜çš„åŒºå—é“¾åº”ç”¨"></a><strong>5. é›¶çŸ¥è¯†è¯æ˜çš„åŒºå—é“¾åº”ç”¨</strong></h4><p><strong>(1) éšç§ä¿æŠ¤</strong></p>
<ul>
<li><strong>åŒ¿åäº¤æ˜“</strong>ï¼šZcash ä½¿ç”¨ ZK-SNARKs éšè—å‘é€æ–¹ã€æ¥æ”¶æ–¹å’Œé‡‘é¢ã€‚</li>
<li><strong>èº«ä»½éªŒè¯</strong>ï¼šè¯æ˜å¹´é¾„ &gt;18 å²ï¼Œè€Œæ— éœ€é€éœ²å‡ºç”Ÿæ—¥æœŸã€‚</li>
</ul>
<p> <strong>(2) æ‰©å®¹ï¼ˆZK Rollupï¼‰</strong></p>
<ul>
<li><u>å°†æ•°åƒç¬”äº¤æ˜“æ‰“åŒ…ï¼Œç”Ÿæˆ ZKP è¯æ˜æäº¤åˆ°ä¸»é“¾ï¼ŒéªŒè¯è€…åªéœ€æ£€æŸ¥è¯æ˜å³å¯ç¡®è®¤æœ‰æ•ˆæ€§ã€‚</u></li>
<li><strong>ä»£è¡¨é¡¹ç›®</strong>ï¼šzkSyncã€StarkNetã€Scrollã€‚</li>
</ul>
<p><strong>(3) å»ä¸­å¿ƒåŒ–å­˜å‚¨éªŒè¯</strong></p>
<ul>
<li>è¯æ˜æ–‡ä»¶å·²æ­£ç¡®å­˜å‚¨ï¼Œè€Œæ— éœ€ä¸‹è½½å…¨éƒ¨æ•°æ®ï¼ˆå¦‚ Filecoinï¼‰ã€‚</li>
</ul>
<h4 id="6-é›¶çŸ¥è¯†è¯æ˜çš„ä¼˜ç¼ºç‚¹"><a href="#6-é›¶çŸ¥è¯†è¯æ˜çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="6. é›¶çŸ¥è¯†è¯æ˜çš„ä¼˜ç¼ºç‚¹"></a><strong>6. é›¶çŸ¥è¯†è¯æ˜çš„ä¼˜ç¼ºç‚¹</strong></h4><p><strong>âœ… ä¼˜ç‚¹</strong></p>
<ul>
<li><strong>éšç§æ€§</strong>ï¼šéšè—æ•æ„Ÿæ•°æ®ï¼ˆå¦‚äº¤æ˜“è¯¦æƒ…ï¼‰ã€‚</li>
<li><strong>æ‰©å±•æ€§</strong>ï¼šå‡å°‘é“¾ä¸Šè®¡ç®—è´Ÿæ‹…ï¼ˆå¦‚ ZK Rollupï¼‰ã€‚</li>
<li><strong>å®‰å…¨æ€§</strong>ï¼šæ•°å­¦ä¸Šæ— æ³•ä¼ªé€ è¯æ˜ã€‚</li>
</ul>
<p><strong>âŒ æŒ‘æˆ˜</strong></p>
<ul>
<li><strong>è®¡ç®—å¯†é›†å‹</strong>ï¼šç”Ÿæˆè¯æ˜éœ€è¦é«˜æ€§èƒ½ç¡¬ä»¶ã€‚</li>
<li><strong>å¯ä¿¡è®¾ç½®ï¼ˆZK-SNARKsï¼‰</strong>ï¼šåˆå§‹å‚æ•°è‹¥æ³„éœ²ï¼Œå¯èƒ½ä¼ªé€ è¯æ˜ã€‚</li>
<li><strong>å¼€å‘é—¨æ§›é«˜</strong>ï¼šéœ€è¦å¯†ç å­¦ä¸“ä¸šçŸ¥è¯†ã€‚</li>
</ul>
</blockquote>
<h4 id="2-5-Layer-2-å¯¹æ¯”"><a href="#2-5-Layer-2-å¯¹æ¯”" class="headerlink" title="2.5 Layer 2 å¯¹æ¯”"></a>2.5 Layer 2 å¯¹æ¯”</h4><p><strong>æ ¸å¿ƒç‰¹æ€§å¯¹æ¯”</strong></p>
<table>
<thead>
<tr>
<th align="center"><strong>ç»´åº¦</strong></th>
<th align="center"><strong>State Channel</strong></th>
<th align="center"><strong>Sidechain</strong></th>
<th align="center"><strong>Plasma</strong></th>
<th align="center"><strong>Rollup</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>å®‰å…¨æ€§</strong></td>
<td align="center">ä¾èµ–æœ€ç»ˆç»“ç®—</td>
<td align="center">ä¾èµ–ä¾§é“¾å…±è¯†</td>
<td align="center">ä¾èµ–ä¸»é“¾æ¬ºè¯ˆè¯æ˜</td>
<td align="center">ç»§æ‰¿ä¸»é“¾å®‰å…¨æ€§</td>
</tr>
<tr>
<td align="center"><strong>äº¤æ˜“é€Ÿåº¦</strong></td>
<td align="center">å³æ—¶ï¼ˆé“¾ä¸‹ï¼‰</td>
<td align="center">è¾ƒå¿«ï¼ˆä¾èµ–ä¾§é“¾æ€§èƒ½ï¼‰</td>
<td align="center">è¾ƒå¿«ï¼ˆé“¾ä¸‹æ‰§è¡Œï¼‰</td>
<td align="center">è¾ƒå¿«ï¼ˆé“¾ä¸‹æ‰§è¡Œï¼‰</td>
</tr>
<tr>
<td align="center"><strong>æˆæœ¬</strong></td>
<td align="center">é“¾ä¸‹å…è´¹ï¼Œä»…å¼€/å…³é€šé“ä»˜è´¹</td>
<td align="center">ä½ï¼ˆä¾§é“¾Gasè´¹ï¼‰</td>
<td align="center">æä½</td>
<td align="center">æä½ï¼ˆæ•°æ®å‹ç¼©ï¼‰</td>
</tr>
<tr>
<td align="center"><strong>å»ä¸­å¿ƒåŒ–</strong></td>
<td align="center">éœ€é¢„å­˜èµ„é‡‘ï¼Œå‚ä¸è€…å›ºå®š</td>
<td align="center">å¯å˜ï¼ˆPoA/PoSï¼‰</td>
<td align="center">ä¾èµ–è¿è¥å•†</td>
<td align="center">é€æ­¥å»ä¸­å¿ƒåŒ–</td>
</tr>
<tr>
<td align="center"><strong>æ•°æ®å­˜å‚¨</strong></td>
<td align="center">ä»…æœ€ç»ˆçŠ¶æ€ä¸Šé“¾</td>
<td align="center">ç‹¬ç«‹é“¾ä¸Šå­˜å‚¨</td>
<td align="center">ä»…æäº¤Merkle Root</td>
<td align="center">äº¤æ˜“æ•°æ®å…¨ä¸Šé“¾ï¼ˆRollupï¼‰</td>
</tr>
<tr>
<td align="center"><strong>é€‚ç”¨åœºæ™¯</strong></td>
<td align="center">é«˜é¢‘å°é¢æ”¯ä»˜ï¼ˆå¦‚æ¸¸æˆï¼‰</td>
<td align="center">ç‹¬ç«‹ç”Ÿæ€ï¼ˆå¦‚GameFiï¼‰</td>
<td align="center">ç®€å•æ”¯ä»˜/èµ„äº§è½¬ç§»</td>
<td align="center">é€šç”¨æ™ºèƒ½åˆçº¦</td>
</tr>
</tbody></table>
<p><strong>å·¥ä½œåŸç†å¯¹æ¯”</strong></p>
<p><strong>(1) State Channelï¼ˆçŠ¶æ€é€šé“ï¼‰</strong></p>
<ul>
<li><strong>æµç¨‹</strong>ï¼š<ol>
<li>åŒæ–¹é”å®šèµ„é‡‘åœ¨ä¸»é“¾ã€‚</li>
<li>é“¾ä¸‹æ— é™æ¬¡äº¤æ˜“ï¼ˆä»…åŒæ–¹ç­¾åï¼‰ã€‚</li>
<li>æœ€ç»ˆç»“ç®—çŠ¶æ€ä¸Šé“¾ã€‚</li>
</ol>
</li>
<li><strong>ä¾‹å­</strong>ï¼šæ¯”ç‰¹å¸é—ªç”µç½‘ç»œã€ä»¥å¤ªåŠçš„Raiden Networkã€‚</li>
</ul>
<p><strong>(2) Sidechainï¼ˆä¾§é“¾ï¼‰</strong></p>
<ul>
<li><strong>æµç¨‹</strong>ï¼š<ol>
<li>èµ„äº§é€šè¿‡æ¡¥é”å®šåœ¨ä¸»é“¾ï¼Œæ˜ å°„åˆ°ä¾§é“¾ã€‚</li>
<li>ä¾§é“¾ç‹¬ç«‹è¿è¡Œï¼ˆè‡ªæœ‰å…±è¯†æœºåˆ¶ï¼‰ã€‚</li>
<li>ææ¬¾æ—¶åå‘æ¡¥æ¥å›ä¸»é“¾ã€‚</li>
</ol>
</li>
<li><strong>ä¾‹å­</strong>ï¼šPolygon PoSé“¾ã€Roninï¼ˆAxie Infinityä¾§é“¾ï¼‰ã€‚</li>
</ul>
<p> <strong>(3) Plasma</strong></p>
<ul>
<li><strong>æµç¨‹</strong>ï¼š<ol>
<li>èµ„äº§é”å®šåœ¨ä¸»é“¾Plasmaåˆçº¦ã€‚</li>
<li>å­é“¾å¤„ç†äº¤æ˜“ï¼Œå®šæœŸæäº¤Merkle Rootåˆ°ä¸»é“¾ã€‚</li>
<li>ææ¬¾éœ€æŒ‘æˆ˜æœŸï¼ˆé˜²æ¬ºè¯ˆï¼‰ã€‚</li>
</ol>
</li>
<li><strong>ä¾‹å­</strong>ï¼šæ—©æœŸOMG Networkï¼ˆå·²è½¬å‘Rollupï¼‰ã€‚</li>
</ul>
<p> <strong>(4) Rollup</strong></p>
<ul>
<li><strong>æµç¨‹</strong>ï¼š<ol>
<li>äº¤æ˜“åœ¨é“¾ä¸‹æ‰§è¡Œå¹¶å‹ç¼©ã€‚</li>
<li>æ•°æ®æ‰¹é‡æäº¤åˆ°ä¸»é“¾ï¼ˆOptimisticéœ€æ¬ºè¯ˆè¯æ˜ï¼ŒZKéœ€æœ‰æ•ˆæ€§è¯æ˜ï¼‰ã€‚</li>
</ol>
</li>
<li><strong>ä¾‹å­</strong>ï¼šOptimismï¼ˆOPï¼‰ã€Arbitrumã€zkSyncã€‚</li>
</ul>
<p><strong>å®‰å…¨æ€§å¯¹æ¯”</strong></p>
<table>
<thead>
<tr>
<th align="center"><strong>æ–¹æ¡ˆ</strong></th>
<th align="center"><strong>å®‰å…¨æ¨¡å‹</strong></th>
<th align="center"><strong>ä¸»è¦é£é™©</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>State Channel</strong></td>
<td align="center">ä¾èµ–å‚ä¸è€…è¯šå®</td>
<td align="center">å¯¹æ‰‹æ–¹ç¦»çº¿æ—¶èµ„é‡‘å¯èƒ½é”å®š</td>
</tr>
<tr>
<td align="center"><strong>Sidechain</strong></td>
<td align="center">ä¾èµ–ä¾§é“¾å…±è¯†</td>
<td align="center">æ¡¥æ¥æ”»å‡»ï¼ˆå¦‚Roninè¢«ç›—6.25äº¿ç¾å…ƒï¼‰</td>
</tr>
<tr>
<td align="center"><strong>Plasma</strong></td>
<td align="center">ä¸»é“¾æ¬ºè¯ˆè¯æ˜</td>
<td align="center">æ•°æ®ä¸å¯ç”¨æ€§é—®é¢˜ï¼ˆè¿è¥å•†éšè—æ•°æ®ï¼‰</td>
</tr>
<tr>
<td align="center"><strong>Rollup</strong></td>
<td align="center">ç»§æ‰¿ä¸»é“¾å®‰å…¨</td>
<td align="center">Optimisticçš„7å¤©å»¶è¿Ÿï¼ŒZKçš„è¯æ˜ä¸­å¿ƒåŒ–</td>
</tr>
</tbody></table>
<p><strong>ä¼˜ç¼ºç‚¹æ€»ç»“</strong></p>
<table>
<thead>
<tr>
<th align="center"><strong>æ–¹æ¡ˆ</strong></th>
<th align="center"><strong>ä¼˜ç‚¹</strong></th>
<th align="center"><strong>ç¼ºç‚¹</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>State Channel</strong></td>
<td align="center">é›¶å»¶è¿Ÿï¼Œé›¶Gasè´¹ï¼Œéšç§æ€§å¥½</td>
<td align="center">ä»…é™å›ºå®šå‚ä¸è€…ï¼Œéœ€é¢„å­˜èµ„é‡‘</td>
</tr>
<tr>
<td align="center"><strong>Sidechain</strong></td>
<td align="center">é«˜æ€§èƒ½ï¼Œçµæ´»å®šåˆ¶</td>
<td align="center">å®‰å…¨æ€§ä¾èµ–ä¾§é“¾ï¼Œæ¡¥æ¥é£é™©</td>
</tr>
<tr>
<td align="center"><strong>Plasma</strong></td>
<td align="center">é«˜ååé‡ï¼Œä½æˆæœ¬</td>
<td align="center">é€€å‡ºå»¶è¿Ÿé•¿ï¼Œä¸æ”¯æŒå¤æ‚é€»è¾‘</td>
</tr>
<tr>
<td align="center"><strong>Rollup</strong></td>
<td align="center">ç»§æ‰¿ä¸»é“¾å®‰å…¨ï¼Œæ”¯æŒæ™ºèƒ½åˆçº¦</td>
<td align="center">Optimisticæœ‰å»¶è¿Ÿï¼ŒZKå¼€å‘é—¨æ§›é«˜</td>
</tr>
</tbody></table>
<p><strong>æœªæ¥è¶‹åŠ¿</strong></p>
<ul>
<li><strong>Rollup ä¸»å¯¼</strong>ï¼šOptimistic å’Œ ZK Rollup æˆä¸ºä»¥å¤ªåŠæ‰©å®¹ä¸»æµã€‚</li>
<li><strong>State Channel å°ä¼—åŒ–</strong>ï¼šä»…ç”¨äºç‰¹å®šåœºæ™¯ï¼ˆå¦‚å¾®æ”¯ä»˜ï¼‰ã€‚</li>
<li><strong>Sidechain ä¸“ç”¨åŒ–</strong>ï¼šæ¸¸æˆã€ç¤¾äº¤ç­‰å‚ç›´é¢†åŸŸã€‚</li>
<li><strong>Plasma æ·˜æ±°</strong>ï¼šè¢« Rollup å–ä»£ï¼ˆå› æ•°æ®å¯ç”¨æ€§é—®é¢˜ï¼‰ã€‚</li>
</ul>
<h3 id="3-Rollupè¯¦æƒ…"><a href="#3-Rollupè¯¦æƒ…" class="headerlink" title="3 Rollupè¯¦æƒ…"></a>3 Rollupè¯¦æƒ…</h3><h4 id="3-1-å¦‚ä½•å‹ç¼©"><a href="#3-1-å¦‚ä½•å‹ç¼©" class="headerlink" title="3.1 å¦‚ä½•å‹ç¼©"></a>3.1 å¦‚ä½•å‹ç¼©</h4><p>ä»¥ OP-Rollup çš„ä¸ºä¾‹ï¼Œæˆ‘ä»¬è¦å‘ Layer 1 ä¸Šä¼ ä¸€æ®µæ—¶é—´å†…çš„æ‰€æœ‰äº¤æ˜“è¯¦æƒ…ï¼Œå¦‚æœä¸å¯¹è¿™éƒ¨åˆ†æ•°æ®è¿›è¡Œé«˜åº¦å‹ç¼©ï¼Œé‚£åˆ†æ‹…è´Ÿè½½çš„æ•ˆæœå°±éå¸¸å°äº†ã€‚æˆ‘ä»¬ä»¥å•ç¬”äº¤æ˜“ä¸ºä¾‹ï¼Œå®ƒèº«ä¸Šå…¶å®æœ‰è®¸å¤šå¯æ”¹è¿›çš„ç©ºé—´ã€‚</p>
<p>æ¯”å¦‚ä¸€ç¬”å¸¸è§çš„è½¬è´¦äº¤æ˜“ï¼Œå®ƒçš„åŸæ•°äº¤æ˜“æ•°æ®å¯èƒ½æ˜¯ä»¥ä¸‹è¿™æ ·çš„ï¼š</p>
<p><strong>4232f461</strong>000000000000000000000000<strong>7ea2be2df7ba6e54b1a9c70676f668455e329d29</strong>000000000000000000000000<strong>d548a5e31de2b4c2681a58a3be5302abcae4bc57</strong>00000000000000000000<strong>000000000000000000000000000000000000000186a0</strong></p>
<p>ï¼ˆ<strong>Method ID</strong> / é›¶å¡«å……[1] / <strong>ä»£å¸åˆçº¦åœ°å€</strong> / é›¶å¡«å…… / <strong>æ”¶æ¬¾çš„è´¦æˆ·åœ°å€</strong> / é›¶å¡«å…… / <strong>æå¸æ•°é‡</strong>ï¼‰</p>
<blockquote>
<p> [1]é›¶å¡«å……ï¼šä¹‹æ‰€ä»¥è¦å¡«å……é›¶å ç”¨ç©ºé—´ï¼Œæ˜¯å› ä¸ºä»¥å¤ªåŠä¸­çš„äº¤æ˜“æ•°æ®æ˜¯å›ºå®šé•¿åº¦ç¼–ç çš„ï¼Œæ¯”å¦‚ Method ID å ç”¨ 128 ä½ï¼ˆ32 ä¸ªåå…­è¿›åˆ¶å­—æ¯ï¼‰ï¼Œåœ°å€å’Œé‡‘é¢å ç”¨ 256 ä½ï¼ˆ64 ä¸ªåå…­è¿›åˆ¶å­—æ¯ï¼‰ï¼Œä¸å¤Ÿé•¿çš„ä¿¡æ¯å­—æ®µéœ€è¦å¡«å…… 0 ä»¥ä¿æŒæ•°æ®å¯¹é½å’Œä¸€è‡´æ€§ã€‚</p>
</blockquote>
<p><u><strong>åŸå§‹äº¤æ˜“æ•°æ®å¯ä»¥é€šè¿‡ä»¥ä¸‹æ‰‹æ®µå‹ç¼©ï¼š</strong></u></p>
<ol>
<li>ç”¨<strong>ç§‘å­¦è®¡æ•°æ³•</strong>æŠŠè½¬è´¦æ•°é‡å‹ç¼©æˆ 64 ä½æ•°æ®ï¼Œå¹¶åˆ é™¤ä¸å¿…è¦çš„ 0ã€‚ï¼ˆæ•°é‡çš„ç²¾åº¦ä¼šç•¥å¾®ä¸‹é™ï¼Œä½†å®è·µä¸­å½±å“ä¸å¤§ï¼‰</li>
<li>è°ƒç”¨çš„æ–¹æ³•å¦‚æœå¾ˆå¸¸è§ï¼Œå¯ä»¥åˆ é™¤æ‰€è°ƒç”¨çš„ Method IDï¼Œå› ä¸ºå¦‚â€œè½¬è´¦ä¸€ç¬” ERC20 [3] ä»£å¸â€çš„äº¤æ˜“ï¼Œå¯ä»¥é€šè¿‡äº¤æ˜“å†…å®¹çš„ç‰¹å¾æ¨æµ‹</li>
<li>å¸¸ç”¨è¡Œä¸ºè®¾ç½®ç»¿è‰²é€šé“ï¼ˆHelper IDï¼‰ï¼šå¤§éƒ¨åˆ†å‘é€ä»£å¸çš„è¡Œä¸ºéƒ½æ˜¯å¦‚ USDCã€WETH ç­‰å¸¸ç”¨ä»£å¸ï¼Œå¯ä»¥ç”¨æ›´çŸ­çš„ä¸€ä¸ª Helper IDï¼Œæ¥è¡¨ç¤ºè°ƒç”¨æ–¹æ³•æ˜¯â€œå‘é€â€ï¼Œå‘é€çš„ä»£å¸æ˜¯â€œUSDCâ€è¿™ä¸¤ä¸ªä¿¡æ¯ã€‚</li>
<li>ç™»è®°ä¸€ä¸ªâ€œç”µè¯ç°¿â€ï¼Œè®°å½•æ”¶æ¬¾äººåœ°å€ï¼Œå°† 40 ä½çš„åœ°å€å‹ç¼©ä¸ºç¬¬ XXX é¡µçš„ç¬¬ X ä¸ªåœ°å€ã€‚</li>
<li>å¦‚æœå‘é€çš„æ˜¯ ETHï¼Œè¿ Helper ID éƒ½å¯ä»¥çœæ‰ã€‚</li>
</ol>
<p>æœ€ç»ˆæˆ‘ä»¬éœ€è¦ä¸Šä¼ è‡³ Layer 1 çš„æ•°æ®ä»ä¸€æ®µéå¸¸é•¿çš„ä¿¡æ¯</p>
<p><strong>4232f461</strong>000000000000000000000000<strong>7ea2be2df7ba6e54b1a9c70676f668455e329d29</strong>000000000000000000000000<strong>d548a5e31de2b4c2681a58a3be5302abcae4bc57</strong>00000000000000000000<strong>000000000000000000000000000000000000000186a0</strong></p>
<p>å˜ä¸ºäº†</p>
<p><strong>059c57</strong>0186a0</p>
<p>ï¼ˆ<strong>æ”¶æ¬¾è´¦æˆ·â€œç”µè¯ç°¿â€ç¼–å·</strong> / æå¸æ•°é‡ï¼‰</p>
<p><strong>æ•°æ®å‹ç¼©è¿‡ç¨‹</strong></p>
<ol>
<li><strong>åŸå§‹çŠ¶æ€</strong></li>
</ol>
<p><u>åŸå§‹äº¤æ˜“æ•°æ®æœªç»å‹ç¼©</u></p>
<blockquote>
<p><strong>4232f461</strong>000000000000000000000000<strong>7ea2be2df7ba6e54b1a9c70676f668455e329d29</strong>000000000000000000000000<strong>d548a5e31de2b4c2681a58a3be5302abcae4bc57</strong>00000000000000000000<strong>000000000000000000000000000000000000000186a0</strong></p>
</blockquote>
<p>ï¼ˆMethod ID / é›¶å¡«å…… / ä»£å¸åˆçº¦åœ°å€ / é›¶å¡«å……  / æ”¶æ¬¾çš„è´¦æˆ·åœ°å€ / é›¶å¡«å…… / æå¸æ•°é‡ï¼‰</p>
<ol start="2">
<li><strong>å‹ç¼©çŠ¶æ€1</strong></li>
</ol>
<p><u>ç”¨<strong>ç§‘å­¦è®¡æ•°æ³•</strong>æŠŠè½¬è´¦æ•°é‡å‹ç¼©æˆ 64 ä½æ•°æ®ï¼Œå¹¶åˆ é™¤ä¸å¿…è¦çš„ 0ã€‚ï¼ˆæ•°é‡çš„ç²¾åº¦ä¼šç•¥å¾®ä¸‹é™ï¼Œä½†å®è·µä¸­å½±å“ä¸å¤§ï¼‰</u></p>
<blockquote>
<p><strong>4232f461</strong>7ea2be2df7ba6e54b1a9c70676f668455e329d29<strong>d548a5e31de2b4c2681a58a3be5302abcae4bc57</strong>0186a0</p>
</blockquote>
<p>ï¼ˆMethod ID / ä»£å¸åˆçº¦åœ°å€ / æ”¶æ¬¾çš„è´¦æˆ·åœ°å€ / æå¸æ•°é‡ï¼‰</p>
<ol start="3">
<li><strong>å‹ç¼©çŠ¶æ€2</strong></li>
</ol>
<p><u>è°ƒç”¨çš„æ–¹æ³•å¦‚æœå¾ˆå¸¸è§ï¼Œå¯ä»¥åˆ é™¤æ‰€è°ƒç”¨çš„ Method IDï¼Œå› ä¸ºå¦‚â€œè½¬è´¦ä¸€ç¬” ERC20 [3] ä»£å¸â€çš„äº¤æ˜“ï¼Œå¯ä»¥é€šè¿‡äº¤æ˜“å†…å®¹çš„ç‰¹å¾æ¨æµ‹</u></p>
<blockquote>
<p><strong>7ea2be2df7ba6e54b1a9c70676f668455e329d29</strong>d548a5e31de2b4c2681a58a3be5302abcae4bc57<strong>0186a0</strong></p>
</blockquote>
<p>ï¼ˆä»£å¸åˆçº¦åœ°å€ / æ”¶æ¬¾çš„è´¦æˆ·åœ°å€ / æå¸æ•°é‡ï¼‰</p>
<ol start="4">
<li><strong>å‹ç¼©çŠ¶æ€3</strong></li>
</ol>
<p><u>å¸¸ç”¨è¡Œä¸ºè®¾ç½®ç»¿è‰²é€šé“ï¼ˆHelper IDï¼‰ï¼šå¤§éƒ¨åˆ†å‘é€ä»£å¸çš„è¡Œä¸ºéƒ½æ˜¯å¦‚ USDCã€WETH ç­‰å¸¸ç”¨ä»£å¸ï¼Œå¯ä»¥ç”¨æ›´çŸ­çš„ä¸€ä¸ª Helper IDï¼Œæ¥è¡¨ç¤ºè°ƒç”¨æ–¹æ³•æ˜¯â€œå‘é€â€ï¼Œå‘é€çš„ä»£å¸æ˜¯â€œUSDCâ€è¿™ä¸¤ä¸ªä¿¡æ¯ã€‚</u></p>
<blockquote>
<p><strong>0000ee</strong>d548a5e31de2b4c2681a58a3be5302abcae4bc57<strong>0186a0</strong></p>
</blockquote>
<p>ï¼ˆHelper ID / æ”¶æ¬¾çš„è´¦æˆ·åœ°å€ / æå¸æ•°é‡ï¼‰</p>
<ol start="5">
<li><strong>å‹ç¼©çŠ¶æ€4</strong></li>
</ol>
<p><u>ç™»è®°ä¸€ä¸ªâ€œç”µè¯ç°¿â€ï¼Œè®°å½•æ”¶æ¬¾äººåœ°å€ï¼Œå°† 40 ä½çš„åœ°å€å‹ç¼©ä¸ºç¬¬ XXX é¡µçš„ç¬¬ X ä¸ªåœ°å€ã€‚</u></p>
<blockquote>
<p><strong>0000ee</strong>059c01<strong>0186a0</strong></p>
</blockquote>
<p>ï¼ˆHelper ID / æ”¶æ¬¾è´¦æˆ·â€œç”µè¯ç°¿â€ç¼–å· / æå¸æ•°é‡ï¼‰</p>
<ol start="6">
<li><strong>å‹ç¼©çŠ¶æ€5</strong></li>
</ol>
<p><u>å¦‚æœå‘é€çš„æ˜¯ ETHï¼Œè¿ Helper ID éƒ½å¯ä»¥çœæ‰ã€‚</u></p>
<blockquote>
<p><strong>059c01</strong>0186a0</p>
</blockquote>
<p>ï¼ˆæ”¶æ¬¾è´¦æˆ·â€œç”µè¯ç°¿â€ç¼–å· / æå¸æ•°é‡ï¼‰</p>
<p>Layer 1 å­˜å‚¨æ•°æ®çš„æˆæœ¬æ˜¯éå¸¸é«˜æ˜‚çš„ï¼ŒLayer 2 çš„æ‰§è¡Œæˆæœ¬ç»å¤§éƒ¨åˆ†çš„éƒ½æ¶ˆè€—åœ¨äº†è¿™ä¸€æ­¥ï¼Œå› æ­¤å‹ç¼©éœ€è¦ä¸Šä¼ çš„æ•°æ®ä¸Šå¯ä»¥æ˜¾è‘—é™ä½ Layer 2 æ•´ä½“çš„äº¤æ˜“æˆæœ¬ã€‚</p>
<h4 id="3-2-è¿›ä¸€æ­¥å‹ç¼©"><a href="#3-2-è¿›ä¸€æ­¥å‹ç¼©" class="headerlink" title="3.2 è¿›ä¸€æ­¥å‹ç¼©"></a>3.2 è¿›ä¸€æ­¥å‹ç¼©</h4><p>æ•°æ®å‹ç¼©æ˜¯ä¸ªè¿œæ—©äºåŒºå—é“¾å°±å­˜åœ¨çš„æŠ€æœ¯ï¼Œé™¤äº†å‰é¢å¯¹äº¤æ˜“çš„å®šåˆ¶åŒ–å‹ç¼©ä¹‹å¤–ï¼Œè¿˜æœ‰è®¸å¤šå‹ç¼©ç®—æ³•èƒ½å¸®åŠ©è¿›ä¸€æ­¥å‹ç¼©æ•°æ®ç©ºé—´ã€‚</p>
<p>æ¯”å¦‚æˆ‘ä»¬ç”Ÿæ´»ä¸­å¾€å¾€éƒ½æ¥è§¦è¿‡ zipã€rarã€7z å‹ç¼©åŒ…ï¼Œå®ƒä»¬å°±æ˜¯ä½¿ç”¨äº†å‹ç¼©ç®—æ³•å°†å„ç§æ–‡ä»¶çš„ä½“ç§¯å‡å°ã€‚ Optimism çš„ Zlib å‹ç¼©ç®—æ³•ã€ Arbitrum çš„ Brotli å‹ç¼©ç®—æ³•éƒ½èƒ½èµ·åˆ°ç±»ä¼¼çš„ä½œç”¨ã€‚</p>
<h4 id="3-3-Optimistic-Rollup"><a href="#3-3-Optimistic-Rollup" class="headerlink" title="3.3 Optimistic Rollup"></a>3.3 Optimistic Rollup</h4><p>Optimistic Rollup æ˜¯â€œä¹è§‚çš„æ‰“åŒ…â€ï¼Œå®ƒå‡è®¾ç»å¤§éƒ¨åˆ†çš„å‚ä¸è€…éƒ½æ˜¯è¯šå®çš„ï¼Œå…è®¸ä¸€æ‰¹æ•°é‡è¾ƒå°‘çš„éªŒè¯è€…èŠ‚ç‚¹ï¼ˆValidatorï¼‰ï¼Œå¯¹äº¤æ˜“è¿›è¡Œæ”¶é›†ã€æ’åºã€éªŒè¯ã€‚åŒæ—¶è¿˜è®¾ç½®äº†æŒ‘æˆ˜è€…çš„è§’è‰²ï¼ˆChallengerï¼‰ï¼Œå…¶èŒè´£æ˜¯ç›‘ç£éªŒè¯è€…æäº¤çš„ä¿¡æ¯æ˜¯å¦è¯šå®ã€‚</p>
<p>OP-Rollup ä¼šå®šæœŸå‘ä¸»ç½‘ä¸Šä¼ ä¸¤ç§æ•°æ®ï¼š</p>
<ul>
<li>çŠ¶æ€æ ¹ï¼ˆState Rootï¼‰: çŠ¶æ€æ ¹å¯ä»¥å¿«é€Ÿç¡®è®¤ Layer 2 å°è´¦æœ¬çš„å†…å®¹æ˜¯å¦è¢«ç¯¡æ”¹ã€‚</li>
<li>å‹ç¼©åçš„å…¨éƒ¨äº¤æ˜“æ•°æ®ï¼šåŒ…å«å„ç§äº¤æ˜“ç»†èŠ‚ï¼Œæ¯”å¦‚äº¤æ˜“é™„å¸¦çš„â€œç”¨æˆ·ç­¾åâ€ã€‚</li>
</ul>
<p>è™½ç„¶ä¸Šä¼ äº†è¿‘æ®µæ—¶é—´çš„å…¨éƒ¨äº¤æ˜“è¯¦æƒ…ï¼Œä½†ä»¥å¤ªåŠä¸»ç½‘å¹¶ä¸è´Ÿè´£ç›´æ¥éªŒè¯è¿™äº›äº¤æ˜“ï¼Œåªèµ·åˆ°ä¸€ä¸ªå…¬ç¤ºçš„ä½œç”¨ã€‚</p>
<p>ä¸ Plasma ç±»ä¼¼ï¼ŒOP-Rollup ä¹Ÿä½¿ç”¨é»˜å…‹å°”æ ‘çš„å½¢å¼ä¿å­˜äº†ä¸€ä¸ªâ€œå°è´¦æœ¬â€ï¼Œè®°å½•äº†å…¨ä½“è´¦æˆ·çš„æ‰€æœ‰çŠ¶æ€ï¼ˆè´¦æˆ·ä½™é¢ï¼‰ã€‚å¦‚æœæˆ‘ä»¬ç›¸ä¿¡ç›®å‰çš„äº¤æ˜“éªŒè¯è€…ï¼ˆValidatorï¼‰éƒ½æ˜¯è¯šå®çš„ï¼Œé‚£ä¹ˆçŠ¶æ€æ ¹èƒ½å¿«é€Ÿç¡®è®¤å½“å‰ Layer 2 çš„å°è´¦æœ¬è®°å½•çš„å†…å®¹æ˜¯å¦è¢«ç¯¡æ”¹ï¼Œç¡®ä¿å®‰å…¨æ€§ã€‚</p>
<p>åä¹‹ï¼Œå‡å¦‚æˆ‘ä»¬å¯¹ç›®å‰çš„äº¤æ˜“åˆæ³•æ€§äº§ç”Ÿè´¨ç–‘ï¼Œä»»ä½•ç¬¬ä¸‰æ–¹éƒ½å¯ä»¥åœ¨ä¸»ç½‘è·å–æœ€è¿‘ä¸€æ®µæ—¶é—´å†…æ‰€æœ‰äº¤æ˜“çš„å‰¯æœ¬ï¼Œé‡æ–°éªŒè¯ä¹‹åï¼Œå°†è‡ªå·±éªŒè¯çš„ç»“æœä¸ Layer 2 çš„å°è´¦æœ¬çš„è®°å½•åšå¯¹æ¯”ï¼Œç¡®è®¤å°è´¦æœ¬ä¸Šçš„è®°å½•å‡ä¸ºåˆæ³•ã€‚å¦‚æœå‘ç°ä½œæ¶ï¼ŒæŒ‘æˆ˜è€…å°±å¯ä»¥åœ¨ Layer 1 æäº¤æ¬ºè¯ˆè¯æ˜æ¥æ”¹å†™ Layer 2 çš„çŠ¶æ€ã€‚æŒ‘æˆ˜æˆåŠŸåï¼Œä¸è¯šå®çš„éªŒè¯è€…å°†å—åˆ°æƒ©ç½šï¼ŒæŒ‘æˆ˜è€…å°†è·å¾—å¥–åŠ±ã€‚åŒæ—¶ï¼Œå—å½±å“çš„äº¤æ˜“å°†è¢«å›æ»š [1]ï¼Œè¿›è¡Œé‡æ–°éªŒè¯ã€‚</p>
<blockquote>
<p>[1] å›æ»šçš„å½±å“èŒƒå›´å–å†³äºå…·ä½“ Layer 2 çš„è®¾è®¡æœºåˆ¶ã€‚æœ‰äº›é€‰æ‹©ä»…å›æ»šæ— æ•ˆçš„äº¤æ˜“ï¼›æœ‰äº›é€‰æ‹©å°†å—å½±å“çš„åŒºå—å˜ä¸ºå­¤å—ï¼Œä»æœªå—å½±å“çš„åŒºå—åç»§ç»­ï¼Œè¿™å°†å¯¼è‡´ä¸€æ®µæ—¶é—´å†…çš„äº¤æ˜“éƒ½å°†è¢«å›æ»šï¼Œè¿›è¡Œé‡æ–°éªŒè¯ï¼›æœ‰äº›é€‰æ‹©ç”¨å¤šè½®æŒ‘æˆ˜ç­‰å…¶ä»–æ‰‹æ®µï¼Œç¼©å°éœ€è¦å›æ»šçš„èŒƒå›´ã€‚</p>
</blockquote>
<p>è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œè´Ÿè´£ç›‘ç£çš„æŒ‘æˆ˜è€…ï¼ˆChallengerï¼‰æ˜¯ç›´æ¥ä¸ Layer 1 çš„æ™ºèƒ½åˆçº¦äº¤äº’çš„ï¼Œä¸€å±‚å¯¹äºŒå±‚çš„çŠ¶æ€æœ‰ç€æœ€ç»ˆè£å†³æƒã€‚</p>
<p>è¿™ç§è®¾è®¡ä¹‹ä¸‹ï¼Œå³ä½¿åªæœ‰ä¸€ä¸ªè¯šå®çš„æŒ‘æˆ˜è€…ï¼Œä¹Ÿè¶³ä»¥ç¡®ä¿æ•´ä¸ª Layer 2 çš„äº¤æ˜“å®‰å…¨ã€‚ä¸è¿‡ä»£ä»·æ˜¯ OP-Rollup å¿…é¡»æä¾›ä¸€ä¸ªé€€å‡ºçª—å£æœŸï¼Œè®©æŒ‘æˆ˜è€…æœ‰æ—¶é—´å»æ£€éªŒå¹¶æäº¤æ¬ºè¯ˆè¯æ˜ï¼Œå› æ­¤ä½¿ç”¨å®˜æ–¹æ¡¥ä» OP-Rollup ç½‘ç»œææ¬¾å¾€å¾€éœ€è¦ 7 - 14 å¤©çš„ç­‰å¾…æœŸã€‚</p>
<p>OP-Rollup çš„é€»è¾‘ç®€å•æ˜“æ‡‚ï¼Œè€Œä¸”ä¸Šä¼ äº†å…¨éƒ¨äº¤æ˜“ç»†èŠ‚ï¼Œå› æ­¤å¯¹ EVM [2] ï¼ˆä»¥å¤ªåŠè™šæ‹Ÿæœºï¼‰çš„å…¼å®¹æ€§ä¹Ÿéå¸¸å¥½ï¼Œå¾ˆæœ‰åˆ©äºè½åœ°å®æ–½ã€‚ä½†æ¼«é•¿çš„æŒ‘æˆ˜æœŸå®åœ¨æ˜¯å¤ªç—›è‹¦äº†ï¼Œæœ‰åŠæ³•è§£å†³<strong>é€€å‡ºç­‰å¾…æ—¶é—´è¿‡é•¿çš„é—®é¢˜</strong>å—ï¼Ÿ</p>
<blockquote>
<p>[2] EVM å³ Ethereum Virtual Machineï¼Œæ˜¯ä»¥å¤ªåŠä¸­æ™ºèƒ½åˆçº¦çš„æ‰§è¡Œç¯å¢ƒã€‚è™šæ‹Ÿæœºï¼ˆVirtual Machineï¼‰æ˜¯é€šè¿‡è½¯ä»¶æ¨¡æ‹Ÿçš„å…·æœ‰å®Œæ•´ç¡¬ä»¶ç³»ç»ŸåŠŸèƒ½çš„ã€è¿è¡Œåœ¨éš”ç¦»ç¯å¢ƒä¸­çš„å®Œæ•´è®¡ç®—æœºç³»ç»Ÿã€‚å¼€å‘è€…ä¸å¿…å…³å¿ƒåº•å±‚ç»†èŠ‚å¦‚ä½•å®ç°ï¼Œåªè¦åœ¨ä»¥å¤ªåŠè™šæ‹Ÿæœºä¸­å¼€å‘ï¼Œå°±èƒ½ç¡®ä¿ä»£ç æ‰§è¡Œç¯å¢ƒçš„ä¸€è‡´æ€§ã€‚</p>
</blockquote>
<h4 id="3-4-Zero-Knowledge-Proof"><a href="#3-4-Zero-Knowledge-Proof" class="headerlink" title="3.4 Zero-Knowledge Proof"></a>3.4 Zero-Knowledge Proof</h4><p>é€ æˆæ¼«é•¿ç­‰å¾…æœŸçš„åŸå› ï¼Œæ˜¯å› ä¸º OP-Rollup éœ€è¦äººçš„å‚ä¸ï¼ˆæŒ‘æˆ˜è€…æ‰®æ¼”çš„è§’è‰²ï¼‰ã€‚å¦‚æœèƒ½è®©æ•´ä¸ªè¿‡ç¨‹ä¸éœ€è¦äººçš„å‚ä¸ï¼Œåªéœ€è¦ç®—æ³•çš„å‚ä¸ï¼Œé‚£å°±å®Œç¾äº†ã€‚</p>
<p><strong>é›¶çŸ¥è¯†è¯æ˜</strong>æ˜¯æŒ‡å‘ä»–äººè¯æ˜æŸä¸ªå‘½é¢˜ä¸ºçœŸï¼Œä½†åˆä¸é€éœ²â€œè¯¥å‘½é¢˜ä¸ºçœŸâ€ä¹‹å¤–çš„ä»»ä½•ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ªç¯å½¢çš„é•¿å»Šï¼Œåœ¨èµ°å»Šä¸­é—´æŸå¤„æœ‰ä¸€é“å®‰è£…äº†å¯†ç é”çš„é—¨ã€‚å¦‚æœ A è¦å‘ B è¯æ˜è‡ªå·±æ‹¥æœ‰è¯¥é—¨çš„å¯†ç ï¼Œæ— éœ€å‘ B å±•ç¤ºè‡ªå·±æ‰“å¼€å¯†ç é”çš„è¿‡ç¨‹ã€‚åªéœ€è¦è®© B çœ‹ç€ A ä»å…¥å£è¿›å…¥èµ°å»Šï¼Œç„¶ååˆä»å¦ä¸€ä¾§çš„å‡ºå£èµ°å‡ºèµ°å»Šï¼Œå°±å¯ä»¥å®Œå…¨è¯æ˜ A æ‹¥æœ‰å¯†ç ï¼ŒåŒæ—¶å…é™¤äº†æš´éœ²å¯†ç çš„é£é™©ã€‚</p>
<p><strong>é›¶çŸ¥è¯†è¯æ˜å…·å¤‡ä»¥ä¸‹æ€§è´¨</strong>ï¼š</p>
<ol>
<li>å®Œå¤‡æ€§ï¼ˆCompletenessï¼‰ï¼šè‹¥å‘½é¢˜ä¸ºçœŸï¼Œä»»ä½•è¯æ˜è€…å¯ä»¥å‘éªŒè¯è€…æå‡ºä»¤äººä¿¡æœçš„è¯æ®ï¼Œå³â€œçœŸçš„å¯è¢«éªŒè¯â€ã€‚</li>
<li>å¯é æ€§ï¼ˆSoundnessï¼‰ï¼šè‹¥å‘½é¢˜ä¸ºå‡ï¼Œåˆ™ä¸å­˜åœ¨ä¸è¯šå®çš„è¯æ˜è€…èƒ½éª—è¿‡éªŒè¯è€…ï¼Œå³â€œå‡çš„ä¼šè¢«å‘ç°â€ã€‚</li>
<li>é›¶çŸ¥è¯†æ€§ï¼ˆZero-knowledgeï¼‰ï¼šè¯æ˜æŸä¸ªå‘½é¢˜ä¸ºçœŸï¼Œä½†åˆä¸é€éœ²â€œè¯¥å‘½é¢˜ä¸ºçœŸâ€ä¹‹å¤–çš„å…¶ä»–ä»»ä½•ä¿¡æ¯ã€‚</li>
</ol>
<p>å·¥ç¨‹å®è·µä¸Šæˆ‘ä»¬è¿˜è¦æ±‚é›¶çŸ¥è¯†è¯æ˜çš„ç®—æ³•æ‹¥æœ‰ä»¥ä¸‹æ€§è´¨ï¼š</p>
<ol>
<li>ç®€æ´æ€§ï¼ˆSuccinctnessï¼‰ï¼šè¯æ˜å¾ˆå°ä¸”éªŒè¯é€Ÿåº¦å¿«ã€‚</li>
<li>é›¶çŸ¥è¯†ï¼ˆZero Knowledgeï¼‰ï¼šå¯ä»¥éšè—è®¡ç®—çš„è¾“å…¥ä¿¡æ¯ã€‚</li>
</ol>
<p>ZK-Rollup ä¼šå‘¨æœŸæ€§å‘ä¸»ç½‘ä¸Šä¼  3 ç§æ•°æ®ï¼š</p>
<ul>
<li>çŠ¶æ€æ ¹ï¼šçŠ¶æ€æ ¹å¯ä»¥å¿«é€Ÿç¡®è®¤ Layer 2 å°è´¦æœ¬çš„å†…å®¹æ˜¯å¦è¢«ç¯¡æ”¹ã€‚</li>
<li>äº¤æ˜“æ•°æ®ï¼šç»è¿‡å‹ç¼©å’Œèšåˆçš„äº¤æ˜“æ•°æ®ï¼Œä¾‹å¦‚å°†å¤šä¸ªäº¤æ˜“åˆå¹¶ä¸ºä¸€æ‰¹æ¬¡çš„çŠ¶æ€å˜åŒ–ç»“æœã€‚é€šè¿‡ä½¿ç”¨é›¶çŸ¥è¯†è¯æ˜ä¿è¯äº¤æ˜“çš„å®‰å…¨æ€§ï¼Œå¯ä»¥èˆå¼ƒä¸€äº›ä¸å¿…è¦çš„ä¿¡æ¯ï¼Œä¾‹å¦‚å‰é¢æåˆ°çš„â€œç”¨æˆ·ç­¾åâ€ã€‚</li>
<li>æœ‰æ•ˆæ€§è¯æ˜ï¼šå³é›¶çŸ¥è¯†è¯æ˜ï¼Œè®© Layer 1 çš„æ™ºèƒ½åˆçº¦åœ¨ç»è¿‡ç®€å•éªŒè¯åï¼Œå°±èƒ½ç¡®è®¤äº¤æ˜“å·²ç»è¢«æ­£ç¡®æ‰§è¡Œã€‚</li>
</ul>
<p>ZK-Rollup ä¸ OP-Rollup æœ€å¤§çš„ä¸åŒï¼Œå°±åœ¨äº <u>Layer 1 æ˜¯å¦å¯¹ Layer 2 ä¸Šä¼ çš„æ•°æ®è¿›è¡ŒéªŒè¯</u>ã€‚</p>
<p>ZK-Rollup æ–¹æ¡ˆä¾é  Layer 1 ä¸Šçš„æ™ºèƒ½åˆçº¦ï¼Œç”¨å¾ˆå°çš„ä»£ä»·æ£€éªŒ ZK Proof çš„æœ‰æ•ˆæ€§ï¼Œå¦‚æœæ£€éªŒé€šè¿‡åˆ™è¡¨ç¤ºè¿™æ‰¹äº¤æ˜“å·²ç»è¢«æ­£ç¡®æ‰§è¡Œï¼Œé‚£å°±æ›´æ–°çŠ¶æ€ã€‚å¦‚æœæ£€éªŒä¸é€šè¿‡ï¼Œåˆ™æ‹’ç»è¿™ä¸€æ‰¹æ¬¡çš„äº¤æ˜“ã€‚</p>
<p>OP-Rollup åˆ™å®Œå…¨å°† Layer 1 å½“æˆäº†è§£å†³æ•°æ®å¯ç”¨æ€§çš„å…¬å‘Šæ¿ï¼Œä¾èµ–æŒ‘æˆ˜è€…çš„ç›‘ç£ï¼Œä¸¤è€…çš„å®‰å…¨æ€§å’Œäº¤æ˜“ç¡®è®¤é€Ÿåº¦éƒ½ä¼šäº§ç”Ÿæ˜æ˜¾å·®å¼‚ã€‚</p>
<p>ZK-Rollup çš„ä¼˜ç‚¹æ˜¾è€Œæ˜“è§ï¼š</p>
<ul>
<li>ä¾é æ•°å­¦è€ŒééªŒè¯è€…ï¼Œå®‰å…¨æ€§æ›´æœ‰ä¿éšœï¼Œå¹¶ä¸”ç¡®è®¤æ—¶é—´æ›´çŸ­ã€‚</li>
<li>æ›´é«˜çš„å‹ç¼©ç‡ï¼Œè®© Layer 2 çš„æ‰©å®¹ä¸Šé™æ›´é«˜ã€‚</li>
</ul>
<h4 id="3-5-ZK-æŠ€æœ¯åŸç†-STARK-vs-SNARK"><a href="#3-5-ZK-æŠ€æœ¯åŸç†-STARK-vs-SNARK" class="headerlink" title="3.5 ZK æŠ€æœ¯åŸç† STARK vs SNARK"></a>3.5 ZK æŠ€æœ¯åŸç† STARK vs SNARK</h4><p><u><strong>æœ¬å†…å®¹æš‚æ—¶æ— æ³•ç†è§£</strong></u></p>
<p><strong>ZK-Rollup çš„åŸºç¡€ç»„ä»¶</strong></p>
<p>ZK-Rollup ç”¨äº†ä¸€äº›ç‰¹å®šçš„æ•°å­¦å·¥å…·ï¼Œæ¥å®ç°åœ¨ä¸é€éœ²åŸå§‹è¾“å…¥æ•°æ®çš„æƒ…å†µä¸‹ç¡®ä¿äº¤æ˜“å·²è¢«æ­£ç¡®æ‰§è¡Œï¼Œå®ƒé€šå¸¸åŒ…å«ä»¥ä¸‹ä¸»è¦æŠ€æœ¯ï¼š</p>
<ul>
<li>KZG å¤šé¡¹å¼æ‰¿è¯ºï¼šå› ä¸¤ä¸ªå¤šé¡¹å¼æœ€å¤šæ‹¥æœ‰ n2 ä¸ªäº¤ç‚¹ï¼Œè€Œå®šä¹‰åŸŸå´å­˜åœ¨æå¤šçš„ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦æ£€æŸ¥æœ‰é™çš„è‹¥å¹²æ¬¡ï¼Œå°±èƒ½ç¡®ä¿¡å¯¹æ–¹ç¡®å®ä»¥æ­£ç¡®çš„å¤šé¡¹å¼è¿›è¡Œäº†è®¡ç®—ã€‚è‹¥å°†ä¿¡æ¯ç¼–ç åœ¨å¤šé¡¹å¼ä¸­ï¼Œåˆ™é å¤šæ¬¡ç¡®è®¤å¤šé¡¹å¼åœ¨ç‰¹å®šç‚¹ä¸Šçš„è¾“å‡ºç»“æœï¼Œå³å¯ç¡®è®¤äº¤æ˜“å·²è¢«æ­£ç¡®éªŒè¯ï¼ˆç¡®è®¤è¿‡ç¨‹åŸæœ¬æ˜¯éœ€è¦äº¤äº’çš„ï¼Œä½†å¯ç”¨å…¶ä»–æ–¹æ³•å˜ä¸ºéäº¤äº’å¼ï¼‰ã€‚</li>
<li>å“ˆå¸Œç®—æ³•ï¼šèƒ½å°†ä»»æ„é•¿åº¦çš„æ•°æ®æ˜ å°„ä¸ºå›ºå®šé•¿åº¦çš„å“ˆå¸Œå€¼ï¼Œç”¨äºå‹ç¼©è¯æ˜ã€‚</li>
<li>æ¤­åœ†æ›²çº¿åŠ å¯†ï¼šå¯ä»¥å°†æ¤­åœ†æ›²çº¿ä¸Šçš„ä¸¤ä¸ªç‚¹ç”¨éš¾ä»¥é¢„æµ‹çš„æ–¹å¼æ˜ å°„èµ·æ¥ï¼Œç”¨äºæ„å»ºè¯æ˜ç³»ç»Ÿã€‚å¯ç”¨æ¥è¿›è¡Œä¸€äº›å¤æ‚çš„è¯æ˜ï¼Œæ¯”å¦‚åœ¨ä¸å…¬å¼€å“ˆå¸Œå€¼çš„æƒ…å†µä¸‹è¯æ˜ä¸¤ä¸ªå“ˆå¸Œç›¸ç­‰ã€‚</li>
<li>éšæœºæ•°ç­‰å…¶å®ƒç»„ä»¶ï¼šç”¨äºéšæœºæ•°æ¥ç¡®è®¤èµ·å§‹éœ€è¦æ£€æŸ¥çš„ç‚¹ï¼Œå¹¶ç”¨ç±»ä¼¼â€œä¸Šä¸€ä¸ªå“ˆå¸Œå½±å“ä¸‹ä¸€ä¸ªå“ˆå¸Œâ€çš„æ–¹å¼ç¡®è®¤ä¸€è¿ä¸²éœ€è¦æ£€æŸ¥çš„ç‚¹ï¼Œä»¥ç¡®ä¿æ£€æŸ¥ç‚¹çš„éšæœºæ€§ä¸éäº¤äº’æ€§ã€‚</li>
</ul>
<h5 id="SNARK"><a href="#SNARK" class="headerlink" title="SNARK"></a><strong>SNARK</strong></h5><p>ç›®å‰é›¶çŸ¥è¯†è¯æ˜ä¸»è¦æœ‰ä¸¤ç§æŠ€æœ¯è·¯çº¿ï¼ŒSNARK ä¸ STARKã€‚SNARK å‡ºç°æ›´æ—©ï¼Œæ›´åŠ æˆç†Ÿï¼Œç›®å‰è¢«æ›´å¤šçš„é¡¹ç›®æ–¹é‡‡ç”¨ã€‚</p>
<p>SNARKï¼šSuccinct Non-Interactive Argument of Knowledge</p>
<ol>
<li>ç®€æ´ï¼ˆSuccinctï¼‰ï¼šéªŒè¯é€Ÿåº¦å¿«äºè®¡ç®—è¯æ˜ã€‚</li>
<li>éäº¤äº’å¼ï¼ˆNon-Interactiveï¼‰ï¼šæ— éœ€è¯æ˜è€…ä¸éªŒè¯è€…ä¹‹é—´è¿›è¡Œäº¤äº’ã€‚å¦‚æ¯”ç‰¹å¸çš„å…¬ç§é’¥å¯¹ä¹Ÿæ˜¯ä¸€ç§é›¶çŸ¥è¯†è¯æ˜ï¼Œä½†å®ƒè¦æ±‚ç§é’¥æ‹¥æœ‰è€…å¯¹ä¸€æ®µæ–‡å­—è¿›è¡Œç­¾åæ‰èƒ½è¯æ˜è‡ªå·±æ‹¥æœ‰ç§é’¥ï¼Œè¿™éœ€è¦å‘ç”Ÿä¸€æ¬¡äº¤äº’ã€‚</li>
<li>ç»Ÿè®¡å­¦ä¸Šçš„å¯é ï¼ˆArgumentï¼‰ï¼šç›¸å¯¹äºæ•°å­¦ä¸Šç»å¯¹çš„è¯æ˜(å³ 100% å¯é )ï¼Œå®ç°äº†ç»Ÿè®¡å­¦ä¸Šçš„å¯é ï¼ˆå¦‚ 99.99999999%ï¼‰ã€‚</li>
<li>åŒ…å«ä¿¡æ¯ï¼ˆKnowledgeï¼‰ï¼šå¯å°†æŸäº›ä¿¡æ¯ç¼–ç è¿›é›¶çŸ¥è¯†è¯æ˜ä¸­ï¼Œå¦‚ä¸€ç¬”äº¤æ˜“å·²è¢«æ­£ç¡®æ‰§è¡Œã€‚</li>
</ol>
<h5 id="STARK"><a href="#STARK" class="headerlink" title="STARK"></a><strong>STARK</strong></h5><p>STARKï¼šScalable Transparent Argument of Knowledge</p>
<ol>
<li>å¯æ‰©å±•çš„ï¼ˆScalableï¼‰ï¼šåœ¨è¿›è¡Œå¤§è§„æ¨¡äº¤æ˜“çš„è¯æ˜æ—¶ï¼ŒéªŒè¯æ—¶é—´ä»ç„¶è¾ƒçŸ­ã€‚</li>
<li>é€æ˜çš„ï¼ˆTransparentï¼‰ï¼šéšæœºæ•°å…¬å¼€å¯éªŒè¯ï¼Œæ— éœ€åƒ SNARK ä¸€æ ·è®¾ç½®åˆå§‹å¯ä¿¡ç¯å¢ƒã€‚</li>
<li>ç»Ÿè®¡å­¦ä¸Šçš„å¯é ï¼ˆArgumentï¼‰ï¼šç›¸å¯¹äºæ•°å­¦ä¸Šç»å¯¹çš„è¯æ˜(å³ 100% å¯é )ï¼Œå®ç°äº†ç»Ÿè®¡å­¦ä¸Šçš„å¯é ï¼ˆå¦‚ 99.99999999%ï¼‰ã€‚</li>
<li>åŒ…å«ä¿¡æ¯ï¼ˆKnowledgeï¼‰ï¼šå¯å°†æŸäº›ä¿¡æ¯ç¼–ç è¿›é›¶çŸ¥è¯†è¯æ˜ä¸­ï¼Œå¦‚ä¸€ç¬”äº¤æ˜“å·²è¢«æ­£ç¡®æ‰§è¡Œã€‚</li>
</ol>
<p>å¯¹æ¯”ä¸¤æ¡æŠ€æœ¯è·¯çº¿ï¼ŒSTARK åœ¨ Layer 2 ä¸Šå¤„ç†å¤§é‡äº¤æ˜“æ—¶ï¼Œå…¶é›¶çŸ¥è¯†è¯æ˜ç”Ÿæˆé€Ÿåº¦å’ŒéªŒè¯é€Ÿåº¦æ›´å¿«çš„ç‰¹ç‚¹å°†å…·æœ‰ä¼˜åŠ¿ï¼Œå¹¶ä¸”å…·æœ‰æŠ—é‡å­æ€§ [1]ï¼Œæ— éœ€åˆå§‹å¯ä¿¡ç¯å¢ƒ [2]ï¼Œæ›´åŠ å®‰å…¨ã€‚è€Œ SNARK å‘å±•æ—¶é—´æ›´ä¹…æ›´æˆç†Ÿï¼Œå°†ä¼šæ›´æ—©å–å¾—åº”ç”¨ã€‚</p>
<p>SNARK è¯æ˜ä½“ç§¯æ›´å°ï¼Œå¹¶ä¸”éšç€æŠ€æœ¯å‘å±•ï¼Œå·²ç»å¯ä»¥åœ¨å‡çº§åæ²¿ç”¨æœ€åˆçš„å¯ä¿¡ç¯å¢ƒï¼Œåœ¨å®‰å…¨æ€§ä¸Šä¸ä¼šæ˜¾è‘—å¼±äº STARKã€‚SNARK ä¸ STARK çš„å…³ç³»æ›´åƒæ˜¯ OP-Rollup ä¸ ZK-Rollup ä¹‹é—´çš„å…³ç³»ï¼Œå‰è€…å¯èƒ½æ›´æ—©è½åœ°ï¼Œåè€…æ‹¥æœ‰æ›´å¤§æ½œåŠ›ã€‚</p>
<p>ä»åº•å±‚æŠ€æœ¯è·¯çº¿å»ç ”ç©¶ ZK-Rollup æ˜¾å¾—æœ‰ç‚¹å¤æ‚äº†ï¼Œ<strong>æœ‰æ›´ç®€å•çš„æ–¹å¼å»ç†è§£ ZK-Rollup å—</strong>ï¼Ÿ</p>
<blockquote>
<p>[1] æŠ—é‡å­æ€§æŒ‡èƒ½å¤Ÿåœ¨é‡å­è®¡ç®—æœºæ”»å‡»ä¸‹ä¿è¯ä¿¡æ¯å®‰å…¨ã€‚ä¼ ç»Ÿçš„åŠ å¯†ç®—æ³•ï¼ˆå¦‚ RSAã€DSA å’Œ ECC ç­‰ï¼‰å¯èƒ½åœ¨å°†æ¥çš„å¤§è§„æ¨¡é‡å­è®¡ç®—æœºä¸Šè¢«æœ‰æ•ˆåœ°ç ´è§£ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨æ–°çš„æŠ—é‡å­å¯†ç å­¦ç®—æ³•æ¥æ›¿ä»£ï¼Œç¡®ä¿åŠ å¯†åœ¨æœªæ¥çš„é‡å­è®¡ç®—æœºæ—¶ä»£ä»ç„¶å®‰å…¨ã€‚</p>
<p>[2] åˆå§‹å¯ä¿¡ç¯å¢ƒæ˜¯æŒ‡åœ¨åè®®éƒ¨ç½²çš„æœ€åˆï¼Œéœ€è¦ä¿¡ä»»éƒ¨ç½²è€…è¯šå®åœ°éƒ¨ç½²äº†ä¸€ä¸ªå®‰å…¨ç¯å¢ƒã€‚æ¯”å¦‚å‚ä¸éƒ¨ç½²çš„å¤šä¸ªå®ä½“ä¸­ï¼Œæœ‰ä¸€äººé”€æ¯äº†è‡ªå·±çš„ç§é’¥ï¼Œå³å¯ç¡®è®¤åˆå§‹ä¿¡æ¯æ²¡æœ‰ä»»ä½•äººèƒ½æŒæ§ã€‚åˆå§‹å¯ä¿¡ç¯å¢ƒä¸»è¦ä¸éšæœºæ•°æœ‰å…³ï¼Œé›¶çŸ¥è¯†è¯æ˜çš„è®¡ç®—è¿‡ç¨‹éå¸¸ä¾èµ–éšæœºæ•°ä½œä¸ºè¾“å…¥ï¼Œä½†å¦‚æœåˆå§‹çš„éšæœºæ•°è¢«æŒæ¡ï¼Œå¯èƒ½ä½¿å¾—åç»­çš„è®¡ç®—å˜å¾—å¯é¢„æµ‹ï¼Œäº§ç”Ÿè¢«æ”»å‡»çš„é£é™©ã€‚</p>
</blockquote>
<h4 id="3-6-ZK-å‘å±•è·¯çº¿-ZK-VM-vs-ZK-EVM"><a href="#3-6-ZK-å‘å±•è·¯çº¿-ZK-VM-vs-ZK-EVM" class="headerlink" title="3.6 ZK å‘å±•è·¯çº¿ ZK-VM vs ZK-EVM"></a>3.6 ZK å‘å±•è·¯çº¿ ZK-VM vs ZK-EVM</h4><h5 id="ZK-VMï¼šä»é›¶çŸ¥è¯†è¯æ˜çš„è§’åº¦å‡ºå‘"><a href="#ZK-VMï¼šä»é›¶çŸ¥è¯†è¯æ˜çš„è§’åº¦å‡ºå‘" class="headerlink" title="ZK-VMï¼šä»é›¶çŸ¥è¯†è¯æ˜çš„è§’åº¦å‡ºå‘"></a><strong>ZK-VMï¼šä»é›¶çŸ¥è¯†è¯æ˜çš„è§’åº¦å‡ºå‘</strong></h5><p>ç¬¬ä¸€ç§æ€è·¯æ˜¯ä»é›¶çŸ¥è¯†è¯æ˜æŠ€æœ¯å‡ºå‘ï¼Œ<strong>ä¸“é—¨å¼€å‘é€‚ç”¨äºé›¶çŸ¥è¯†è¯æ˜çš„ç®—æ³•ï¼Œä»è€Œæ„å»ºä¸€ä¸ª ZK-VM [1] ï¼ˆé›¶çŸ¥è¯†è™šæ‹Ÿæœºï¼‰ï¼Œè€Œä¸æ˜¯åŸç”Ÿå…¼å®¹ EVM çš„ ZK-EVM [2] ï¼ˆé›¶çŸ¥è¯†ä»¥å¤ªåŠè™šæ‹Ÿæœºï¼‰</strong>ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå°½å¯èƒ½å®ç° EVM å…¼å®¹ã€‚</p>
<p>StarkWare å’Œ zkSync éƒ½é‡‡ç”¨äº†è¿™ç§è·¯çº¿ã€‚StarkWare çš„ Cairo è¯­è¨€å’Œ zkSync çš„ Zinc è¯­è¨€éƒ½æ˜¯åŸç”Ÿçš„é›¶çŸ¥è¯†ç¼–ç¨‹è¯­è¨€ï¼Œç”šè‡³å‰è€…çš„è´¦æˆ·åœ°å€ç³»ç»Ÿä¸ä»¥å¤ªåŠä¹Ÿå­˜åœ¨å¾ˆå¤§çš„å·®å¼‚ã€‚</p>
<p>è¿™ç§è·¯çº¿çš„ä¼˜ç‚¹æ˜¯èƒ½å¤Ÿå……åˆ†å‘æŒ¥é›¶çŸ¥è¯†è¯æ˜çš„æ½œåŠ›ï¼Œå®ç°æœ€å¤§åŒ–çš„æ‰©å±•æ€§ã€‚ä½†ç¼ºç‚¹æ˜¯å¼€å‘è€…éœ€è¦å­¦ä¹ æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¹¶ä¸”ç°æœ‰é¡¹ç›®éœ€è¦å°† Solidity è¯­è¨€ [3] çš„ä»£ç è½¬æ¢ä¸º ZK-VM çš„ä»£ç ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°è®¸å¤šæ„æƒ³ä¸åˆ°çš„é—®é¢˜ï¼Œéœ€è¦é‡æ–°è°ƒè¯•ï¼Œé‡æ–°å®¡è®¡ã€‚</p>
<h5 id="ZK-EVMï¼šä»-EVM-å…¼å®¹æ€§çš„è§’åº¦å‡ºå‘"><a href="#ZK-EVMï¼šä»-EVM-å…¼å®¹æ€§çš„è§’åº¦å‡ºå‘" class="headerlink" title="ZK-EVMï¼šä» EVM å…¼å®¹æ€§çš„è§’åº¦å‡ºå‘"></a><strong>ZK-EVMï¼šä» EVM å…¼å®¹æ€§çš„è§’åº¦å‡ºå‘</strong></h5><p>åè¿‡æ¥æˆ‘ä»¬ä¹Ÿå¯ä»¥ä»å…¼å®¹ EVM è¿™ä¸ªç›®çš„å‡ºå‘ï¼Œ<strong>å°† EVM çš„äº¤æ˜“åœ¨æ“ä½œç  [4] å±‚é¢åˆ‡å‰²æˆæ›´å°çš„æ­¥éª¤ï¼Œå¯¹æ¯ä¸ªæ­¥éª¤å»æ‰¾å¯¹åº”çš„é›¶çŸ¥è¯†è¯æ˜ç®—æ³•ï¼ŒåŠ›æ±‚å®ç°å®Œå…¨çš„ EVM å…¼å®¹ã€‚</strong> è¿™æ ·åšå¯ä»¥ä½¿å¼€å‘è€…å‡ ä¹æ— æ„Ÿåœ°åˆ‡æ¢åˆ°äºŒå±‚ç½‘ç»œï¼Œæ–¹ä¾¿ç°æœ‰é¡¹ç›®è¿ç§»ï¼Œæœ€å¤§ç¨‹åº¦åœ°ä¿ç•™ç›®å‰çš„ EVM ç”Ÿæ€æˆæœã€‚Scroll å’Œ Polygon Hermez éƒ½é‡‡ç”¨äº†è¿™ç§æ€è·¯ã€‚</p>
<p>ä½†æ˜¯è¿™ç§è·¯çº¿çš„ç¼ºç‚¹ä¹Ÿæ˜¾è€Œæ˜“è§ï¼ŒEVM ä¸Šçš„äº¤æ˜“å¹¶éä¸ºé›¶çŸ¥è¯†è€Œè®¾è®¡ï¼Œå› æ­¤è¿™ç§æ–¹æ³•å¾€å¾€ç”Ÿæˆçš„è¯æ˜ä½“ç§¯è¾ƒå¤§ï¼Œæ‰€éœ€çš„æ—¶é—´ä¹Ÿæ›´é•¿ã€‚</p>
<p>è¯»åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»äº†è§£äº† Rollup çš„å½“å‰è¿›å±•ã€‚ç‰¹åˆ«æ˜¯é›¶çŸ¥è¯†è¯æ˜æŠ€æœ¯ï¼Œä»¤äººæ„Ÿåˆ°ååˆ†ç¥å¥‡ï¼Œä½¿ Rollup å…·å¤‡äº†éå¸¸å¤§çš„æ½œåŠ›ã€‚ä½†æ˜¯ä»…ä»…é€šè¿‡ Rollup å®ç°æ‰©å®¹ä»ç„¶å­˜åœ¨ä¸Šé™ï¼Œ<strong>æœªæ¥æˆ‘ä»¬è¿˜æœ‰å…¶ä»–æå‡çš„ç©ºé—´å—</strong>ï¼Ÿ</p>
<blockquote>
<p>[1] VMï¼ˆVirtual Machineï¼‰å³è™šæ‹Ÿæœºï¼Œä¸€ä¸ªç”±è½¯ä»¶æ¨¡æ‹Ÿç¡¬ä»¶çš„å¯æ§ä»£ç æ‰§è¡Œç¯å¢ƒã€‚ ZK-VMï¼ˆZero Knowledge - Virtual Machineï¼‰ æ˜¯é€‚åº”äºé›¶çŸ¥è¯†è¯æ˜çš„è™šæ‹Ÿæœºã€‚</p>
<p>[2] ZK-EVMï¼ˆZero Knowledge - Ethereum Virtual Machineï¼‰æ˜¯æŒ‡åˆ©ç”¨äº†é›¶çŸ¥è¯†è¯æ˜æŠ€æœ¯çš„ä»¥å¤ªåŠè™šæ‹Ÿæœºï¼Œä¸åŸå§‹çš„ä»¥å¤ªåŠè™šæ‹Ÿæœºæœ‰è‰¯å¥½çš„å…¼å®¹æ€§ã€‚</p>
<p>[3] Solidity è¯­è¨€æ˜¯ä»¥å¤ªåŠåŸç”Ÿçš„å¼€å‘è¯­è¨€ï¼Œå¤§éƒ¨åˆ†è¿è¡Œåœ¨ä»¥å¤ªåŠç½‘ç»œä¸Šçš„æ™ºèƒ½åˆçº¦å‡é‡‡ç”¨ Solidity ç¼–å†™ã€‚</p>
<p>[4] è®¡ç®—æœºèƒ½ç›´æ¥è¯»æ‡‚çš„è¯­è¨€æ˜¯ 0 å’Œ 1 ï¼Œæ“ä½œç ï¼ˆOpcodeï¼‰æ˜¯éå¸¸åº•å±‚çš„ï¼Œä¸ç¡¬ä»¶ï¼ˆæˆ–æ˜¯è™šæ‹Ÿæœºä¸­çš„è™šæ‹Ÿç¡¬ä»¶ï¼‰ç›´æ¥äº¤æµçš„ä»£ç ã€‚æ“ä½œç æ˜¯æŒ‡ä»¤é›†ä¸­æ¯ä¸ªæŒ‡ä»¤çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œåœ¨è®¡ç®—æœºæ‰§è¡ŒæŒ‡ä»¤æ—¶ï¼Œç”¨äºè¯†åˆ«å…·ä½“æŒ‡ä»¤çš„ä¸€ä¸ªæ•°å­—æˆ–ç¬¦å·ã€‚ä¾‹å¦‚ï¼Œåœ¨ x86 æŒ‡ä»¤é›†ä¸­ï¼ŒåŠ æ³•æŒ‡ä»¤ï¼ˆADDï¼‰æœ‰ä¸€ä¸ªç‰¹å®šçš„æ“ä½œç ï¼Œç”¨äºæ ‡è¯†è¯¥æŒ‡ä»¤ã€‚</p>
<p>æ­¤å¤–è¿˜æœ‰ä¸€äº›ç›¸å…³æ¦‚å¿µï¼š</p>
<ol>
<li>æŒ‡ä»¤é›†ï¼ˆInstruction Setï¼‰ï¼š æŒ‡ä»¤é›†æ˜¯ä¸€ç§ç”¨äºç¼–ç¨‹çš„ä½çº§è¯­è¨€ï¼Œå®ƒæ˜¯è®¡ç®—æœºç¡¬ä»¶èƒ½å¤Ÿç†è§£å’Œæ‰§è¡Œçš„ä¸€ç»„æŒ‡ä»¤ã€‚æ¯ç§å¤„ç†å™¨éƒ½æœ‰è‡ªå·±çš„æŒ‡ä»¤é›†ï¼Œè¿™äº›æŒ‡ä»¤é›†å®šä¹‰äº†å¤„ç†å™¨å¯ä»¥æ‰§è¡Œçš„åŸºæœ¬æ“ä½œï¼Œå¦‚æ•°æ®ç§»åŠ¨ã€ç®—æœ¯å’Œé€»è¾‘è¿ç®—ã€æ¡ä»¶åˆ†æ”¯ç­‰ã€‚æŒ‡ä»¤é›†ä¹Ÿè¢«ç§°ä¸ºæŒ‡ä»¤é›†æ¶æ„ï¼ˆISAï¼ŒInstruction Set Architectureï¼‰ã€‚</li>
<li>å­—èŠ‚ç ï¼ˆBytecodeï¼‰ï¼š å­—èŠ‚ç æ˜¯ä¸€ç§ä¸­é—´ä»£ç ï¼Œä»‹äºæºä»£ç å’Œæœºå™¨ä»£ç ä¹‹é—´ã€‚å­—èŠ‚ç é€šå¸¸ç”±è™šæ‹Ÿæœºï¼ˆå¦‚ Java è™šæ‹Ÿæœºï¼ŒJVMï¼‰æ‰§è¡Œï¼Œè€Œä¸æ˜¯ç›´æ¥ç”±ç¡¬ä»¶æ‰§è¡Œã€‚å­—èŠ‚ç çš„ç›®çš„æ˜¯æä¾›ä¸€ç§å¹³å°æ— å…³çš„ä»£ç è¡¨ç¤ºå½¢å¼ï¼Œè¿™æ ·ä¸åŒå¹³å°ä¸Šçš„è™šæ‹Ÿæœºéƒ½å¯ä»¥æ‰§è¡Œç›¸åŒçš„å­—èŠ‚ç ã€‚å­—èŠ‚ç é€šå¸¸æ¯”æºä»£ç æ›´æ¥è¿‘æœºå™¨ä»£ç ï¼Œä½†ä»éœ€è¦ç»è¿‡è§£é‡Šæˆ–ç¼–è¯‘ä¸ºç‰¹å®šç¡¬ä»¶çš„æŒ‡ä»¤é›†ã€‚</li>
</ol>
<p>æŒ‡ä»¤é›†æ˜¯è®¡ç®—æœºç¡¬ä»¶èƒ½å¤Ÿæ‰§è¡Œçš„ä¸€ç»„åŸºæœ¬æ“ä½œï¼Œæ¯ä¸ªæ“ä½œéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ“ä½œç ï¼ˆOpcodeï¼‰ã€‚å­—èŠ‚ç æ˜¯ä¸€ç§å¹³å°æ— å…³çš„ä¸­é—´ä»£ç å½¢å¼ï¼Œå®ƒåœ¨æ‰§è¡Œæ—¶éœ€è¦è™šæ‹Ÿæœºå°†å…¶è½¬æ¢ä¸ºç‰¹å®šç¡¬ä»¶çš„æŒ‡ä»¤é›†ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå­—èŠ‚ç ä¸­çš„æŒ‡ä»¤ä¹Ÿä¼šæœ‰ç›¸åº”çš„æ“ä½œç ã€‚æ€»ä¹‹ï¼Œæ“ä½œç æ˜¯æŒ‡ä»¤çš„æ ‡è¯†ç¬¦ï¼Œå®ƒåœ¨æŒ‡ä»¤é›†å’Œå­—èŠ‚ç ä¸­éƒ½æœ‰åº”ç”¨ã€‚</p>
</blockquote>
<h3 id="4-æœªæ¥å±•æœ›"><a href="#4-æœªæ¥å±•æœ›" class="headerlink" title="4 æœªæ¥å±•æœ›"></a>4 æœªæ¥å±•æœ›</h3><h4 id="4-1-å…¶å®ƒè§£å†³æ–¹æ¡ˆï¼šValidium-å’Œ-Volition"><a href="#4-1-å…¶å®ƒè§£å†³æ–¹æ¡ˆï¼šValidium-å’Œ-Volition" class="headerlink" title="4.1 å…¶å®ƒè§£å†³æ–¹æ¡ˆï¼šValidium å’Œ Volition"></a>4.1 å…¶å®ƒè§£å†³æ–¹æ¡ˆï¼šValidium å’Œ Volition</h4><p>çºµè§ˆäºŒå±‚æ‰©å®¹æ–¹æ¡ˆçš„å‘å±•å†ç¨‹ï¼Œå…¶å®éƒ½æºè‡ªäº<strong>æ•°æ®å¯ç”¨æ€§</strong>å½±å“äº†å®‰å…¨æ€§ä¸å®ç”¨æ€§ã€‚</p>
<ol>
<li>ä¾§é“¾æ–¹æ¡ˆï¼Œæ•°æ®å¯¹ä¸»é“¾æ¥è¯´ä¸å¯ç”¨ï¼Œæ‰€ä»¥æ— æ³•ç»§æ‰¿ä¸»é“¾å®‰å…¨æ€§ã€‚</li>
<li>Plasma æ–¹æ¡ˆï¼ŒçŠ¶æ€æ ¹å¯ä»¥ä¿éšœé“¾ä¸‹è´¦æœ¬çš„ä¸è¢«ç¯¡æ”¹ï¼Œä½†å…·ä½“äº¤æ˜“æ•°æ®å¯¹ä¸€å±‚ç½‘ç»œæ¥è¯´ä¹Ÿä¸å¯ç”¨ï¼Œå¯¼è‡´èµ„é‡‘é€€å‡ºå›°éš¾ã€‚</li>
<li>OP-Rollup æ–¹æ¡ˆï¼Œè®©æ‰€æœ‰äº¤æ˜“çš„è¯¦ç»†æ•°æ®éƒ½å­˜åœ¨ä¸€å±‚ç½‘ç»œä¸Šï¼Œç¡®ä¿äº†å…¨éƒ¨äº¤æ˜“æ•°æ®çš„å¯ç”¨æ€§ï¼Œä»è€Œç¡®ä¿äºŒå±‚ç½‘ç»œçš„å®‰å…¨ã€‚</li>
<li>ZK-Rollup æ–¹æ¡ˆï¼Œæä¾›å…³é”®äº¤æ˜“æ•°æ®ä»¥åŠèƒ½è¯æ˜é“¾ä¸‹äº¤æ˜“å·²ç»è¢«æ­£ç¡®æ‰§è¡Œçš„é›¶çŸ¥è¯†è¯æ˜ï¼Œå®ç°å®‰å…¨æ€§çš„åŒæ—¶ï¼Œè¿˜èƒ½ä¸€å®šç¨‹åº¦ä¿è¯éšç§æ€§ã€‚Rely on Mathï¼ŒNot Validator.</li>
</ol>
<p>é‚£ä¹ˆåŸºäº<strong>é›¶çŸ¥è¯†è¯æ˜å’Œæ•°æ®å¯ç”¨æ€§çš„æ–°ç»„åˆ</strong>ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° Validium å’Œ Volition ï¼ˆç”± StarkNet æå‡ºï¼‰ä¸¤ç§æœªæ¥å¯è¡Œçš„æ–¹æ¡ˆã€‚</p>
<h5 id="Validium"><a href="#Validium" class="headerlink" title="Validium"></a>Validium</h5><p>ZK-Rollup ä»å‘ä¸»ç½‘ä¸Šä¼ äº†äº¤æ˜“æ•°æ®ï¼Œé‚£å¦‚æœæˆ‘ä»¬è¿›ä¸€æ­¥ç‰ºç‰²ä¸€ç‚¹ç‚¹å®‰å…¨æ€§ï¼Œè¿äº¤æ˜“æ•°æ®ä¹Ÿä¸ä¸Šä¼ åˆ°ä¸€å±‚ï¼Œä»…ä¸Šä¼ çŠ¶æ€æ ¹å’Œè¯æ˜äº¤æ˜“å·²è¢«æ­£ç¡®æ‰§è¡Œçš„é›¶çŸ¥è¯†è¯æ˜ï¼Œç”±äºŒå±‚ç½‘ç»œè‡ªè¡Œè§£å†³äº¤æ˜“æ•°æ®çš„ä¿å­˜ï¼Œå°±å¯ä»¥è¿›ä¸€æ­¥é™ä½äº¤æ˜“æˆæœ¬ï¼Œè¿™å°±æ˜¯ Validiumã€‚</p>
<p>å®ƒæœ‰ç‚¹åƒé›¶çŸ¥è¯†ç‰ˆçš„ Plasmaï¼ŒPlasma éœ€è¦ç”¨æˆ·å‚ä¸ç›‘ç£äº¤æ˜“æ˜¯å¦è¢«è¯šå®æ‰§è¡Œï¼Œè€Œé‡‡ç”¨äº†é›¶çŸ¥è¯†è¯æ˜ä¹‹åï¼Œä¸è¯šå®çš„äº¤æ˜“æ— æ³•ç”Ÿæˆè¯æ˜ï¼Œæå¤§åœ°æå‡äº†èŠ‚ç‚¹ä½œæ¶çš„éš¾åº¦ã€‚å¹¶ä¸”å› ä¸ºäº¤æ˜“æ•°æ®å¯¹äºä¸€å±‚ç½‘ç»œæ¥è¯´å®Œå…¨ä¸å¯ç”¨ï¼ŒValidium å°†å…·æœ‰æ›´é«˜çš„éšç§æ€§ã€‚</p>
<h5 id="Volition"><a href="#Volition" class="headerlink" title="Volition"></a>Volition</h5><p>Volition æ˜¯ Validium æ–¹æ¡ˆçš„æ”¹è¿›ç‰ˆæœ¬ï¼Œå…è®¸ç”¨æˆ·å¯ä»¥è‡ªè¡Œé€‰æ‹©å…¶äº¤æ˜“æ•°æ®æ˜¯å¦åœ¨ä¸€å±‚ç½‘ç»œå¯ç”¨ï¼Œæ¶‰åŠå¤§é¢èµ„é‡‘çš„äº¤æ˜“å¯ä»¥é‡‡ç”¨æˆæœ¬ç•¥é«˜ä½†å®‰å…¨æ€§æ›´å¥½çš„äº¤æ˜“ä¸Šé“¾æ¨¡å¼ã€‚èµ„é‡‘é‡è¾ƒå°çš„ã€æ›´è¿½æ±‚éšç§çš„äº¤æ˜“å¯ä»¥ä½¿ç”¨äº¤æ˜“è®°å½•ä¸ä¸Šé“¾çš„æ¨¡å¼ã€‚</p>
<blockquote>
<p><strong>1. Validiumï¼šé“¾ä¸‹æ•°æ® + ZK è¯æ˜</strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹</strong></p>
<ul>
<li><strong>æ•°æ®å­˜å‚¨</strong>ï¼šäº¤æ˜“æ•°æ®å­˜å‚¨åœ¨é“¾å¤–ï¼ˆç”±ç¬¬ä¸‰æ–¹å§”å‘˜ä¼šæˆ–å»ä¸­å¿ƒåŒ–ç½‘ç»œç»´æŠ¤ï¼Œå¦‚ StarkEx çš„ DACï¼‰ã€‚</li>
<li><strong>å®‰å…¨æ€§ä¾èµ–</strong>ï¼šä¾èµ–æ•°æ®å¯ç”¨æ€§å§”å‘˜ä¼šï¼ˆDACï¼‰çš„è¯šå®æ€§ï¼Œè‹¥å§”å‘˜ä¼šä½œæ¶å¯èƒ½å†»ç»“èµ„é‡‘ï¼ˆä½†æ— æ³•ç›—å–ï¼Œå›  ZK è¯æ˜ä¿è¯çŠ¶æ€æ­£ç¡®ï¼‰ã€‚</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼š<ul>
<li>æä½çš„äº¤æ˜“æˆæœ¬ï¼ˆæ— éœ€æ”¯ä»˜ä»¥å¤ªåŠä¸»ç½‘çš„æ•°æ®å­˜å‚¨è´¹ç”¨ï¼‰ã€‚</li>
<li>é«˜ååé‡ï¼ˆé€‚åˆé«˜é¢‘äº¤æ˜“åœºæ™¯ï¼Œå¦‚äº¤æ˜“æ‰€ã€æ¸¸æˆï¼‰ã€‚</li>
</ul>
</li>
<li><strong>åŠ£åŠ¿</strong>ï¼š<ul>
<li>ç‰ºç‰²éƒ¨åˆ†å»ä¸­å¿ƒåŒ–ï¼ˆéœ€ä¿¡ä»» DACï¼‰ã€‚</li>
<li>ç”¨æˆ·æ— æ³•ç‹¬ç«‹éªŒè¯æ•°æ®ï¼ˆéœ€å§”å‘˜ä¼šé…åˆæä¾›æ•°æ®ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>å…¸å‹åº”ç”¨</strong></p>
<ul>
<li><strong>dYdX</strong>ï¼ˆV3 ç‰ˆæœ¬ï¼‰ï¼šé‡‡ç”¨ Validium æ¨¡å¼å¤„ç†ç°è´§äº¤æ˜“ï¼Œé™ä½æ‰‹ç»­è´¹ã€‚</li>
<li><strong>Immutable X</strong>ï¼šä¸º NFT äº¤æ˜“æä¾›é›¶ Gas è´¹ä½“éªŒã€‚</li>
</ul>
<hr>
<p><strong>2. Volitionï¼šç”¨æˆ·è‡ªé€‰æ•°æ®å­˜å‚¨æ¨¡å¼</strong></p>
<p> <strong>æ ¸å¿ƒç‰¹ç‚¹</strong></p>
<ul>
<li><strong>æ··åˆæ¶æ„</strong>ï¼šå…è®¸ç”¨æˆ·ä¸ºæ¯ç¬”äº¤æ˜“é€‰æ‹©æ•°æ®å­˜å‚¨æ–¹å¼ï¼š<ul>
<li><strong>ZK-Rollup æ¨¡å¼</strong>ï¼šæ•°æ®ä¸Šé“¾ï¼ˆé«˜å®‰å…¨æ€§ï¼Œé«˜æˆæœ¬ï¼‰ã€‚</li>
<li><strong>Validium æ¨¡å¼</strong>ï¼šæ•°æ®é“¾ä¸‹ï¼ˆä½æˆæœ¬ï¼Œä¾èµ– DACï¼‰ã€‚</li>
</ul>
</li>
<li><strong>çµæ´»æ€§</strong>ï¼šåŒä¸€åº”ç”¨ä¸­ï¼Œä¸åŒç”¨æˆ·ï¼ˆç”šè‡³åŒä¸€ç”¨æˆ·çš„ä¸åŒäº¤æ˜“ï¼‰å¯è‡ªç”±é€‰æ‹©æ¨¡å¼ã€‚</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼š<ul>
<li>å¹³è¡¡å®‰å…¨æ€§ä¸æˆæœ¬ï¼ˆä¾‹å¦‚ï¼Œå¤§é¢äº¤æ˜“é€‰ Rollupï¼Œå°é¢é€‰ Validiumï¼‰ã€‚</li>
<li>æ— éœ€è¿ç§»å³å¯åˆ‡æ¢æ¨¡å¼ã€‚</li>
</ul>
</li>
<li><strong>åŠ£åŠ¿</strong>ï¼š<ul>
<li>å®ç°å¤æ‚åº¦è¾ƒé«˜ã€‚</li>
</ul>
</li>
</ul>
<p><strong>å…¸å‹åº”ç”¨</strong></p>
<ul>
<li><strong>StarkEx</strong>ï¼ˆStarkWare çš„å¼•æ“ï¼‰ï¼šæ”¯æŒ Volitionï¼Œä¾›å¼€å‘è€…çµæ´»é…ç½®ã€‚</li>
<li><strong>Sorare</strong>ï¼ˆæ¢¦å¹»è¶³çƒ NFT å¹³å°ï¼‰ï¼šå¯¹æ™®é€šç”¨æˆ·ç”¨ Validiumï¼Œå¯¹æœºæ„ç”¨æˆ·ç”¨ Rollupã€‚</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th align="center"><strong>ç»´åº¦</strong></th>
<th align="center"><strong>Validium</strong></th>
<th align="center"><strong>Volition</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>æ•°æ®å­˜å‚¨</strong></td>
<td align="center">å¼ºåˆ¶é“¾ä¸‹ï¼ˆDACï¼‰</td>
<td align="center">ç”¨æˆ·å¯é€‰é“¾ä¸Šï¼ˆRollupï¼‰æˆ–é“¾ä¸‹ï¼ˆValidiumï¼‰</td>
</tr>
<tr>
<td align="center"><strong>å®‰å…¨æ€§</strong></td>
<td align="center">ä¾èµ– DAC</td>
<td align="center">ç”¨æˆ·è‡ªä¸»æ§åˆ¶å®‰å…¨ç­‰çº§</td>
</tr>
<tr>
<td align="center"><strong>æˆæœ¬</strong></td>
<td align="center">æä½ï¼ˆæ— é“¾ä¸Šæ•°æ®è´¹ï¼‰</td>
<td align="center">æŒ‰éœ€æ”¯ä»˜ï¼ˆRollup æ¨¡å¼æ›´è´µï¼‰</td>
</tr>
<tr>
<td align="center"><strong>é€‚ç”¨åœºæ™¯</strong></td>
<td align="center">é«˜é¢‘ã€ä½ä»·å€¼äº¤æ˜“ï¼ˆå¦‚äº¤æ˜“æ‰€ï¼‰</td>
<td align="center">éœ€çµæ´»æ€§çš„åº”ç”¨ï¼ˆå¦‚æ··åˆå‹ DeFi/NFTï¼‰</td>
</tr>
<tr>
<td align="center"><strong>ä»£è¡¨é¡¹ç›®</strong></td>
<td align="center">dYdX V3, Immutable X</td>
<td align="center">StarkEx ç”Ÿæ€é¡¹ç›®ï¼ˆå¦‚ Sorareï¼‰</td>
</tr>
</tbody></table>
<h4 id="4-2-Deneb-æ›´æ–°ä¸-Layer-2"><a href="#4-2-Deneb-æ›´æ–°ä¸-Layer-2" class="headerlink" title="4.2 Deneb æ›´æ–°ä¸ Layer 2"></a>4.2 Deneb æ›´æ–°ä¸ Layer 2</h4><p>ä»¥å¤ªåŠ Deneb æ›´æ–°ï¼ˆåŸ EIP-4844 ï¼‰æ˜¯ä»¥å¤ªåŠæ‰©å®¹è·¯çº¿ DankSharding çš„å‰ç½®æ­¥éª¤ï¼Œæ—¨åœ¨ä¿è¯ä»¥å¤ªåŠä¿¡æ ‡é“¾å®‰å…¨æ€§çš„å‰æä¸‹ï¼Œä¸º Layer 2 æ‰©å®¹æä¾›æ›´å¤§çš„å‚¨å­˜èµ„æºã€‚</p>
<p>Deneb æ›´æ–°æ·»åŠ äº†ä¸€ç§æ–°çš„äº¤æ˜“ï¼šBlob äº¤æ˜“ï¼ˆå¤§å‹äºŒè¿›åˆ¶å¯¹è±¡ Binary Large Objectï¼‰ã€‚åœ¨ä¸»é“¾ä¸Šåªç•™å­˜æŒ‡é’ˆï¼ŒæŒ‡é’ˆæŒ‡å‘ä¸€ä¸ª Blob å—ï¼Œä¸Šé¢å¯ä»¥å‚¨å­˜çº¦ 128KB çš„äºŒè¿›åˆ¶æ•°æ®ã€‚</p>
<p>ä»¥å¤ªåŠçŸ¿å·¥åªè´Ÿè´£åœ¨ä¸€æ®µæ—¶é—´å†…ï¼ˆå¦‚ä¸€ä¸ªæœˆï¼‰ä¿å­˜ Blob ä¸Šçš„æ•°æ®ï¼Œé€šè¿‡éšæœºæŠ½æ ·çš„æ–¹å¼ç¡®ä¿ Blob ä¸ŠäºŒè¿›åˆ¶æ•°æ®çš„çœŸå®æ€§ï¼Œä½†ä¸éªŒè¯å­˜åœ¨ Blob ä¸Šçš„äº¤æ˜“ã€‚</p>
<p>Blob äº¤æ˜“çœ‹èµ·æ¥å¯¹å¸¸è§„äº¤æ˜“çš„æ‰©å®¹æ²¡æœ‰å¸®åŠ©ï¼Œä½†è¿™å¯¹äº Layer 2 æ‰“åŒ…çš„äº¤æ˜“æ•°æ®æ¥è¯´ç®€ç›´æ˜¯å®Œç¾å¥‘åˆã€‚Layer 2 åŸå…ˆå®šæœŸä¸Šä¼ ç»™ Layer 1 ä¸Šçš„æ‰“åŒ…äº¤æ˜“æ•°æ®æœ¬æ¥å°±ä¸ä¼šæ‰§è¡Œï¼Œåªæ˜¯èµ·åˆ°ä¿éšœæ•°æ®å¯ç”¨æ€§çš„ä½œç”¨ã€‚</p>
<p>è€Œ Blob æœ¬èº«å°±ç›¸å½“äºä¸€ä¸ªå…¬ç¤ºæ¿ï¼Œæ¶ˆæ¯åœ¨å…¬ç¤ºæ¿ä¸Šçš„å­˜ç»­æ—¶é—´è¶…è¿‡äº† OP-Rollup çš„æŒ‘æˆ˜æœŸï¼Œå®è·µä¸Šå®Œå…¨å¤Ÿç”¨ï¼Œå­˜å‚¨æˆæœ¬å´é™ä½äº†è®¸å¤šï¼Œè¿™å°†ä¿ƒä½¿ Layer 2 çš„äº¤æ˜“æˆæœ¬è¿›ä¸€æ­¥é™ä½ã€‚</p>
<p>Blob å¢åŠ çš„å”¯ä¸€ç¼ºæ†¾æ˜¯è¶…è¿‡ä¿å­˜æœŸä¹‹åï¼ŒLayer 2 å¦‚æœæƒ³ä¿å­˜è‡ªå·±çš„å…¨éƒ¨å†å²äº¤æ˜“æ•°æ®ï¼Œéœ€è¦ç”¨å¦å¤–çš„æ–¹æ¡ˆè‡ªè¡Œè§£å†³è¿™äº›æ•°æ®çš„å¯ç”¨æ€§é—®é¢˜ã€‚</p>
<p>æ€»ä½“æ¥è¯´ï¼ŒDeneb æ›´æ–°ä¹‹åï¼ŒLayer 2 å°†å¯ä»¥åœ¨ä¿è¯å®‰å…¨æ€§çš„åŒæ—¶è¿›ä¸€æ­¥é™ä½äº¤æ˜“æˆæœ¬ï¼Œå˜å¾—æ›´å…·å®ç”¨ä»·å€¼ã€‚</p>
<p>æ¢ç´¢åˆ°è¿™é‡Œï¼Œ<strong>æˆ‘ä»¬å¢åŠ äº†è¿™ä¹ˆå¤šæ€§èƒ½ï¼Œåœ¨åº”ç”¨å±‚èƒ½æœ‰ä»€ä¹ˆæå‡å—ï¼Ÿ</strong> è¿˜æ˜¯å•çº¯åªæ˜¯é‡çš„å †ç§¯ï¼Ÿ</p>
<h4 id="4-3-è´¦æˆ·æŠ½è±¡ä¸å¤§è§„æ¨¡åº”ç”¨"><a href="#4-3-è´¦æˆ·æŠ½è±¡ä¸å¤§è§„æ¨¡åº”ç”¨" class="headerlink" title="4.3 è´¦æˆ·æŠ½è±¡ä¸å¤§è§„æ¨¡åº”ç”¨"></a>4.3 è´¦æˆ·æŠ½è±¡ä¸å¤§è§„æ¨¡åº”ç”¨</h4><p>é’±åŒ…æ¯«æ— ç–‘é—®æ˜¯ Web3 æœ€é‡è¦çš„æµé‡å…¥å£ï¼Œæ˜¯ç”¨æˆ·è¿›å…¥ Web3 ä¸–ç•Œæœ€é‡è¦çš„å·¥å…·ï¼Œå¤§éƒ¨åˆ†ç”¨æˆ·ä¸»è¦æ¥è§¦åˆ°çš„é’±åŒ…éƒ½æ˜¯ EOA é’±åŒ…ï¼ˆå¤–éƒ¨æ‹¥æœ‰è´¦æˆ·ï¼‰ï¼Œå³é€šè¿‡ç§é’¥å’ŒåŠ©è®°è¯æŒæ¡æ•´ä¸ªé’±åŒ…çš„æƒé™ï¼ˆå¦‚ MetaMaskã€Coinbase Walletã€Trust Wallet ç­‰ï¼‰ï¼Œè¿™ç§ EOA é’±åŒ…æœ‰å¦‚ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li>é«˜å­¦ä¹ æˆæœ¬ï¼šç”¨æˆ·éœ€è¦äº†è§£å¤æ‚çš„éå¯¹ç§°åŠ å¯†çŸ¥è¯†ï¼Œç†è§£ä»»ä½•äººæ‹¥æœ‰ç§é’¥å°±èƒ½æ‹¥æœ‰è´¦æˆ·ï¼Œå¤±å»ç§é’¥å°±æ˜¯å¤±å»èµ„é‡‘çš„æ§åˆ¶æƒã€‚</li>
<li>å•ç‚¹å¤±æ•ˆé—®é¢˜ï¼šç§é’¥æ³„éœ²ä¸¢å¤±ï¼Œæˆ–å¿˜è®°å¯†ç æ—¶ï¼Œæ—¢ä¸èƒ½ç”¨æ‰‹æœºæˆ–é‚®ç®±ï¼Œä¹Ÿä¸èƒ½æŸœé¢å¤„ç†ç”¨èº«ä»½è¯ä»¶æ¢å¤ï¼Œèµ„äº§å°†æ°¸ä¹…ä¸¢å¤±ã€‚</li>
<li>é£é™©æ§åˆ¶éš¾åº¦è¾ƒé«˜ï¼šå­˜åœ¨å¾ˆå¤šæ¶æ„æ”»å‡»æ‰‹æ®µï¼Œè¯•å›¾ç›—å–ç§é’¥ï¼›æˆ–åœ¨ä¸ç›—å–ç§é’¥çš„å‰æä¸‹ï¼Œç”¨æ¶æ„æˆæƒã€æ¶æ„ç­¾åç­‰æ–¹å¼ç›—å–ç”¨æˆ·èµ„äº§ã€‚æ–°ç”¨æˆ·éœ€è¦æ¼«é•¿çš„å­¦ä¹ ï¼Œå…·å¤‡è°¨æ…çš„ä½¿ç”¨ä¹ æƒ¯æ‰èƒ½ä¿æŠ¤èµ„äº§å®‰å…¨ã€‚</li>
<li>ä¸æ”¯æŒæ™ºèƒ½åˆçº¦ï¼šæ— æ³•å®ç°å¤æ‚å¤šæ ·çš„é«˜çº§åŠŸèƒ½ï¼Œå¦‚å¤šç­¾ã€æ‰¹é‡å‘é€ä»£å¸ç­‰ç­‰ã€‚</li>
</ol>
<p><strong>è´¦æˆ·æŠ½è±¡</strong>ï¼ˆAccount Abstractionï¼‰æœ¬è´¨ä¸Šæ˜¯ä¸ªæ™ºèƒ½åˆçº¦é’±åŒ…ã€‚æ˜¯æŒ‡å°†æŸäº›åŠŸèƒ½å’Œå…·ä½“å®ç°ç»†èŠ‚æŠ½è±¡å‡ºæ¥ï¼Œç”¨ä¸€ç³»åˆ—çš„æ™ºèƒ½åˆçº¦æ¨¡æ‹Ÿå‡ºä¸€ä¸ªâ€œè´¦æˆ·â€çš„æ•ˆæœï¼Œè„±ç¦»äº† EOA è´¦æˆ·ç”¨ç§é’¥æ§åˆ¶åœ°å€çš„åº•å±‚åŸç†ï¼Œå…è®¸å…¶å®ƒæ›´äººæ€§åŒ–çš„ç¡®è®¤è´¦æˆ·æ‰€æœ‰æƒçš„æ–¹å¼ï¼Œå¹¶è®©æ•´ä¸ªè´¦æˆ·çš„åŠŸèƒ½æ›´åŠ çµæ´»ã€‚å®ƒè§£å†³äº†ç°æœ‰ EOA è´¦æˆ·çš„é—®é¢˜ï¼š</p>
<ol>
<li>æ›´ç¬¦åˆç°æœ‰çš„è´¦æˆ·ä½¿ç”¨ä¹ æƒ¯ï¼šå¯ä»¥åƒä¼ ç»Ÿ Web2 æœåŠ¡ä¸€æ ·ç™»é™†ï¼Œä½¿ç”¨é‚®ç®±ã€æ‰‹æœºçŸ­ä¿¡ã€ä¸¤æ­¥éªŒè¯ç­‰éªŒè¯æ–¹æ³•ã€‚</li>
<li>æ›´å¤šå®‰å…¨ä¿éšœæœºåˆ¶ï¼šå‡ºç°å®‰å…¨é£é™©æ—¶å¯ä»¥ç´§æ€¥æš‚åœè´¦æˆ·åŠŸèƒ½ï¼Œå¹¶é‡‡ç”¨ç¤¾äº¤æ¢å¤ç­‰æ‰‹æ®µé‡æ–°æŒæ¡è´¦æˆ·æ§åˆ¶æƒã€‚</li>
<li>å¯ä»¥æ¥å…¥ç¬¬ä¸‰æ–¹å®‰å…¨æ¨¡å—ï¼šæ¥å…¥ä¸“ä¸šçš„é£æ§æ¨¡å—ï¼Œè¿‡æ»¤é£é™©æ“ä½œï¼Œä»åº•å±‚é™ä½è¢«æ”»å‡»çš„å¯èƒ½ã€‚</li>
<li>æ”¯æŒæ™ºèƒ½åˆçº¦çš„æ›´å¤šåŠŸèƒ½ï¼šè®©ç”¨æˆ·åœ¨ä¸å…·å¤‡ä»£ç èƒ½åŠ›çš„æƒ…å†µä¸‹ä½¿ç”¨å¤šç­¾ã€æ‰¹é‡å‘é€å¤šç§ä»£å¸ã€æ‰¹é‡æˆæƒé¢åº¦ç­‰ç­‰æ“ä½œã€‚</li>
</ol>
<p>ç”šè‡³è¿˜å¢åŠ äº†è®¸å¤šæ–°çš„å¯èƒ½ï¼š</p>
<ol>
<li>ä»£ç†æ”¯ä»˜ Gas è´¹ï¼šå…è®¸ç¬¬ä¸‰æ–¹æ”¯ä»˜ Gas è´¹ï¼Œå¯ä»¥ç”±é’±åŒ…è¿è¥å•†è¡¥è´´ Gas è´¹æ¥å¸å¼•ç”¨æˆ·ï¼Œé’±åŒ…ä½œä¸ºå…¥å£å±•ç°å•†ä¸šä»·å€¼ï¼Œç”¨æˆ·äº«å—æ›´ä¾¿å®œçš„æœåŠ¡ã€‚</li>
<li>æ¡ä»¶äº¤æ˜“ï¼šåœ¨æ»¡è¶³ä¸€å®šæ¡ä»¶æ—¶è‡ªåŠ¨æ‰§è¡ŒæŸäº›äº¤æ˜“ã€‚</li>
<li>è·¨é“¾æ“ä½œï¼šå¯ä»¥å’Œè·¨é“¾æ¡¥æ™ºèƒ½åˆçº¦å®ç°åŸç”Ÿçš„äº¤äº’ï¼Œæ›´çµæ´»åœ°å®ç°èµ„äº§è·¨é“¾å’Œå…¶ä»–è·¨é“¾äº¤äº’ã€‚</li>
<li>æ›´å¤š DeFi åœºæ™¯ï¼šè´¦æˆ·æŠ½è±¡ä¸º DeFi æä¾›äº†æ›´å¤šå¯èƒ½ï¼Œå¦‚æ‰¹é‡äº¤æ˜“ã€è‡ªåŠ¨å€Ÿè´·ã€æµåŠ¨æ€§æŒ–çŸ¿ç­‰ã€‚</li>
</ol>
<p>è´¦æˆ·æŠ½è±¡æå¤§åœ°æ‹“å±•äº†ä»¥å¤ªåŠçš„å¯èƒ½æ€§ï¼Œä½†è´¦æˆ·æŠ½è±¡çš„é—®é¢˜åœ¨äºä¸€åˆ‡äº¤æ˜“éƒ½åŸºäºæ™ºèƒ½åˆçº¦å®Œæˆï¼ŒGas æˆæœ¬è¾ƒé«˜ï¼Œè¿™è®©å®ƒåœ¨ä»¥å¤ªåŠä¸»ç½‘ä¸Šæ˜¾å¾—è¿‡äºæ˜‚è´µã€‚</p>
<p>Layer 2 ä½œä¸ºä¸€ä¸ªæ‰§è¡Œå±‚ï¼Œå¤©ç„¶é€‚é…è´¦æˆ·æŠ½è±¡ï¼Œç”¨æˆ·ä¸ä¼šæ„ŸçŸ¥åˆ°ç§é’¥ç”šè‡³ä¸ä¼šæ„ŸçŸ¥åˆ° Gas è´¹çš„å­˜åœ¨ã€‚æ™ºèƒ½åˆçº¦é’±åŒ…æœ¬èº«å°±æ˜¯ç¨‹åºï¼Œèƒ½å¼•å…¥é£æ§ç­‰ç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œè®©è½¬è´¦å’Œäº¤äº’å˜å¾—å®‰å…¨ï¼Œæœ‰æ›´å¤šçš„ä¸°å¯Œä¸šåŠ¡åœºæ™¯å¯ä»¥å®ç°ã€‚å¯ä»¥è¯´å°†æ¥åŒºå—é“¾æŠ€æœ¯çš„å¤§è§„æ¨¡åº”ç”¨æŠ€æœ¯ç¦»ä¸å¼€è´¦æˆ·æŠ½è±¡ï¼Œè€Œè´¦æˆ·æŠ½è±¡éœ€è¦æˆæœ¬æ›´ä½çš„ Layer 2 æ‰èƒ½æˆç«‹ã€‚</p>
<h2 id="åŒºå—é“¾å²—ä½å…¨æ™¯å›¾"><a href="#åŒºå—é“¾å²—ä½å…¨æ™¯å›¾" class="headerlink" title="åŒºå—é“¾å²—ä½å…¨æ™¯å›¾"></a>åŒºå—é“¾å²—ä½å…¨æ™¯å›¾</h2><h3 id="ä¸€ã€æŠ€æœ¯å²—"><a href="#ä¸€ã€æŠ€æœ¯å²—" class="headerlink" title="ä¸€ã€æŠ€æœ¯å²—"></a>ä¸€ã€æŠ€æœ¯å²—</h3><h4 id="1-å‰ç«¯å·¥ç¨‹å¸ˆ"><a href="#1-å‰ç«¯å·¥ç¨‹å¸ˆ" class="headerlink" title="1. å‰ç«¯å·¥ç¨‹å¸ˆ"></a>1. å‰ç«¯å·¥ç¨‹å¸ˆ</h4><ol>
<li><p><strong>ä¸»è¦èŒè´£ï¼š</strong></p>
<ul>
<li>è®¾è®¡å’Œå¼€å‘åŸºäºåŒºå—é“¾æŠ€æœ¯çš„å‰ç«¯åº”ç”¨ï¼Œæ”¯æŒå»ä¸­å¿ƒåŒ–å¹³å°çš„äº¤äº’ã€‚</li>
<li>é€šè¿‡ Reactã€Vue ç­‰æ¡†æ¶å®ç°é«˜æ•ˆçš„ç”¨æˆ·ç•Œé¢ï¼Œæ”¯æŒé’±åŒ…è¿æ¥ã€äº¤æ˜“ç­¾åã€ä¿¡æ¯éªŒè¯ç­‰åŠŸèƒ½ã€‚</li>
<li>é›†æˆå¹¶ä¼˜åŒ–æ™ºèƒ½åˆçº¦çš„å‰ç«¯äº¤äº’ï¼Œç¡®ä¿é“¾ä¸Šæ•°æ®ä¸ç”¨æˆ·ç•Œé¢çš„æ— ç¼è¿æ¥ã€‚</li>
<li>ä¸åç«¯å›¢é˜Ÿåä½œï¼ŒåŸºäº GraphQL æˆ– RESTful API è·å–é“¾ä¸Šå’Œé“¾ä¸‹æ•°æ®ã€‚</li>
<li>æŒç»­ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼Œç¡®ä¿åœ¨ä¸åŒè®¾å¤‡å’Œæµè§ˆå™¨ä¸Šçš„å…¼å®¹æ€§ã€‚</li>
<li>å…³æ³¨ Web3 æŠ€æœ¯è¶‹åŠ¿ï¼Œå‚ä¸æŠ€æœ¯è¯„å®¡ä¸åˆ†äº«ï¼Œä¸æ–­ä¼˜åŒ–äº§å“æ¶æ„ä¸ä»£ç è´¨é‡ã€‚</li>
</ul>
</li>
<li><p><strong>èŒä½è¦æ±‚ï¼š</strong></p>
<ul>
<li>æœ¬ç§‘åŠä»¥ä¸Šå­¦å†ï¼Œè®¡ç®—æœºç§‘å­¦æˆ–ç›¸å…³ä¸“ä¸šï¼Œå…·å¤‡æ‰å®çš„è®¡ç®—æœºåŸºç¡€ã€‚</li>
<li>ç²¾é€š HTMLã€CSSã€JavaScriptï¼Œç†Ÿæ‚‰ Reactã€Vue ç­‰å‰ç«¯æ¡†æ¶ï¼Œèƒ½å¤Ÿç‹¬ç«‹æ„å»ºå¤æ‚çš„ UI ç•Œé¢ã€‚</li>
<li>ç†Ÿæ‚‰ Web3.jsã€Viemã€Metamask ç­‰ Web3 æŠ€æœ¯æ ˆï¼Œèƒ½å¤Ÿä¸æ™ºèƒ½åˆçº¦è¿›è¡Œäº¤äº’ã€‚ï¼ˆç°åœ¨ Ethers.js / Web3.js å·²ç»ä¸æ€ä¹ˆä½¿ç”¨äº†ï¼Œå¤§å®¶ç°åœ¨åŸºæœ¬ä¸Šéƒ½æ˜¯ç”¨çš„ Viemï¼‰</li>
<li>äº†è§£å¸¸ç”¨çš„åŒºå—é“¾ç½‘ç»œï¼Œå¦‚ä»¥å¤ªåŠã€Solana ç­‰ï¼Œå…·å¤‡ Dapp å¼€å‘ç»éªŒè€…ä¼˜å…ˆã€‚</li>
<li>ç†Ÿæ‚‰ Git ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œå…·å¤‡è‰¯å¥½çš„ä»£ç ç¼–å†™è§„èŒƒï¼Œæ³¨é‡ä»£ç å¯ç»´æŠ¤æ€§ã€‚</li>
<li>è‰¯å¥½çš„æ²Ÿé€šèƒ½åŠ›å’Œå›¢é˜Ÿåä½œç²¾ç¥ï¼Œèƒ½å¤Ÿåœ¨å¿«é€Ÿå‘å±•çš„ç¯å¢ƒä¸­é«˜æ•ˆå·¥ä½œã€‚</li>
<li>å…·æœ‰è‰¯å¥½çš„é—®é¢˜è§£å†³èƒ½åŠ›ï¼Œèƒ½åœ¨é¢å¯¹å¤æ‚çš„æŠ€æœ¯éš¾é¢˜æ—¶ï¼Œæå‡ºåˆ›æ–°çš„è§£å†³æ–¹æ¡ˆã€‚</li>
<li>æœ‰å¼€æºé¡¹ç›®æˆ– Web3 ç›¸å…³é¡¹ç›®çš„ç»éªŒä¼˜å…ˆã€‚</li>
</ul>
 <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¸¸ç”¨æŠ€æœ¯æ ˆ</span></span><br><span class="line">- HTML5</span><br><span class="line">- CSS3</span><br><span class="line">- JavaScript (ES6+)</span><br><span class="line">- React / Vue</span><br><span class="line">- TypeScript</span><br><span class="line">- Next.js</span><br><span class="line">- Ethers.js / Web3.js / Viem</span><br></pre></td></tr></tbody></table></figure></li>
</ol>
<h4 id="2-åç«¯å·¥ç¨‹å¸ˆ"><a href="#2-åç«¯å·¥ç¨‹å¸ˆ" class="headerlink" title="2. åç«¯å·¥ç¨‹å¸ˆ"></a>2. åç«¯å·¥ç¨‹å¸ˆ</h4><ol>
<li><p><strong>ä¸»è¦èŒè´£ï¼š</strong></p>
<ul>
<li>è®¾è®¡ã€å¼€å‘å’Œç»´æŠ¤å»ä¸­å¿ƒåŒ–åº”ç”¨ï¼ˆDappï¼‰çš„åç«¯æœåŠ¡ï¼ŒåŒ…æ‹¬é“¾ä¸Šæ•°æ®äº¤äº’ã€æ™ºèƒ½åˆçº¦é›†æˆå’Œäº‹åŠ¡å¤„ç†ã€‚</li>
<li>ä¸å‰ç«¯å›¢é˜Ÿåˆä½œï¼Œç¡®ä¿å‰åç«¯æ•°æ®äº¤äº’çš„é«˜æ•ˆæ€§å’Œç¨³å®šæ€§ï¼Œæ”¯æŒå¤šç§ Web3 é’±åŒ…ï¼ˆå¦‚ Metamaskï¼‰çš„é›†æˆã€‚</li>
<li>åŸºäº Node.jsã€Python ç­‰æŠ€æœ¯æ ˆæ„å»ºé«˜æ€§èƒ½çš„ RESTful æˆ– GraphQL APIï¼Œä»¥æ”¯æŒ Web3 å¹³å°çš„éœ€æ±‚ã€‚</li>
<li>ä¸æ™ºèƒ½åˆçº¦å›¢é˜Ÿåˆä½œï¼Œç¡®ä¿æ™ºèƒ½åˆçº¦ä¸åç«¯æœåŠ¡çš„æ— ç¼è¿æ¥ï¼Œä¼˜åŒ–é“¾ä¸Šæ•°æ®çš„è¯»å–å’Œå†™å…¥æ•ˆç‡ã€‚</li>
<li>ä¼˜åŒ–åç«¯æ€§èƒ½ï¼Œç¡®ä¿ç³»ç»Ÿçš„é«˜å¯ç”¨æ€§ã€é«˜ååé‡å’Œä½å»¶è¿Ÿï¼Œæ»¡è¶³é«˜å¹¶å‘è®¿é—®éœ€æ±‚ã€‚</li>
<li>å®šæœŸè¿›è¡Œç³»ç»Ÿæ¶æ„å’Œä»£ç çš„è¯„å®¡ï¼Œä¸æ–­æå‡ä»£ç è´¨é‡ä¸æŠ€æœ¯æ ‡å‡†ã€‚</li>
<li>å‚ä¸ Web3 æŠ€æœ¯çš„å‰æ²¿ç ”ç©¶ï¼Œä¿æŒå¯¹æ–°å…´åŒºå—é“¾æŠ€æœ¯çš„å­¦ä¹ å’Œåº”ç”¨ï¼Œæ¨åŠ¨å…¬å¸æŠ€æœ¯è¿­ä»£ã€‚</li>
</ul>
</li>
<li><p><strong>èŒä½è¦æ±‚ï¼š</strong></p>
<ul>
<li>æœ¬ç§‘åŠä»¥ä¸Šå­¦å†ï¼Œè®¡ç®—æœºç§‘å­¦æˆ–ç›¸å…³ä¸“ä¸šï¼Œå…·å¤‡æ‰å®çš„è®¡ç®—æœºåŸºç¡€ã€‚</li>
<li>ç²¾é€š Node.jsã€Goã€Python ç­‰åç«¯å¼€å‘è¯­è¨€ï¼Œå…·æœ‰æ„å»ºé«˜å¹¶å‘ã€åˆ†å¸ƒå¼ç³»ç»Ÿçš„ç»éªŒã€‚</li>
<li>ç†Ÿæ‚‰ Viemã€Web3.jsã€Ethers.js ç­‰ Web3 å·¥å…·ï¼Œèƒ½å¤Ÿä¸åŒºå—é“¾è¿›è¡Œäº¤äº’å¹¶å¤„ç†é“¾ä¸Šæ•°æ®ã€‚</li>
<li>å…·å¤‡ RESTful API æˆ– GraphQL å¼€å‘ç»éªŒï¼Œèƒ½å¤Ÿè®¾è®¡é«˜æ•ˆçš„ API æœåŠ¡ï¼Œæ”¯æŒå‰ç«¯ä¸åŒºå—é“¾çš„äº¤äº’ã€‚</li>
<li>ç†Ÿæ‚‰æ•°æ®åº“æŠ€æœ¯ï¼Œå…·å¤‡ MySQLã€PostgreSQL æˆ– NoSQL æ•°æ®åº“çš„å¼€å‘ä¸ä¼˜åŒ–ç»éªŒã€‚</li>
<li>å¯¹æ™ºèƒ½åˆçº¦æœ‰ä¸€å®šçš„äº†è§£ï¼Œå…·å¤‡ä¸æ™ºèƒ½åˆçº¦äº¤äº’ã€è¯»å–é“¾ä¸Šæ•°æ®ç­‰ç›¸å…³ç»éªŒã€‚</li>
<li>ç†Ÿæ‚‰æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¦‚ RabbitMQã€Kafkaï¼‰åŠäº‹ä»¶é©±åŠ¨æ¶æ„ï¼Œèƒ½å¤Ÿå¤„ç†å¼‚æ­¥äº‹åŠ¡ã€‚</li>
<li>ç†Ÿæ‚‰å®¹å™¨åŒ–æŠ€æœ¯ï¼ˆå¦‚ Dockerã€Kubernetesï¼‰ï¼Œå…·å¤‡ CI/CD ç»éªŒè€…ä¼˜å…ˆã€‚</li>
<li>è‰¯å¥½çš„ä»£ç ç¼–å†™è§„èŒƒä¸æ–‡æ¡£å†™ä½œèƒ½åŠ›ï¼Œå…·å¤‡è‰¯å¥½çš„å›¢é˜Ÿåä½œç²¾ç¥å’Œæ²Ÿé€šèƒ½åŠ›ã€‚</li>
<li>æœ‰ Web3 é¡¹ç›®å¼€å‘ç»éªŒæˆ–å¼€æºè´¡çŒ®è€…ä¼˜å…ˆã€‚</li>
</ul>
 <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¸¸ç”¨æŠ€æœ¯æ ˆ</span></span><br><span class="line">- Node.js / Go / Python</span><br><span class="line">- Viem / Web3.js / Ethers.js</span><br><span class="line">- RESTful API / GraphQL</span><br><span class="line">- MySQL / PostgreSQL</span><br><span class="line">- Docker / Kubernetes</span><br></pre></td></tr></tbody></table></figure></li>
</ol>
<h4 id="3-æ™ºèƒ½åˆçº¦å·¥ç¨‹å¸ˆ"><a href="#3-æ™ºèƒ½åˆçº¦å·¥ç¨‹å¸ˆ" class="headerlink" title="3. æ™ºèƒ½åˆçº¦å·¥ç¨‹å¸ˆ"></a>3. æ™ºèƒ½åˆçº¦å·¥ç¨‹å¸ˆ</h4><ol>
<li><p><strong>ä¸»è¦èŒè´£ï¼š</strong></p>
<ul>
<li>è®¾è®¡ã€å¼€å‘å’Œéƒ¨ç½²æ™ºèƒ½åˆçº¦ï¼Œç¡®ä¿åˆçº¦åœ¨åŒºå—é“¾ç½‘ç»œä¸Šçš„å®‰å…¨æ€§ã€å¯é æ€§å’Œé«˜æ•ˆæ€§ã€‚</li>
<li>ä½¿ç”¨ Solidity ç¼–å†™æ™ºèƒ½åˆçº¦ï¼Œæ¶µç›–å„ç±»å»ä¸­å¿ƒåŒ–åº”ç”¨çš„éœ€æ±‚ï¼Œå¦‚ NFTã€DeFiã€DAO ç­‰ã€‚</li>
<li>ä¸å›¢é˜Ÿåˆä½œï¼Œå®šä¹‰æ™ºèƒ½åˆçº¦çš„åŠŸèƒ½éœ€æ±‚ï¼Œå¹¶æ ¹æ®éœ€æ±‚è®¾è®¡åˆé€‚çš„æ™ºèƒ½åˆçº¦æ¶æ„ã€‚</li>
<li>éƒ¨ç½²æ™ºèƒ½åˆçº¦è‡³åŒºå—é“¾ç½‘ç»œï¼ˆå¦‚ä»¥å¤ªåŠã€Polygonã€Arbitrumã€Base ç­‰ï¼‰ï¼Œå¹¶ç¡®ä¿åˆçº¦çš„é«˜æ•ˆæ‰§è¡Œã€‚</li>
<li>ç¼–å†™æ™ºèƒ½åˆçº¦çš„å•å…ƒæµ‹è¯•ï¼Œè¿›è¡Œä»£ç å®¡è®¡ä¸å®‰å…¨æ€§æµ‹è¯•ï¼Œç¡®ä¿åˆçº¦ä»£ç æ— æ¼æ´ï¼Œé¿å…æ½œåœ¨çš„å®‰å…¨é£é™©ã€‚</li>
<li>ä¼˜åŒ–æ™ºèƒ½åˆçº¦æ€§èƒ½ï¼Œå‡å°‘ Gas è´¹ç”¨ã€‚</li>
<li>ç ”ç©¶å’Œåº”ç”¨æœ€æ–°çš„åŒºå—é“¾æŠ€æœ¯å’Œæ™ºèƒ½åˆçº¦æœ€ä½³å®è·µï¼Œæ¨åŠ¨æŠ€æœ¯çš„æŒç»­è¿›æ­¥ã€‚</li>
<li>ä¸å‰ç«¯å’Œåç«¯å¼€å‘å›¢é˜Ÿç´§å¯†åä½œï¼Œç¡®ä¿æ™ºèƒ½åˆçº¦ä¸å…¶ä»–ç³»ç»Ÿç»„ä»¶çš„é¡ºç•…é›†æˆã€‚</li>
<li>ä¸ºå›¢é˜Ÿæˆå‘˜æä¾›æ™ºèƒ½åˆçº¦ç›¸å…³çš„æŠ€æœ¯æ”¯æŒå’ŒæŒ‡å¯¼ï¼Œæ¨åŠ¨å›¢é˜Ÿçš„æŠ€æœ¯æå‡ã€‚</li>
</ul>
</li>
<li><p><strong>èŒä½è¦æ±‚ï¼š</strong></p>
<ul>
<li>æœ¬ç§‘åŠä»¥ä¸Šå­¦å†ï¼Œè®¡ç®—æœºç§‘å­¦æˆ–ç›¸å…³ä¸“ä¸šï¼Œå…·å¤‡æ‰å®çš„è®¡ç®—æœºåŸºç¡€ã€‚</li>
<li>3 å¹´ä»¥ä¸Šæ™ºèƒ½åˆçº¦å¼€å‘ç»éªŒï¼Œç†Ÿç»ƒä½¿ç”¨ Solidity æˆ–ç±»ä¼¼çš„æ™ºèƒ½åˆçº¦å¼€å‘è¯­è¨€ã€‚</li>
<li>ç†Ÿæ‚‰ Ethereumã€Polygonã€Arbitrumã€Base ç­‰ä¸»æµåŒºå—é“¾å¹³å°ï¼Œèƒ½å¤Ÿåœ¨è¿™äº›å¹³å°ä¸Šéƒ¨ç½²å’Œç»´æŠ¤æ™ºèƒ½åˆçº¦ã€‚</li>
<li>äº†è§£æ™ºèƒ½åˆçº¦å¼€å‘çš„å®‰å…¨æ€§é—®é¢˜ï¼Œå…·å¤‡æ™ºèƒ½åˆçº¦å®¡è®¡å’Œæ¼æ´ä¿®å¤ç»éªŒï¼Œç†Ÿæ‚‰å¸¸è§çš„æ”»å‡»æ¨¡å¼ï¼ˆå¦‚é‡å…¥æ”»å‡»ã€æº¢å‡ºã€æƒé™ç®¡ç†ç­‰ï¼‰ã€‚</li>
<li>ç†Ÿæ‚‰åŒºå—é“¾çš„åŸºæœ¬åŸç†ï¼Œç†è§£ Gas è´¹ç”¨ã€äº¤æ˜“ç¡®è®¤ã€åŒºå—é“¾å…±è¯†æœºåˆ¶ç­‰æ¦‚å¿µã€‚</li>
<li>ç†Ÿç»ƒä½¿ç”¨ Foundryã€Hardhatã€Remix ç­‰æ™ºèƒ½åˆçº¦å¼€å‘æ¡†æ¶ï¼Œå…·å¤‡é¡¹ç›®å¼€å‘ã€æµ‹è¯•ä¸éƒ¨ç½²ç»éªŒã€‚</li>
<li>å…·å¤‡ä¸€å®šçš„ Viemã€Web3.jsã€Ethers.js ç­‰ Web3 å·¥å…·ä½¿ç”¨ç»éªŒï¼Œèƒ½å¤Ÿä¸å‰ç«¯æˆ–å…¶ä»–ç³»ç»Ÿè¿›è¡Œæ— ç¼é›†æˆã€‚</li>
<li>ç†Ÿæ‚‰ IPFSã€NFTã€Token æ ‡å‡†ï¼ˆERC-20ã€ERC-721ã€ERC-1155 ç­‰ï¼‰åŠå»ä¸­å¿ƒåŒ–èº«ä»½ï¼ˆDIDï¼‰ç­‰ Web3 ç›¸å…³æŠ€æœ¯ã€‚</li>
<li>å…·æœ‰è‰¯å¥½çš„ä»£ç ç¼–å†™è§„èŒƒï¼Œæ³¨é‡ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</li>
<li>è‰¯å¥½çš„æ²Ÿé€šèƒ½åŠ›å’Œå›¢é˜Ÿåä½œç²¾ç¥ï¼Œèƒ½å¤Ÿåœ¨å¿«é€Ÿå‘å±•çš„ç¯å¢ƒä¸­æœ‰æ•ˆå·¥ä½œã€‚</li>
</ul>
 <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¸¸ç”¨æŠ€æœ¯æ ˆ</span></span><br><span class="line">- Solidity</span><br><span class="line">- Remix</span><br><span class="line">- Foundry / Hardhat</span><br><span class="line">- Phalcon / Tenderly</span><br><span class="line">- Yul</span><br></pre></td></tr></tbody></table></figure></li>
</ol>
<h3 id="äºŒã€éæŠ€æœ¯å²—"><a href="#äºŒã€éæŠ€æœ¯å²—" class="headerlink" title="äºŒã€éæŠ€æœ¯å²—"></a>äºŒã€éæŠ€æœ¯å²—</h3><h4 id="1-äº§å“ä¸è¿è¥"><a href="#1-äº§å“ä¸è¿è¥" class="headerlink" title="1. äº§å“ä¸è¿è¥"></a>1. äº§å“ä¸è¿è¥</h4><ol>
<li>èŒä½æè¿°ï¼š<ul>
<li>åœ¨ Web3 äº§å“ç”Ÿå‘½å‘¨æœŸä¸­è´Ÿè´£åè°ƒäº§å“å‘å¸ƒã€ç”¨æˆ·åé¦ˆæ”¶é›†å’ŒæŒç»­æ”¹è¿›æµç¨‹ï¼Œä»¥æå‡ç”¨æˆ·ä½“éªŒå’Œäº§å“è¿­ä»£æ•ˆç‡ã€‚</li>
<li>æ‰§è¡Œä»¥ç”¨æˆ·è·å–ã€ç•™å­˜å’Œå‚ä¸åº¦æå‡ä¸ºç›®æ ‡çš„å¢é•¿æˆ˜ç•¥ï¼Œå¹¶ç›‘æ§å®æ–½æ•ˆæœã€‚</li>
<li>ä¸äº§å“ã€æŠ€æœ¯ã€å¸‚åœºåŠåˆè§„å›¢é˜Ÿç´§å¯†åˆä½œï¼Œç¡®ä¿äº§å“ä¸Šå¸‚ï¼ˆgo-to-marketï¼‰ç­–ç•¥ä¸å„éƒ¨é—¨éœ€æ±‚ä¿æŒä¸€è‡´ã€‚</li>
<li>æŒç»­åˆ†æè¿è¥æ•°æ®ï¼Œè·Ÿè¸ªå…³é”®ç»©æ•ˆæŒ‡æ ‡ï¼ˆKPIsï¼‰ï¼Œå¹¶æ ¹æ®æ•°æ®æå‡ºä¼˜åŒ–å»ºè®®ã€‚</li>
</ul>
</li>
<li>èŒä½è¦æ±‚ï¼š<ul>
<li>ç†Ÿæ‚‰äº§å“ä¸Šçº¿ï¼ˆGo-to-marketï¼‰å…¨æµç¨‹ï¼Œæ“…é•¿è·¨éƒ¨é—¨èµ„æºåè°ƒä¸é¡¹ç›®æ¨è¿›ã€‚</li>
<li>å…·å¤‡æ‰å®çš„æ•°æ®åˆ†æèƒ½åŠ›ï¼Œèƒ½ç†Ÿç»ƒä½¿ç”¨ SQLã€Excel æˆ–å…¶ä»–æ•°æ®å·¥å…·è¿›è¡Œæ•°æ®ç»Ÿè®¡å’Œæ´å¯Ÿæç‚¼ã€‚</li>
</ul>
</li>
</ol>
<h4 id="2-ç¤¾åŒºç®¡ç†"><a href="#2-ç¤¾åŒºç®¡ç†" class="headerlink" title="2. ç¤¾åŒºç®¡ç†"></a>2. ç¤¾åŒºç®¡ç†</h4><ol>
<li><p>èŒä½æè¿°</p>
<ul>
<li>æ„å»ºå¹¶ç®¡ç† Telegramã€Twitterï¼ˆXï¼‰ã€Discord ç­‰ç¤¾äº¤å¹³å°çš„ç¤¾åŒºï¼Œå®ç°æŒç»­çš„ç”¨æˆ·äº’åŠ¨ä¸å¢é•¿ï¼›</li>
<li>ç»„ç»‡çº¿ä¸Š AMAï¼ˆé—®ç­”ï¼‰ã€æ´»åŠ¨ã€ç«èµ›ç­‰å½¢å¼å¤šæ ·çš„ç¤¾åŒºäº’åŠ¨ï¼Œä»¥æå‡ç”¨æˆ·æ´»è·ƒåº¦å’Œå“ç‰Œç²˜æ€§ï¼›</li>
<li>è·Ÿè¸ªç¤¾åŒºå¥åº·åº¦æŒ‡æ ‡å’Œæƒ…æ„Ÿåˆ†æï¼Œå®šæœŸå‘ç®¡ç†å±‚æ±‡æŠ¥æ´å¯Ÿä¸ä¼˜åŒ–å»ºè®®ï¼›</li>
<li>ä¸è¥é”€å›¢é˜Ÿåä½œï¼Œåˆ¶å®šå¹¶æ‰§è¡Œå†…å®¹æ—¥å†ï¼Œå‘å¸ƒç¤¾åŒºå…¬å‘Šå’Œè¿è¥æ‰‹å†Œã€‚</li>
</ul>
</li>
<li><p>èŒä½è¦æ±‚</p>
<ul>
<li>Web3ã€DAO æˆ– NFT ç¤¾åŒºç®¡ç†ç»éªŒï¼Œæ·±åˆ»ç†è§£å»ä¸­å¿ƒåŒ–åº”ç”¨ç”Ÿæ€ï¼›</li>
<li>å‡ºè‰²çš„æ–‡æ¡ˆæ’°å†™ä¸æ²Ÿé€šèƒ½åŠ›ï¼Œèƒ½å¤Ÿæœ‰æ•ˆå¼•å¯¼ç¤¾åŒºè®¨è®ºå¹¶å¿«é€Ÿå“åº”ç”¨æˆ·åé¦ˆï¼›</li>
<li>ç†Ÿç»ƒä½¿ç”¨ç¤¾åŒºæ•°æ®åˆ†æå·¥å…·ï¼Œèƒ½å¤Ÿç›‘æµ‹å¹¶è§£è¯»ç”¨æˆ·è¡Œä¸ºä¸èˆ†æƒ…åŠ¨æ€ï¼›</li>
<li>å…·å¤‡æ´»åŠ¨ç­–åˆ’ä¸æ‰§è¡Œèƒ½åŠ›ï¼Œèƒ½å¤Ÿç‹¬ç«‹ç»„ç»‡çº¿ä¸ŠåŠçº¿ä¸‹ç¤¾åŒºæ´»åŠ¨ã€‚</li>
</ul>
 <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¸¸ç”¨å¹³å°</span></span><br><span class="line">- Telegram</span><br><span class="line">- Twitter (X)</span><br><span class="line">- Discord</span><br></pre></td></tr></tbody></table></figure></li>
</ol>
<h4 id="3-ç ”ç©¶åˆ†æ"><a href="#3-ç ”ç©¶åˆ†æ" class="headerlink" title="3. ç ”ç©¶åˆ†æ"></a>3. ç ”ç©¶åˆ†æ</h4><ol>
<li><p>èŒä½æè¿°</p>
<ul>
<li>æ”¶é›†ã€æ•´ç†å¹¶åˆ†æ Web3 è¡Œä¸šå¸‚åœºä¸ç”¨æˆ·æ•°æ®ï¼Œç¼–å†™å¯è¡Œæ€§ç ”ç©¶æŠ¥å‘Šï¼Œä¸ºäº§å“ä¸è¿è¥æä¾›å†³ç­–æ”¯æŒï¼›</li>
<li>è·Ÿè¸ªåŒºå—é“¾åè®®æŠ€æœ¯æ¼”è¿›åŠç”Ÿæ€åŠ¨æ€ï¼Œæ’°å†™æ·±åº¦ç ”ç©¶æŠ¥å‘Šæˆ–ç™½çš®ä¹¦ï¼›</li>
<li>è¿›è¡Œç«äº‰å¯¹æ‰‹åˆ†æï¼Œè¯„ä¼°å¸‚åœºè¶‹åŠ¿ä¸ç”¨æˆ·è¡Œä¸ºæ¨¡å¼ï¼Œä¸ºæˆ˜ç•¥è§„åˆ’æä¾›æ•°æ®é©±åŠ¨çš„å»ºè®®ï¼›</li>
<li>æ”¯æŒé¡¹ç›®çš„åŠ å¯†ç»æµæ¨¡å‹è®¾è®¡ä¸åšå¼ˆè®ºåˆ†æï¼Œä»¥ä¿è¯é¡¹ç›®çš„ç»æµæ¿€åŠ±åˆç†æ€§ã€‚</li>
</ul>
</li>
<li><p>èŒä½è¦æ±‚</p>
<ul>
<li>ç†Ÿç»ƒä½¿ç”¨ Excelã€SPSS æˆ– Python ç­‰æ•°æ®åˆ†æå·¥å…·ï¼Œå…·å¤‡å®šé‡å’Œå®šæ€§ç ”ç©¶æ–¹æ³•ç»éªŒï¼›</li>
<li>æ·±å…¥äº†è§£åŒºå—é“¾ç”Ÿæ€ã€DeFi åè®®åŠåŠ å¯†ç»æµå­¦åŸç†ï¼›</li>
<li>ä¼˜ç§€çš„æŠ¥å‘Šæ’°å†™ä¸æ¼”ç¤ºèƒ½åŠ›ï¼Œèƒ½å¤Ÿæ¸…æ™°ä¼ è¾¾ç ”ç©¶ç»“è®ºä¸å»ºè®®ï¼›</li>
<li>ç²¾é€šé“¾ä¸Šæ•°æ®åˆ†æå·¥å…·ï¼ˆGlassnodeã€Token Terminalï¼‰ã€‚</li>
</ul>
 <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¸¸ç”¨å·¥å…·</span></span><br><span class="line">- Excel</span><br><span class="line">- SPSS</span><br><span class="line">- Python</span><br><span class="line">- Glassnode</span><br><span class="line">- Token Terminal</span><br></pre></td></tr></tbody></table></figure></li>
</ol>
<h1 id="8æœˆ7æ—¥"><a href="#8æœˆ7æ—¥" class="headerlink" title="8æœˆ7æ—¥"></a>8æœˆ7æ—¥</h1><table>
<thead>
<tr>
<th>ä»Šæ—¥å­¦ä¹ å†…å®¹</th>
</tr>
</thead>
<tbody><tr>
<td>MyFirstLayer2  å‰©ä½™å­¦ä¹ </td>
</tr>
<tr>
<td>è¡Œä¸šèµ›é“å…¨è§ˆ</td>
</tr>
</tbody></table>
<h2 id="è¡Œä¸šèµ›é“å…¨è§ˆ"><a href="#è¡Œä¸šèµ›é“å…¨è§ˆ" class="headerlink" title="è¡Œä¸šèµ›é“å…¨è§ˆ"></a>è¡Œä¸šèµ›é“å…¨è§ˆ</h2><h1 id="8æœˆ8æ—¥"><a href="#8æœˆ8æ—¥" class="headerlink" title="8æœˆ8æ—¥"></a>8æœˆ8æ—¥</h1><table>
<thead>
<tr>
<th>ä»Šæ—¥å­¦ä¹ å†…å®¹</th>
</tr>
</thead>
<tbody><tr>
<td>å®‰å…¨ä¸åˆè§„</td>
</tr>
<tr>
<td>CryptoZombiesxçš„solidityå­¦ä¹ /Solidity: Beginner to Intermediate Smart Contracts/lesson1æ­å»ºåƒµå°¸å·¥å‚</td>
</tr>
</tbody></table>
<h2 id="CryptoZombiesxçš„solidityå­¦ä¹ "><a href="#CryptoZombiesxçš„solidityå­¦ä¹ " class="headerlink" title="CryptoZombiesxçš„solidityå­¦ä¹ "></a>CryptoZombiesxçš„solidityå­¦ä¹ </h2><h3 id="Solidity-Beginner-to-Intermediate-Smart-Contracts"><a href="#Solidity-Beginner-to-Intermediate-Smart-Contracts" class="headerlink" title="Solidity: Beginner to Intermediate Smart Contracts"></a>Solidity: Beginner to Intermediate Smart Contracts</h3><h3 id="lesson1-æ­å»ºåƒµå°¸å·¥å‚"><a href="#lesson1-æ­å»ºåƒµå°¸å·¥å‚" class="headerlink" title="lesson1 æ­å»ºåƒµå°¸å·¥å‚"></a>lesson1 æ­å»ºåƒµå°¸å·¥å‚</h3><h3 id="ç¬¬2ç« -åˆçº¦"><a href="#ç¬¬2ç« -åˆçº¦" class="headerlink" title="ç¬¬2ç« : åˆçº¦"></a>ç¬¬2ç« : åˆçº¦</h3><p>ä»æœ€åŸºæœ¬çš„å¼€å§‹å…¥æ‰‹:</p>
<p>Solidity çš„ä»£ç éƒ½åŒ…è£¹åœ¨<strong>åˆçº¦</strong>é‡Œé¢. ä¸€ä»½<code>åˆçº¦</code>å°±æ˜¯ä»¥å¤ªåº”å¸åº”ç”¨çš„åŸºæœ¬æ¨¡å—ï¼Œ æ‰€æœ‰çš„å˜é‡å’Œå‡½æ•°éƒ½å±äºä¸€ä»½åˆçº¦, å®ƒæ˜¯ä½ æ‰€æœ‰åº”ç”¨çš„èµ·ç‚¹.</p>
<p>ä¸€ä»½åä¸º <code>HelloWorld</code> çš„ç©ºåˆçº¦å¦‚ä¸‹:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">contract HelloWorld {</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>ç‰ˆæœ¬æŒ‡ä»¤</strong></p>
<p>æ‰€æœ‰çš„ Solidity æºç éƒ½å¿…é¡»å† ä»¥ â€œversion pragmaâ€ â€” æ ‡æ˜ Solidity ç¼–è¯‘å™¨çš„ç‰ˆæœ¬. ä»¥é¿å…å°†æ¥æ–°çš„ç¼–è¯‘å™¨å¯èƒ½ç ´åä½ çš„ä»£ç ã€‚</p>
<p>ä¾‹å¦‚: <code>pragma solidity ^0.4.19;</code> (å½“å‰ Solidity çš„æœ€æ–°ç‰ˆæœ¬æ˜¯ 0.4.19).</p>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œ ä¸‹é¢å°±æ˜¯ä¸€ä¸ªæœ€åŸºæœ¬çš„åˆçº¦ â€” æ¯æ¬¡å»ºç«‹ä¸€ä¸ªæ–°çš„é¡¹ç›®æ—¶çš„ç¬¬ä¸€æ®µä»£ç :</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">contract HelloWorld {</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>ä¸ºäº†å»ºç«‹æˆ‘ä»¬çš„åƒµå°¸éƒ¨é˜Ÿï¼Œ è®©æˆ‘ä»¬å…ˆå»ºç«‹ä¸€ä¸ªåŸºç¡€åˆçº¦ï¼Œç§°ä¸º <code>ZombieFactory</code>ã€‚</p>
<ol>
<li>åœ¨å³è¾¹çš„è¾“å…¥æ¡†é‡Œè¾“å…¥ <code>0.4.19</code>ï¼Œæˆ‘ä»¬çš„åˆçº¦åŸºäºè¿™ä¸ªç‰ˆæœ¬çš„ç¼–è¯‘å™¨ã€‚</li>
<li>å»ºç«‹ä¸€ä¸ªç©ºåˆçº¦ <code>ZombieFactory</code>ã€‚</li>
</ol>
<p>ä¸€åˆ‡å®Œæ¯•ï¼Œç‚¹å‡»ä¸‹é¢ â€œç­”æ¡ˆâ€ . å¦‚æœæ²¡æ•ˆæœï¼Œç‚¹å‡» â€œæç¤ºâ€ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory {</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬3ç« -çŠ¶æ€å˜é‡å’Œæ•´æ•°"><a href="#ç¬¬3ç« -çŠ¶æ€å˜é‡å’Œæ•´æ•°" class="headerlink" title="ç¬¬3ç« : çŠ¶æ€å˜é‡å’Œæ•´æ•°"></a>ç¬¬3ç« : çŠ¶æ€å˜é‡å’Œæ•´æ•°</h3><p>çœŸæ£’ï¼æˆ‘ä»¬å·²ç»ä¸ºæˆ‘ä»¬çš„åˆçº¦åšäº†ä¸€ä¸ªå¤–å£³ï¼Œ ä¸‹é¢å­¦ä¹  Solidity ä¸­å¦‚ä½•ä½¿ç”¨å˜é‡ã€‚</p>
<p><strong>çŠ¶æ€å˜é‡</strong>æ˜¯è¢«æ°¸ä¹…åœ°ä¿å­˜åœ¨åˆçº¦ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´å®ƒä»¬è¢«å†™å…¥ä»¥å¤ªå¸åŒºå—é“¾ä¸­. æƒ³è±¡æˆå†™å…¥ä¸€ä¸ªæ•°æ®åº“ã€‚</p>
<p>ä¾‹å­:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">contract Example {</span><br><span class="line">  // è¿™ä¸ªæ— ç¬¦å·æ•´æ•°å°†ä¼šæ°¸ä¹…çš„è¢«ä¿å­˜åœ¨åŒºå—é“¾ä¸­</span><br><span class="line">  uint myUnsignedInteger = 100;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå®šä¹‰ <code>myUnsignedInteger</code> ä¸º <code>uint</code> ç±»å‹ï¼Œå¹¶èµ‹å€¼100ã€‚</p>
<p><strong>æ— ç¬¦å·æ•´æ•°: <code>uint</code></strong></p>
<p><code>uint</code> æ— ç¬¦å·æ•°æ®ç±»å‹ï¼Œ æŒ‡<strong>å…¶å€¼ä¸èƒ½æ˜¯è´Ÿæ•°</strong>ï¼Œå¯¹äºæœ‰ç¬¦å·çš„æ•´æ•°å­˜åœ¨åä¸º <code>int</code> çš„æ•°æ®ç±»å‹ã€‚</p>
<blockquote>
<p>æ³¨: Solidityä¸­ï¼Œ <code>uint</code> å®é™…ä¸Šæ˜¯ <code>uint256</code>ä»£åè¯ï¼Œ ä¸€ä¸ª256ä½çš„æ— ç¬¦å·æ•´æ•°ã€‚ä½ ä¹Ÿå¯ä»¥å®šä¹‰ä½æ•°å°‘çš„uints â€” <code>uint8</code>ï¼Œ <code>uint16</code>ï¼Œ <code>uint32</code>ï¼Œ ç­‰â€¦â€¦ ä½†ä¸€èˆ¬æ¥è®²ä½ æ„¿æ„ä½¿ç”¨ç®€å•çš„ <code>uint</code>ï¼Œ é™¤éåœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œè¿™æˆ‘ä»¬åé¢ä¼šè®²ã€‚</p>
</blockquote>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬çš„åƒµå°¸DNAå°†ç”±ä¸€ä¸ªåå…­ä½æ•°å­—ç»„æˆã€‚</p>
<p>å®šä¹‰ <code>dnaDigits</code> ä¸º <code>uint</code> æ•°æ®ç±»å‹, å¹¶èµ‹å€¼ <code>16</code>ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory {</span><br><span class="line">    uint dnaDigits = 16;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬4ç« -æ•°å­¦è¿ç®—"><a href="#ç¬¬4ç« -æ•°å­¦è¿ç®—" class="headerlink" title="ç¬¬4ç« : æ•°å­¦è¿ç®—"></a>ç¬¬4ç« : æ•°å­¦è¿ç®—</h3><p>åœ¨ Solidity ä¸­ï¼Œæ•°å­¦è¿ç®—å¾ˆç›´è§‚æ˜äº†ï¼Œä¸å…¶å®ƒç¨‹åºè®¾è®¡è¯­è¨€ç›¸åŒ:</p>
<ul>
<li>åŠ æ³•: <code>x + y</code></li>
<li>å‡æ³•: <code>x - y</code>,</li>
<li>ä¹˜æ³•: <code>x * y</code></li>
<li>é™¤æ³•: <code>x / y</code></li>
<li>å–æ¨¡ / æ±‚ä½™: <code>x % y</code> <em>(ä¾‹å¦‚, <code>13 % 5</code> ä½™ <code>3</code>, å› ä¸º13é™¤ä»¥5ï¼Œä½™3)</em></li>
</ul>
<p>Solidity è¿˜æ”¯æŒ *<strong>ä¹˜æ–¹æ“ä½œ*</strong> (å¦‚ï¼šx çš„ yæ¬¡æ–¹ï¼‰ // ä¾‹å¦‚ï¼š 5 ** 2 = 25</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uint x = 5 ** 2; // equal to 5^2 = 25</span><br></pre></td></tr></tbody></table></figure>

<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>ä¸ºäº†ä¿è¯æˆ‘ä»¬çš„åƒµå°¸çš„DNAåªå«æœ‰16ä¸ªå­—ç¬¦ï¼Œæˆ‘ä»¬å…ˆé€ ä¸€ä¸ª<code>uint</code>æ•°æ®ï¼Œè®©å®ƒç­‰äº10^16ã€‚è¿™æ ·ä¸€æ¥ä»¥åæˆ‘ä»¬å¯ä»¥ç”¨æ¨¡è¿ç®—ç¬¦ <code>%</code> æŠŠä¸€ä¸ªæ•´æ•°å˜æˆ16ä½ã€‚</p>
<ol>
<li>å»ºç«‹ä¸€ä¸ª<code>uint</code>ç±»å‹çš„å˜é‡ï¼Œåå­—å«<code>dnaModulus</code>, ä»¤å…¶ç­‰äº <strong>10 çš„ <code>dnaDigits</code> æ¬¡æ–¹</strong>.</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory {</span><br><span class="line">    uint dnaDigits = 16;</span><br><span class="line">    uint dnaModulus = 10 ** dnaDigits;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬5ç« -ç»“æ„ä½“"><a href="#ç¬¬5ç« -ç»“æ„ä½“" class="headerlink" title="ç¬¬5ç« : ç»“æ„ä½“"></a>ç¬¬5ç« : ç»“æ„ä½“</h3><p>æœ‰æ—¶ä½ éœ€è¦æ›´å¤æ‚çš„æ•°æ®ç±»å‹ï¼ŒSolidity æä¾›äº† <strong>ç»“æ„ä½“</strong>:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">struct Person {</span><br><span class="line">  uint age;</span><br><span class="line">  string name;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç»“æ„ä½“å…è®¸ä½ ç”Ÿæˆä¸€ä¸ªæ›´å¤æ‚çš„æ•°æ®ç±»å‹ï¼Œå®ƒæœ‰å¤šä¸ªå±æ€§ã€‚</p>
<blockquote>
<p>æ³¨ï¼šæˆ‘ä»¬åˆšåˆšå¼•è¿›äº†ä¸€ä¸ªæ–°ç±»å‹, <code>string</code>ã€‚ å­—ç¬¦ä¸²ç”¨äºä¿å­˜ä»»æ„é•¿åº¦çš„ UTF-8 ç¼–ç æ•°æ®ã€‚ å¦‚ï¼š <code>string greeting = "Hello world!"</code>ã€‚</p>
</blockquote>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>åœ¨æˆ‘ä»¬çš„ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€äº›åƒµå°¸ï¼æ¯ä¸ªåƒµå°¸å°†æ‹¥æœ‰å¤šä¸ªå±æ€§ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªå±•ç¤ºç»“æ„ä½“çš„å®Œç¾ä¾‹å­ã€‚</p>
<ol>
<li>å»ºç«‹ä¸€ä¸ª<code>struct</code> å‘½åä¸º <code>Zombie</code>.</li>
<li>æˆ‘ä»¬çš„ <code>Zombie</code> ç»“æ„ä½“æœ‰ä¸¤ä¸ªå±æ€§ï¼š <code>name</code> (ç±»å‹ä¸º <code>string</code>), å’Œ <code>dna</code> (ç±»å‹ä¸º <code>uint</code>)ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory {</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = 16;</span><br><span class="line">    uint dnaModulus = 10 ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie {</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬6ç« -æ•°ç»„"><a href="#ç¬¬6ç« -æ•°ç»„" class="headerlink" title="ç¬¬6ç« : æ•°ç»„"></a>ç¬¬6ç« : æ•°ç»„</h3><p>å¦‚æœä½ æƒ³å»ºç«‹ä¸€ä¸ªé›†åˆï¼Œå¯ä»¥ç”¨ <strong>æ•°ç»„</strong>è¿™æ ·çš„æ•°æ®ç±»å‹. Solidity æ”¯æŒä¸¤ç§æ•°ç»„: <strong>é™æ€</strong>æ•°ç»„å’Œ<strong>åŠ¨æ€</strong>æ•°ç»„:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// å›ºå®šé•¿åº¦ä¸º2çš„é™æ€æ•°ç»„:</span><br><span class="line">uint[2] fixedArray;</span><br><span class="line">// å›ºå®šé•¿åº¦ä¸º5çš„stringç±»å‹çš„é™æ€æ•°ç»„:</span><br><span class="line">string[5] stringArray;</span><br><span class="line">// åŠ¨æ€æ•°ç»„ï¼Œé•¿åº¦ä¸å›ºå®šï¼Œå¯ä»¥åŠ¨æ€æ·»åŠ å…ƒç´ :</span><br><span class="line">uint[] dynamicArray;</span><br></pre></td></tr></tbody></table></figure>

<p>ä½ ä¹Ÿå¯ä»¥å»ºç«‹ä¸€ä¸ª <strong>ç»“æ„ä½“</strong>ç±»å‹çš„æ•°ç»„ ä¾‹å¦‚ï¼Œä¸Šä¸€ç« æåˆ°çš„ <code>Person</code>:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Person[] people; // è¿™æ˜¯åŠ¨æ€æ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥ä¸æ–­æ·»åŠ å…ƒç´ </span><br></pre></td></tr></tbody></table></figure>

<p>è®°ä½ï¼šçŠ¶æ€å˜é‡è¢«æ°¸ä¹…ä¿å­˜åœ¨åŒºå—é“¾ä¸­ã€‚æ‰€ä»¥åœ¨ä½ çš„åˆçº¦ä¸­åˆ›å»ºåŠ¨æ€æ•°ç»„æ¥ä¿å­˜æˆç»“æ„çš„æ•°æ®æ˜¯éå¸¸æœ‰æ„ä¹‰çš„ã€‚</p>
<p><strong>å…¬å…±æ•°ç»„</strong></p>
<p>ä½ å¯ä»¥å®šä¹‰ <code>public</code> æ•°ç»„, Solidity ä¼šè‡ªåŠ¨åˆ›å»º <strong>getter</strong> æ–¹æ³•. è¯­æ³•å¦‚ä¸‹:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Person[] public people;</span><br></pre></td></tr></tbody></table></figure>

<p>å…¶å®ƒçš„åˆçº¦å¯ä»¥ä»è¿™ä¸ªæ•°ç»„è¯»å–æ•°æ®ï¼ˆä½†ä¸èƒ½å†™å…¥æ•°æ®ï¼‰ï¼Œæ‰€ä»¥è¿™åœ¨åˆçº¦ä¸­æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„ä¿å­˜å…¬å…±æ•°æ®çš„æ¨¡å¼ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>ä¸ºäº†æŠŠä¸€ä¸ªåƒµå°¸éƒ¨é˜Ÿä¿å­˜åœ¨æˆ‘ä»¬çš„APPé‡Œï¼Œå¹¶ä¸”èƒ½å¤Ÿè®©å…¶å®ƒAPPçœ‹åˆ°è¿™äº›åƒµå°¸ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå…¬å…±æ•°ç»„ã€‚</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªæ•°æ®ç±»å‹ä¸º <code>Zombie</code> çš„ç»“æ„ä½“æ•°ç»„ï¼Œç”¨ <code>public</code> ä¿®é¥°ï¼Œå‘½åä¸ºï¼š<code>zombies</code>.</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory {</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = 16;</span><br><span class="line">    uint dnaModulus = 10 ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie {</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Zombie[] public zombies;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬7ç« -å®šä¹‰å‡½æ•°"><a href="#ç¬¬7ç« -å®šä¹‰å‡½æ•°" class="headerlink" title="ç¬¬7ç« : å®šä¹‰å‡½æ•°"></a>ç¬¬7ç« : å®šä¹‰å‡½æ•°</h3><p>åœ¨ Solidity ä¸­å‡½æ•°å®šä¹‰çš„å¥æ³•å¦‚ä¸‹:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function eatHamburgers(string _name, uint _amount) {</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ˜¯ä¸€ä¸ªåä¸º <code>eatHamburgers</code> çš„å‡½æ•°ï¼Œå®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ª <code>string</code>ç±»å‹çš„ å’Œ ä¸€ä¸ª <code>uint</code>ç±»å‹çš„ã€‚ç°åœ¨å‡½æ•°å†…éƒ¨è¿˜æ˜¯ç©ºçš„ã€‚</p>
<blockquote>
<p>æ³¨ï¼š: ä¹ æƒ¯ä¸Šå‡½æ•°é‡Œçš„å˜é‡éƒ½æ˜¯ä»¥(<code>_</code>)å¼€å¤´ (ä½†ä¸æ˜¯ç¡¬æ€§è§„å®š) ä»¥åŒºåˆ«å…¨å±€å˜é‡ã€‚æˆ‘ä»¬æ•´ä¸ªæ•™ç¨‹éƒ½ä¼šæ²¿ç”¨è¿™ä¸ªä¹ æƒ¯ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬çš„å‡½æ•°å®šä¹‰å¦‚ä¸‹:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eatHamburgers("vitalik", 100);</span><br></pre></td></tr></tbody></table></figure>

<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>åœ¨æˆ‘ä»¬çš„åº”ç”¨é‡Œï¼Œæˆ‘ä»¬è¦èƒ½åˆ›å»ºä¸€äº›åƒµå°¸ï¼Œè®©æˆ‘ä»¬å†™ä¸€ä¸ªå‡½æ•°åšè¿™ä»¶äº‹å§ï¼</p>
<ol>
<li>å»ºç«‹ä¸€ä¸ªå‡½æ•° <code>createZombie</code>ã€‚ å®ƒæœ‰ä¸¤ä¸ªå‚æ•°: <strong>_name</strong> (ç±»å‹ä¸º<code>string</code>), å’Œ <strong>_dna</strong> (ç±»å‹ä¸º<code>uint</code>)ã€‚</li>
</ol>
<p>æš‚æ—¶è®©å‡½æ•°ç©ºç€â€”â€”æˆ‘ä»¬åœ¨åé¢ä¼šå¢åŠ å†…å®¹ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory {</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = 16;</span><br><span class="line">    uint dnaModulus = 10 ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie {</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Zombie[] public zombies;</span><br><span class="line"></span><br><span class="line">    function createZombie(string _name, uint _dna) {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬8ç« -ä½¿ç”¨ç»“æ„ä½“å’Œæ•°ç»„"><a href="#ç¬¬8ç« -ä½¿ç”¨ç»“æ„ä½“å’Œæ•°ç»„" class="headerlink" title="ç¬¬8ç« : ä½¿ç”¨ç»“æ„ä½“å’Œæ•°ç»„"></a>ç¬¬8ç« : ä½¿ç”¨ç»“æ„ä½“å’Œæ•°ç»„</h3><p><strong>åˆ›å»ºæ–°çš„ç»“æ„ä½“</strong></p>
<p>è¿˜è®°å¾—ä¸Šä¸ªä¾‹å­ä¸­çš„ <code>Person</code> ç»“æ„å—ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">struct Person {</span><br><span class="line">  uint age;</span><br><span class="line">  string name;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Person[] public people;</span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨æˆ‘ä»¬å­¦ä¹ åˆ›å»ºæ–°çš„ <code>Person</code> ç»“æ„ï¼Œç„¶åæŠŠå®ƒåŠ å…¥åˆ°åä¸º <code>people</code> çš„æ•°ç»„ä¸­.</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// åˆ›å»ºä¸€ä¸ªæ–°çš„Person:</span><br><span class="line">Person satoshi = Person(172, "Satoshi");</span><br><span class="line"></span><br><span class="line">// å°†æ–°åˆ›å»ºçš„satoshiæ·»åŠ è¿›peopleæ•°ç»„:</span><br><span class="line">people.push(satoshi);</span><br></pre></td></tr></tbody></table></figure>

<p>ä½ ä¹Ÿå¯ä»¥ä¸¤æ­¥å¹¶ä¸€æ­¥ï¼Œç”¨ä¸€è¡Œä»£ç æ›´ç®€æ´:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">people.push(Person(16, "Vitalik"));</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>æ³¨ï¼š<code>array.push()</code> åœ¨æ•°ç»„çš„ <strong>å°¾éƒ¨</strong> åŠ å…¥æ–°å…ƒç´  ï¼Œæ‰€ä»¥å…ƒç´ åœ¨æ•°ç»„ä¸­çš„é¡ºåºå°±æ˜¯æˆ‘ä»¬æ·»åŠ çš„é¡ºåºï¼Œ å¦‚:</p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">uint[] numbers;</span><br><span class="line">numbers.push(5);</span><br><span class="line">numbers.push(10);</span><br><span class="line">numbers.push(15);</span><br><span class="line">// The `numbers` array is now equal to [5, 10, 15]</span><br></pre></td></tr></tbody></table></figure>

<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>è®©æˆ‘ä»¬åˆ›å»ºåä¸ºcreateZombieçš„å‡½æ•°æ¥åšç‚¹å„¿ä»€ä¹ˆå§ã€‚</p>
<ol>
<li>åœ¨å‡½æ•°ä½“é‡Œæ–°åˆ›å»ºä¸€ä¸ª <code>Zombie</code>ï¼Œ ç„¶åæŠŠå®ƒåŠ å…¥ <code>zombies</code> æ•°ç»„ä¸­ã€‚ æ–°åˆ›å»ºçš„åƒµå°¸çš„ <code>name</code> å’Œ <code>dna</code>ï¼Œæ¥è‡ªäºå‡½æ•°çš„å‚æ•°ã€‚</li>
<li>è®©æˆ‘ä»¬ç”¨ä¸€è¡Œä»£ç ç®€æ´åœ°å®Œæˆå®ƒã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory {</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = 16;</span><br><span class="line">    uint dnaModulus = 10 ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie {</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Zombie[] public zombies;</span><br><span class="line"></span><br><span class="line">    function createZombie(string _name, uint _dna) {</span><br><span class="line">        zombies.push(Zombie(_name, _dna));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬9ç« -ç§æœ‰-å…¬å…±å‡½æ•°"><a href="#ç¬¬9ç« -ç§æœ‰-å…¬å…±å‡½æ•°" class="headerlink" title="ç¬¬9ç« : ç§æœ‰ / å…¬å…±å‡½æ•°"></a>ç¬¬9ç« : ç§æœ‰ / å…¬å…±å‡½æ•°</h3><p>Solidity å®šä¹‰çš„å‡½æ•°çš„å±æ€§é»˜è®¤ä¸º<code>å…¬å…±</code>ã€‚ è¿™å°±æ„å‘³ç€ä»»ä½•ä¸€æ–¹ (æˆ–å…¶å®ƒåˆçº¦) éƒ½å¯ä»¥è°ƒç”¨ä½ åˆçº¦é‡Œçš„å‡½æ•°ã€‚</p>
<p>æ˜¾ç„¶ï¼Œä¸æ˜¯ä»€ä¹ˆæ—¶å€™éƒ½éœ€è¦è¿™æ ·ï¼Œè€Œä¸”è¿™æ ·çš„åˆçº¦æ˜“äºå—åˆ°æ”»å‡»ã€‚ æ‰€ä»¥å°†è‡ªå·±çš„å‡½æ•°å®šä¹‰ä¸º<code>ç§æœ‰</code>æ˜¯ä¸€ä¸ªå¥½çš„ç¼–ç¨‹ä¹ æƒ¯ï¼Œåªæœ‰å½“ä½ éœ€è¦å¤–éƒ¨ä¸–ç•Œè°ƒç”¨å®ƒæ—¶æ‰å°†å®ƒè®¾ç½®ä¸º<code>å…¬å…±</code>ã€‚</p>
<p>å¦‚ä½•å®šä¹‰ä¸€ä¸ªç§æœ‰çš„å‡½æ•°å‘¢ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">uint[] numbers;</span><br><span class="line"></span><br><span class="line">function _addToArray(uint _number) private {</span><br><span class="line">  numbers.push(_number);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ„å‘³ç€åªæœ‰æˆ‘ä»¬åˆçº¦ä¸­çš„å…¶å®ƒå‡½æ•°æ‰èƒ½å¤Ÿè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œç»™ <code>numbers</code> æ•°ç»„æ·»åŠ æ–°æˆå‘˜ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨**<u>å‡½æ•°åå­—åé¢ä½¿ç”¨å…³é”®å­— <code>private</code> å³å¯</u><strong>ã€‚</strong><u>å’Œå‡½æ•°çš„å‚æ•°ç±»ä¼¼ï¼Œç§æœ‰å‡½æ•°çš„åå­—ç”¨(<code>_</code>)èµ·å§‹ã€‚</u>**</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬åˆçº¦çš„å‡½æ•° <code>createZombie</code> çš„é»˜è®¤å±æ€§æ˜¯å…¬å…±çš„ï¼Œè¿™æ„å‘³ç€ä»»ä½•ä¸€æ–¹éƒ½å¯ä»¥è°ƒç”¨å®ƒå»åˆ›å»ºä¸€ä¸ªåƒµå°¸ã€‚ å’±ä»¬æ¥æŠŠå®ƒå˜æˆç§æœ‰å§ï¼</p>
<ol>
<li>å˜ <code>createZombie</code> ä¸ºç§æœ‰å‡½æ•°ï¼Œä¸è¦å¿˜è®°éµå®ˆå‘½åçš„è§„çŸ©å“¦ï¼</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory {</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = 16;</span><br><span class="line">    uint dnaModulus = 10 ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie {</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Zombie[] public zombies;</span><br><span class="line"></span><br><span class="line">    function _createZombie(string _name, uint _dna) private {</span><br><span class="line">        zombies.push(Zombie(_name, _dna));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬10ç« -å‡½æ•°çš„æ›´å¤šå±æ€§"><a href="#ç¬¬10ç« -å‡½æ•°çš„æ›´å¤šå±æ€§" class="headerlink" title="ç¬¬10ç« : å‡½æ•°çš„æ›´å¤šå±æ€§"></a>ç¬¬10ç« : å‡½æ•°çš„æ›´å¤šå±æ€§</h3><p>æœ¬ç« ä¸­æˆ‘ä»¬å°†å­¦ä¹ å‡½æ•°çš„è¿”å›å€¼å’Œä¿®é¥°ç¬¦ã€‚</p>
<p><strong>è¿”å›å€¼</strong></p>
<p>è¦æƒ³å‡½æ•°è¿”å›ä¸€ä¸ªæ•°å€¼ï¼ŒæŒ‰å¦‚ä¸‹å®šä¹‰ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">string greeting = "What's up dog";</span><br><span class="line"></span><br><span class="line">function sayHello() public returns (string) {</span><br><span class="line">  return greeting;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>Solidity é‡Œï¼Œå‡½æ•°çš„å®šä¹‰é‡Œå¯åŒ…å«è¿”å›å€¼çš„æ•°æ®ç±»å‹(å¦‚æœ¬ä¾‹ä¸­ <code>string</code>)ã€‚</p>
<p><strong>å‡½æ•°çš„ä¿®é¥°ç¬¦</strong></p>
<p>ä¸Šé¢çš„å‡½æ•°å®é™…ä¸Šæ²¡æœ‰æ”¹å˜ Solidity é‡Œçš„çŠ¶æ€ï¼Œå³ï¼Œå®ƒæ²¡æœ‰æ”¹å˜ä»»ä½•å€¼æˆ–è€…å†™ä»»ä½•ä¸œè¥¿ã€‚</p>
<p>è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥æŠŠå‡½æ•°å®šä¹‰ä¸º <strong>view</strong>, æ„å‘³ç€å®ƒåªèƒ½è¯»å–æ•°æ®ä¸èƒ½æ›´æ”¹æ•°æ®:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function sayHello() public view returns (string) {</span><br></pre></td></tr></tbody></table></figure>

<p>Solidity è¿˜æ”¯æŒ <strong>pure</strong> å‡½æ•°, è¡¨æ˜è¿™ä¸ªå‡½æ•°ç”šè‡³éƒ½ä¸è®¿é—®åº”ç”¨é‡Œçš„æ•°æ®ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function _multiply(uint a, uint b) private pure returns (uint) {</span><br><span class="line">  return a * b;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><u><strong>è¿™ä¸ªå‡½æ•°ç”šè‡³éƒ½ä¸è¯»å–åº”ç”¨é‡Œçš„çŠ¶æ€ â€” å®ƒçš„è¿”å›å€¼å®Œå…¨å–å†³äºå®ƒçš„è¾“å…¥å‚æ•°ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬æŠŠå‡½æ•°å®šä¹‰ä¸º pure.</strong></u></p>
<blockquote>
<p>æ³¨ï¼šå¯èƒ½å¾ˆéš¾è®°ä½ä½•æ—¶æŠŠå‡½æ•°æ ‡è®°ä¸º pure/viewã€‚ å¹¸è¿çš„æ˜¯ï¼Œ Solidity ç¼–è¾‘å™¨ä¼šç»™å‡ºæç¤ºï¼Œæé†’ä½ ä½¿ç”¨è¿™äº›ä¿®é¥°ç¬¦ã€‚</p>
</blockquote>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬æƒ³å»ºç«‹ä¸€ä¸ªå¸®åŠ©å‡½æ•°ï¼Œå®ƒæ ¹æ®ä¸€ä¸ªå­—ç¬¦ä¸²éšæœºç”Ÿæˆä¸€ä¸ªDNAæ•°æ®ã€‚</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ª <code>private</code> å‡½æ•°ï¼Œå‘½åä¸º <code>_generateRandomDna</code>ã€‚å®ƒåªæ¥æ”¶ä¸€ä¸ªè¾“å…¥å˜é‡ <code>_str</code> (ç±»å‹ <code>string</code>), è¿”å›ä¸€ä¸ª <code>uint</code> ç±»å‹çš„æ•°å€¼ã€‚</li>
<li>æ­¤å‡½æ•°åªè¯»å–æˆ‘ä»¬åˆçº¦ä¸­çš„ä¸€äº›å˜é‡ï¼Œæ‰€ä»¥æ ‡è®°ä¸º<code>view</code>ã€‚</li>
<li>å‡½æ•°å†…éƒ¨æš‚æ—¶ç•™ç©ºï¼Œä»¥åæˆ‘ä»¬å†æ·»åŠ ä»£ç ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory {</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = 16;</span><br><span class="line">    uint dnaModulus = 10 ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie {</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Zombie[] public zombies;</span><br><span class="line"></span><br><span class="line">    function _createZombie(string _name, uint _dna) private {</span><br><span class="line">        zombies.push(Zombie(_name, _dna));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function _generateRandomDna(string _str) private view returns (uint) {</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬11ç« -Keccak256-å’Œ-ç±»å‹è½¬æ¢"><a href="#ç¬¬11ç« -Keccak256-å’Œ-ç±»å‹è½¬æ¢" class="headerlink" title="ç¬¬11ç« : Keccak256 å’Œ ç±»å‹è½¬æ¢"></a>ç¬¬11ç« : Keccak256 å’Œ ç±»å‹è½¬æ¢</h3><p>å¦‚ä½•è®© <code>_generateRandomDna</code> å‡½æ•°è¿”å›ä¸€ä¸ªå…¨(åŠ) éšæœºçš„ <code>uint</code>?</p>
<p>Ethereum å†…éƒ¨æœ‰ä¸€ä¸ªæ•£åˆ—å‡½æ•°<code>keccak256</code>ï¼Œå®ƒç”¨äº†SHA3ç‰ˆæœ¬ã€‚ä¸€ä¸ªæ•£åˆ—å‡½æ•°åŸºæœ¬ä¸Šå°±æ˜¯æŠŠä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ª256ä½çš„16è¿›åˆ¶æ•°å­—ã€‚å­—ç¬¦ä¸²çš„ä¸€ä¸ªå¾®å°å˜åŒ–ä¼šå¼•èµ·æ•£åˆ—æ•°æ®æå¤§å˜åŒ–ã€‚</p>
<p>è¿™åœ¨ Ethereum ä¸­æœ‰å¾ˆå¤šåº”ç”¨ï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬åªæ˜¯ç”¨å®ƒé€ ä¸€ä¸ªä¼ªéšæœºæ•°ã€‚</p>
<p>ä¾‹å­:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//6e91ec6b618bb462a4a6ee5aa2cb0e9cf30f7a052bb467b0ba58b8748c00d2e5</span><br><span class="line">keccak256("aaaab");</span><br><span class="line">//b1f078126895a1424524de5321b339ab00408010b7cf0e6ed451514981e58aa9</span><br><span class="line">keccak256("aaaac");</span><br></pre></td></tr></tbody></table></figure>

<p>æ˜¾è€Œæ˜“è§ï¼Œè¾“å…¥å­—ç¬¦ä¸²åªæ”¹å˜äº†ä¸€ä¸ªå­—æ¯ï¼Œè¾“å‡ºå°±å·²ç»å¤©å£¤ä¹‹åˆ«äº†ã€‚</p>
<blockquote>
<p>æ³¨: åœ¨åŒºå—é“¾ä¸­<strong>å®‰å…¨åœ°</strong>äº§ç”Ÿä¸€ä¸ªéšæœºæ•°æ˜¯ä¸€ä¸ªå¾ˆéš¾çš„é—®é¢˜ï¼Œ æœ¬ä¾‹çš„æ–¹æ³•ä¸å®‰å…¨ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬çš„Zombie DNAç®—æ³•é‡Œä¸æ˜¯é‚£ä¹ˆé‡è¦ï¼Œå·²ç»å¾ˆå¥½åœ°æ»¡è¶³æˆ‘ä»¬çš„éœ€è¦äº†ã€‚</p>
</blockquote>
<p><strong>ç±»å‹è½¬æ¢</strong></p>
<p>æœ‰æ—¶ä½ éœ€è¦å˜æ¢æ•°æ®ç±»å‹ã€‚ä¾‹å¦‚:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">uint8 a = 5;</span><br><span class="line">uint b = 6;</span><br><span class="line">// å°†ä¼šæŠ›å‡ºé”™è¯¯ï¼Œå› ä¸º a * b è¿”å› uint, è€Œä¸æ˜¯ uint8:</span><br><span class="line">uint8 c = a * b;</span><br><span class="line">// æˆ‘ä»¬éœ€è¦å°† b è½¬æ¢ä¸º uint8:</span><br><span class="line">uint8 c = a * uint8(b);</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢, <code>a * b</code> è¿”å›ç±»å‹æ˜¯ <code>uint</code>, ä½†æ˜¯å½“æˆ‘ä»¬å°è¯•ç”¨ <code>uint8</code> ç±»å‹æ¥æ”¶æ—¶, å°±ä¼šé€ æˆæ½œåœ¨çš„é”™è¯¯ã€‚å¦‚æœæŠŠå®ƒçš„æ•°æ®ç±»å‹è½¬æ¢ä¸º <code>uint8</code>, å°±å¯ä»¥äº†ï¼Œç¼–è¯‘å™¨ä¹Ÿä¸ä¼šå‡ºé”™ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>ç»™ <code>_generateRandomDna</code> å‡½æ•°æ·»åŠ ä»£ç ! å®ƒåº”è¯¥å®Œæˆå¦‚ä¸‹åŠŸèƒ½:</p>
<ol>
<li>ç¬¬ä¸€è¡Œä»£ç å– <code>_str</code> çš„ <code>keccak256</code> æ•£åˆ—å€¼ç”Ÿæˆä¸€ä¸ªä¼ªéšæœºåå…­è¿›åˆ¶æ•°ï¼Œç±»å‹è½¬æ¢ä¸º <code>uint</code>, æœ€åä¿å­˜åœ¨ç±»å‹ä¸º <code>uint</code> åä¸º <code>rand</code> çš„å˜é‡ä¸­ã€‚</li>
<li>æˆ‘ä»¬åªæƒ³è®©æˆ‘ä»¬çš„DNAçš„é•¿åº¦ä¸º16ä½ (è¿˜è®°å¾— <code>dnaModulus</code>?)ã€‚æ‰€ä»¥ç¬¬äºŒè¡Œä»£ç åº”è¯¥ <code>return</code> ä¸Šé¢è®¡ç®—çš„æ•°å€¼å¯¹ <code>dnaModulus</code> æ±‚ä½™æ•°(<code>%</code>)ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory {</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = 16;</span><br><span class="line">    uint dnaModulus = 10 ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie {</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Zombie[] public zombies;</span><br><span class="line"></span><br><span class="line">    function _createZombie(string _name, uint _dna) private {</span><br><span class="line">        zombies.push(Zombie(_name, _dna));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function _generateRandomDna(string _str) private view returns (uint) {</span><br><span class="line">        uint rand = uint(keccak256(_str));</span><br><span class="line">        return rand % dnaModulus;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬12ç« -æ”¾åœ¨ä¸€èµ·"><a href="#ç¬¬12ç« -æ”¾åœ¨ä¸€èµ·" class="headerlink" title="ç¬¬12ç« : æ”¾åœ¨ä¸€èµ·"></a>ç¬¬12ç« : æ”¾åœ¨ä¸€èµ·</h3><p>æˆ‘ä»¬å°±å¿«å®Œæˆæˆ‘ä»¬çš„éšæœºåƒµå°¸åˆ¶é€ å™¨äº†ï¼Œæ¥å†™ä¸€ä¸ªå…¬å…±çš„å‡½æ•°æŠŠæ‰€æœ‰çš„éƒ¨ä»¶è¿æ¥èµ·æ¥ã€‚</p>
<p>å†™ä¸€ä¸ªå…¬å…±å‡½æ•°ï¼Œå®ƒæœ‰ä¸€ä¸ªå‚æ•°ï¼Œç”¨æ¥æ¥æ”¶åƒµå°¸çš„åå­—ï¼Œä¹‹åç”¨å®ƒç”Ÿæˆåƒµå°¸çš„DNAã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li>åˆ›å»ºä¸€ä¸ª <code>public</code> å‡½æ•°ï¼Œå‘½åä¸º <code>createRandomZombie</code>. å®ƒå°†è¢«ä¼ å…¥ä¸€ä¸ªå˜é‡ <code>_name</code> (æ•°æ®ç±»å‹æ˜¯ <code>string</code>)ã€‚ *(æ³¨: å®šä¹‰å…¬å…±å‡½æ•° <code>public</code> å’Œå®šä¹‰ä¸€ä¸ªç§æœ‰ <code>private</code> å‡½æ•°çš„åšæ³•ä¸€æ ·)*ã€‚</li>
<li>å‡½æ•°çš„ç¬¬ä¸€è¡Œåº”è¯¥è°ƒç”¨ <code>_generateRandomDna</code> å‡½æ•°ï¼Œä¼ å…¥ <code>_name</code> å‚æ•°, ç»“æœä¿å­˜åœ¨ä¸€ä¸ªç±»å‹ä¸º <code>uint</code> çš„å˜é‡é‡Œï¼Œå‘½åä¸º <code>randDna</code>ã€‚</li>
<li>ç¬¬äºŒè¡Œè°ƒç”¨ <code>_createZombie</code> å‡½æ•°ï¼Œ ä¼ å…¥å‚æ•°ï¼š <code>_name</code> å’Œ <code>randDna</code>ã€‚</li>
<li>æ•´ä¸ªå‡½æ•°åº”è¯¥æ˜¯4è¡Œä»£ç  (åŒ…æ‹¬å‡½æ•°çš„ç»“æŸç¬¦å· <code>}</code> )ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory {</span><br><span class="line"></span><br><span class="line">    // è¿™é‡Œå»ºç«‹äº‹ä»¶</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = 16;</span><br><span class="line">    uint dnaModulus = 10 ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie {</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Zombie[] public zombies;</span><br><span class="line"></span><br><span class="line">    function _createZombie(string _name, uint _dna) private {</span><br><span class="line">        zombies.push(Zombie(_name, _dna));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function _generateRandomDna(string _str) private view returns (uint) {</span><br><span class="line">        uint rand = uint(keccak256(_str));</span><br><span class="line">        return rand % dnaModulus;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function createRandomZombie(string _name) public {</span><br><span class="line">        uint randDna = _generateRandomDna(_name);</span><br><span class="line">        _createZombie(_name, randDna);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬13ç« -äº‹ä»¶"><a href="#ç¬¬13ç« -äº‹ä»¶" class="headerlink" title="ç¬¬13ç« : äº‹ä»¶"></a>ç¬¬13ç« : äº‹ä»¶</h3><p>æˆ‘ä»¬çš„åˆçº¦å‡ ä¹å°±è¦å®Œæˆäº†ï¼è®©æˆ‘ä»¬åŠ ä¸Šä¸€ä¸ª<strong>äº‹ä»¶</strong>.</p>
<p><strong>äº‹ä»¶</strong> æ˜¯åˆçº¦å’ŒåŒºå—é“¾é€šè®¯çš„ä¸€ç§æœºåˆ¶ã€‚ä½ çš„å‰ç«¯åº”ç”¨â€œç›‘å¬â€æŸäº›äº‹ä»¶ï¼Œå¹¶åšå‡ºååº”ã€‚</p>
<p>ä¾‹å­:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// è¿™é‡Œå»ºç«‹äº‹ä»¶</span><br><span class="line">event IntegersAdded(uint x, uint y, uint result);</span><br><span class="line"></span><br><span class="line">function add(uint _x, uint _y) public {</span><br><span class="line">  uint result = _x + _y;</span><br><span class="line">  //è§¦å‘äº‹ä»¶ï¼Œé€šçŸ¥app</span><br><span class="line">  IntegersAdded(_x, _y, result);</span><br><span class="line">  return result;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä½ çš„ app å‰ç«¯å¯ä»¥ç›‘å¬è¿™ä¸ªäº‹ä»¶ã€‚JavaScript å®ç°å¦‚ä¸‹:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">YourContract.IntegersAdded(function(error, result) {</span><br><span class="line">  // å¹²äº›äº‹</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬æƒ³æ¯å½“ä¸€ä¸ªåƒµå°¸åˆ›é€ å‡ºæ¥æ—¶ï¼Œæˆ‘ä»¬çš„å‰ç«¯éƒ½èƒ½ç›‘å¬åˆ°è¿™ä¸ªäº‹ä»¶ï¼Œå¹¶å°†å®ƒæ˜¾ç¤ºå‡ºæ¥ã€‚</p>
<p>1ã€‚ å®šä¹‰ä¸€ä¸ª <code>äº‹ä»¶</code> å«åš <code>NewZombie</code>ã€‚ å®ƒæœ‰3ä¸ªå‚æ•°: <code>zombieId</code> (<code>uint</code>)ï¼Œ <code>name</code> (<code>string</code>)ï¼Œ å’Œ <code>dna</code> (<code>uint</code>)ã€‚</p>
<p>2ã€‚ ä¿®æ”¹ <code>_createZombie</code> å‡½æ•°ä½¿å¾—å½“æ–°åƒµå°¸é€ å‡ºæ¥å¹¶åŠ å…¥ <code>zombies</code>æ•°ç»„åï¼Œç”Ÿæˆäº‹ä»¶<code>NewZombie</code>ã€‚</p>
<p>3ã€‚ éœ€è¦å®šä¹‰åƒµå°¸<code>id</code>ã€‚ <code>array.push()</code> è¿”å›æ•°ç»„çš„é•¿åº¦ç±»å‹æ˜¯<code>uint</code> - å› ä¸ºæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•æ˜¯ 0ï¼Œ <code>array.push() - 1</code> å°†æ˜¯æˆ‘ä»¬åŠ å…¥çš„åƒµå°¸çš„ç´¢å¼•ã€‚ <code>zombies.push() - 1</code> å°±æ˜¯ <code>id</code>ï¼Œæ•°æ®ç±»å‹æ˜¯ <code>uint</code>ã€‚åœ¨ä¸‹ä¸€è¡Œä¸­ä½ å¯ä»¥æŠŠå®ƒç”¨åˆ° <code>NewZombie</code> äº‹ä»¶ä¸­ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory {</span><br><span class="line">	</span><br><span class="line">	// è¿™é‡Œå»ºç«‹äº‹ä»¶</span><br><span class="line">    event NewZombie(uint zombieId, string name, uint dna);</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = 16;</span><br><span class="line">    uint dnaModulus = 10 ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie {</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Zombie[] public zombies;</span><br><span class="line"></span><br><span class="line">    function _createZombie(string _name, uint _dna) private {</span><br><span class="line">        uint id = zombies.push(Zombie(_name, _dna)) - 1;</span><br><span class="line">        //// è¿™é‡Œè§¦å‘äº‹ä»¶</span><br><span class="line">        NewZombie(id, _name, _dna);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function _generateRandomDna(string _str) private view returns (uint) {</span><br><span class="line">        uint rand = uint(keccak256(_str));</span><br><span class="line">        return rand % dnaModulus;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function createRandomZombie(string _name) public {</span><br><span class="line">        uint randDna = _generateRandomDna(_name);</span><br><span class="line">        _createZombie(_name, randDna);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬14ç« -Web3-js"><a href="#ç¬¬14ç« -Web3-js" class="headerlink" title="ç¬¬14ç« : Web3.js"></a>ç¬¬14ç« : Web3.js</h3><p>æˆ‘ä»¬çš„ Solidity åˆçº¦å®Œå·¥äº†ï¼ ç°åœ¨æˆ‘ä»¬è¦å†™ä¸€æ®µ JavaScript å‰ç«¯ä»£ç æ¥è°ƒç”¨è¿™ä¸ªåˆçº¦ã€‚</p>
<p>ä»¥å¤ªåŠæœ‰ä¸€ä¸ª JavaScript åº“ï¼Œåä¸º<strong>Web3.js</strong>ã€‚</p>
<p>åœ¨åé¢çš„è¯¾ç¨‹é‡Œï¼Œæˆ‘ä»¬ä¼šè¿›ä¸€æ­¥åœ°æ•™ä½ å¦‚ä½•å®‰è£…ä¸€ä¸ªåˆçº¦ï¼Œå¦‚ä½•è®¾ç½®Web3.jsã€‚ ä½†æ˜¯ç°åœ¨æˆ‘ä»¬é€šè¿‡ä¸€æ®µä»£ç æ¥äº†è§£ Web3.js æ˜¯å¦‚ä½•å’Œæˆ‘ä»¬å‘å¸ƒçš„åˆçº¦äº¤äº’çš„å§ã€‚</p>
<p>å¦‚æœä¸‹é¢çš„ä»£ç ä½ ä¸èƒ½å…¨éƒ½ç†è§£ï¼Œä¸ç”¨æ‹…å¿ƒã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸‹é¢æ˜¯è°ƒç”¨åˆçº¦çš„æ–¹å¼:</span></span><br><span class="line"><span class="keyword">var</span> abi = <span class="comment">/* abiæ˜¯ç”±ç¼–è¯‘å™¨ç”Ÿæˆçš„ */</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">ZombieFactoryContract</span> = web3.<span class="property">eth</span>.<span class="title function_">contract</span>(abi)</span><br><span class="line"><span class="keyword">var</span> contractAddress = <span class="comment">/* å‘å¸ƒä¹‹ååœ¨ä»¥å¤ªåŠä¸Šç”Ÿæˆçš„åˆçº¦åœ°å€ */</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">ZombieFactory</span> = <span class="title class_">ZombieFactoryContract</span>.<span class="title function_">at</span>(contractAddress)</span><br><span class="line"><span class="comment">// `ZombieFactory` èƒ½è®¿é—®å…¬å…±çš„å‡½æ•°ä»¥åŠäº‹ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸä¸ªç›‘å¬æ–‡æœ¬è¾“å…¥çš„ç›‘å¬å™¨:</span></span><br><span class="line">$(<span class="string">"#ourButton"</span>).<span class="title function_">click</span>(<span class="keyword">function</span>(<span class="params">e</span>) {</span><br><span class="line">  <span class="keyword">var</span> name = $(<span class="string">"#nameInput"</span>).<span class="title function_">val</span>()</span><br><span class="line">  <span class="comment">//è°ƒç”¨åˆçº¦çš„ `createRandomZombie` å‡½æ•°:</span></span><br><span class="line">  <span class="title class_">ZombieFactory</span>.<span class="title function_">createRandomZombie</span>(name)</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬ `NewZombie` äº‹ä»¶, å¹¶ä¸”æ›´æ–°UI</span></span><br><span class="line"><span class="keyword">var</span> event = <span class="title class_">ZombieFactory</span>.<span class="title class_">NewZombie</span>(<span class="keyword">function</span>(<span class="params">error, result</span>) {</span><br><span class="line">  <span class="keyword">if</span> (error) <span class="keyword">return</span></span><br><span class="line">  <span class="title function_">generateZombie</span>(result.<span class="property">zombieId</span>, result.<span class="property">name</span>, result.<span class="property">dna</span>)</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å– Zombie çš„ dna, æ›´æ–°å›¾åƒ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">generateZombie</span>(<span class="params">id, name, dna</span>) {</span><br><span class="line">  <span class="keyword">let</span> dnaStr = <span class="title class_">String</span>(dna)</span><br><span class="line">  <span class="comment">// å¦‚æœdnaå°‘äº16ä½,åœ¨å®ƒå‰é¢ç”¨0è¡¥ä¸Š</span></span><br><span class="line">  <span class="keyword">while</span> (dnaStr.<span class="property">length</span> &lt; <span class="number">16</span>)</span><br><span class="line">    dnaStr = <span class="string">"0"</span> + dnaStr</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> zombieDetails = {</span><br><span class="line">    <span class="comment">// å‰ä¸¤ä½æ•°æ„æˆå¤´éƒ¨.æˆ‘ä»¬å¯èƒ½æœ‰7ç§å¤´éƒ¨, æ‰€ä»¥ % 7</span></span><br><span class="line">    <span class="comment">// å¾—åˆ°çš„æ•°åœ¨0-6,å†åŠ ä¸Š1,æ•°çš„èŒƒå›´å˜æˆ1-7</span></span><br><span class="line">    <span class="comment">// é€šè¿‡è¿™æ ·è®¡ç®—ï¼š</span></span><br><span class="line">    <span class="attr">headChoice</span>: dnaStr.<span class="title function_">substring</span>(<span class="number">0</span>, <span class="number">2</span>) % <span class="number">7</span> + <span class="number">1</span>ï¼Œ</span><br><span class="line">    <span class="comment">// æˆ‘ä»¬å¾—åˆ°çš„å›¾ç‰‡åç§°ä»head1.png åˆ° head7.png</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¥ä¸‹æ¥çš„ä¸¤ä½æ•°æ„æˆçœ¼ç›, çœ¼ç›å˜åŒ–å°±å¯¹11å–æ¨¡:</span></span><br><span class="line">    <span class="attr">eyeChoice</span>: dnaStr.<span class="title function_">substring</span>(<span class="number">2</span>, <span class="number">4</span>) % <span class="number">11</span> + <span class="number">1</span>,</span><br><span class="line">    <span class="comment">// å†æ¥ä¸‹æ¥çš„ä¸¤ä½æ•°æ„æˆè¡£æœï¼Œè¡£æœå˜åŒ–å°±å¯¹6å–æ¨¡:</span></span><br><span class="line">    <span class="attr">shirtChoice</span>: dnaStr.<span class="title function_">substring</span>(<span class="number">4</span>, <span class="number">6</span>) % <span class="number">6</span> + <span class="number">1</span>,</span><br><span class="line">    <span class="comment">//æœ€å6ä½æ§åˆ¶é¢œè‰². ç”¨cssé€‰æ‹©å™¨: hue-rotateæ¥æ›´æ–°</span></span><br><span class="line">    <span class="comment">// 360åº¦:</span></span><br><span class="line">    <span class="attr">skinColorChoice</span>: <span class="built_in">parseInt</span>(dnaStr.<span class="title function_">substring</span>(<span class="number">6</span>, <span class="number">8</span>) / <span class="number">100</span> * <span class="number">360</span>),</span><br><span class="line">    <span class="attr">eyeColorChoice</span>: <span class="built_in">parseInt</span>(dnaStr.<span class="title function_">substring</span>(<span class="number">8</span>, <span class="number">10</span>) / <span class="number">100</span> * <span class="number">360</span>),</span><br><span class="line">    <span class="attr">clothesColorChoice</span>: <span class="built_in">parseInt</span>(dnaStr.<span class="title function_">substring</span>(<span class="number">10</span>, <span class="number">12</span>) / <span class="number">100</span> * <span class="number">360</span>),</span><br><span class="line">    <span class="attr">zombieName</span>: name,</span><br><span class="line">    <span class="attr">zombieDescription</span>: <span class="string">"A Level 1 CryptoZombie"</span>,</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">return</span> zombieDetails</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬çš„ JavaScript æ‰€åšçš„å°±æ˜¯è·å–ç”±<code>zombieDetails</code> äº§ç”Ÿçš„æ•°æ®, å¹¶ä¸”åˆ©ç”¨æµè§ˆå™¨é‡Œçš„ JavaScript ç¥å¥‡åŠŸèƒ½ (æˆ‘ä»¬ç”¨ Vue.js)ï¼Œç½®æ¢å‡ºå›¾åƒä»¥åŠä½¿ç”¨CSSè¿‡æ»¤å™¨ã€‚åœ¨åé¢çš„è¯¾ç¨‹ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°å…¨éƒ¨çš„ä»£ç ã€‚</p>
<h1 id="8æœˆ9æ—¥"><a href="#8æœˆ9æ—¥" class="headerlink" title="8æœˆ9æ—¥"></a>8æœˆ9æ—¥</h1><table>
<thead>
<tr>
<th>ä»Šæ—¥å­¦ä¹ å†…å®¹</th>
</tr>
</thead>
<tbody><tr>
<td>å®‰å…¨ä¸åˆè§„</td>
</tr>
<tr>
<td>Chainlinké¢„è¨€æœºçš„solidityè¯¾ç¨‹</td>
</tr>
</tbody></table>
<h2 id="Chainlinké¢„è¨€æœºçš„solidityè¯¾ç¨‹"><a href="#Chainlinké¢„è¨€æœºçš„solidityè¯¾ç¨‹" class="headerlink" title="Chainlinké¢„è¨€æœºçš„solidityè¯¾ç¨‹"></a>Chainlinké¢„è¨€æœºçš„solidityè¯¾ç¨‹</h2><h3 id="solidityæ•°æ®ç±»å‹ã€å‡½æ•°ã€å­˜å‚¨æ¨¡å¼ã€æ•°æ®ç»“æ„"><a href="#solidityæ•°æ®ç±»å‹ã€å‡½æ•°ã€å­˜å‚¨æ¨¡å¼ã€æ•°æ®ç»“æ„" class="headerlink" title="solidityæ•°æ®ç±»å‹ã€å‡½æ•°ã€å­˜å‚¨æ¨¡å¼ã€æ•°æ®ç»“æ„"></a>solidityæ•°æ®ç±»å‹ã€å‡½æ•°ã€å­˜å‚¨æ¨¡å¼ã€æ•°æ®ç»“æ„</h3><p>ä»Šå¤©ä¸»è¦çœ‹äº†Bç«™Chainlinké¢„è¨€æœºçš„solidityè¯¾ç¨‹ï¼Œç„¶åè·Ÿç€ä½¿ç”¨remixå·¥å…·ï¼Œè¿›è¡Œç®€å•çš„åˆçº¦ç¼–å†™ä»¥åŠéƒ¨ç½²ï¼Œå­¦ä¹ åˆ°çš„åŒ…æ‹¬æ•°æ®ç»“æ„ã€å‡½æ•°ç­‰å†…å®¹ï¼Œåœ¨æ˜¨å¤©çš„CryptoZombiesxçš„è¯¾ç¨‹ä¸­ä¹Ÿéƒ½å­¦è¿‡ä¸€éï¼Œæ‰€ä»¥ä¹Ÿå°±ç®—æ˜¯å¤ä¹ ä¸€éäº†ã€‚</p>
<p>è¿˜æœ‰å°±æ˜¯ä½ è§‰å¾—è¿™ä¸ªè¯¾ç¨‹è®²çš„çœŸçš„å¾ˆå¥½ï¼Œä¸ä»…è®²è§£äº†å¯†ç å­¦ä¸­åŒ…æ‹¬å…¬ç§é’¥åŠ å¯†åŸç†ï¼Œç”šè‡³è¿˜è®²è§£äº†åŠ©è®°è¯äº§ç”Ÿè¿‡ç¨‹ä»¥åŠåŠ©è®°è¯ç”Ÿæˆç§é’¥çš„è¿‡ç¨‹ã€‚å¼ºçƒˆæ¨èï¼ï¼</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.30;</span><br><span class="line"></span><br><span class="line">contract HelloWorld{</span><br><span class="line">    string strVar = "HelloWorld";</span><br><span class="line">    struct Info {</span><br><span class="line">        string phrase;</span><br><span class="line">        uint256 id;</span><br><span class="line">        address addr; </span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Info[] infos;		//ç»“æ„ä½“æ•°ç»„</span><br><span class="line"></span><br><span class="line">    mapping(uint256 id =&gt; Info info) infoMapping;</span><br><span class="line"></span><br><span class="line">    function seyHello(uint256 _id) public view returns(string memory){</span><br><span class="line">    	//é€šè¿‡åˆ¤æ–­æ˜¯å¦å­˜åœ¨åœ°å€ï¼Œä»è€Œåˆ¤æ–­æ˜¯å¦å†™å…¥æˆåŠŸ</span><br><span class="line">    	//Mappingæ–¹å¼</span><br><span class="line">        if(infoMapping[_id].addr == address(0x0)){</span><br><span class="line">            return addinfo(strVar);</span><br><span class="line">        }</span><br><span class="line">        else {</span><br><span class="line">            return addinfo(infoMapping[_id].phrase);</span><br><span class="line">        }</span><br><span class="line">		//foréå†æ–¹å¼ï¼Œåœ¨infosæ•°ç»„å¾ˆå¤§æ—¶ï¼Œéå†æŸ¥è¯¢çš„æ¶ˆè€—å¤§ï¼Œæ‰€ä»¥å»ºè®®ä½¿ç”¨mappingé”®å€¼å¯¹æŸ¥è¯¢</span><br><span class="line">        // for(uint256 i=0; i &lt; infos.length; i++ ){</span><br><span class="line">        //     if(infos[i].id == _id){</span><br><span class="line">        //         return addinfo(infos[i].phrase);</span><br><span class="line">        //     }</span><br><span class="line">        // }</span><br><span class="line">        // return addinfo(strVar);</span><br><span class="line">    }</span><br><span class="line">    function setHelloWorld(string memory newString, uint256 _id) public {</span><br><span class="line">        Info memory info = Info(newString, _id, msg.sender);</span><br><span class="line">        infoMapping[_id] = info; </span><br><span class="line">    } </span><br><span class="line">    function addinfo(string memory helloWorldStr) internal pure returns(string memory){</span><br><span class="line">        return string.concat(helloWorldStr," from xxx's contract.");</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<p>SPDX-License-Identifierï¼šæ˜ç¡®å£°æ˜å…¶ä½¿ç”¨çš„å¼€æºè®¸å¯è¯ã€‚å®ƒé€šå¸¸ä»¥æ³¨é‡Šçš„å½¢å¼å‡ºç°åœ¨æ–‡ä»¶å¤´éƒ¨ï¼Œå¸®åŠ©å¼€å‘è€…ã€æ³•å¾‹å›¢é˜Ÿå’Œè‡ªåŠ¨åŒ–å·¥å…·å¿«é€Ÿè¯†åˆ«ä»£ç çš„è®¸å¯æ¡æ¬¾</p>
<p>viewï¼šå‡½æ•°ä¸­åªæœ‰è¯»å–æ“ä½œï¼Œæ²¡æœ‰ä¿®æ”¹æ“ä½œ</p>
<p>pureï¼šå‡½æ•°ä¸­ç§åªéœ€è¦è¿›è¡Œè¿ç®—ï¼Œä¸éœ€è¦è¯»å–ä»»ä½•å˜é‡</p>
<p>å››ä¸ªå¯è§åº¦æ ‡è¯†ç¬¦ï¼š</p>
<img src="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-09%20200259.png" style="zoom:67%;">

<p><strong>å­˜å‚¨æ¨¡å¼</strong>ï¼š</p>
<p>æ°¸ä¹…æ€§å­˜å‚¨ï¼šstorage</p>
<p>æš‚æ—¶æ€§å­˜å‚¨ï¼ˆäº¤æ˜“ç»“æŸåå€¼å°±æ¶ˆå¤±äº†ï¼‰ï¼šmemoryã€calldata</p>
<p>1ã€storageï¼šæ°¸ä¹…å­˜åœ¨åˆçº¦å†…ï¼Œåˆçº¦ä¸­å£°æ˜çš„é»˜è®¤æ˜¯è¯¥ç±»å‹ï¼Œä½†ä¸éœ€è¦æ˜¾ç¤ºå†™å‡ºè¯¥å…³é”®è¯</p>
<p>2ã€memoryï¼šå˜é‡åœ¨è¿è¡Œæ—¶å¯ä»¥æ›´æ”¹</p>
<p>3ã€calldataï¼šå˜é‡åœ¨è¿è¡Œæ—¶ä¸èƒ½æ›´æ”¹ï¼Œä¾‹å¦‚å‡½æ•°ä¼ å‚ï¼Œç”¨calldataä¼ å‚æ•°ï¼Œå‡½æ•°ä¸­è¯¥å€¼æ˜¯ä¸èƒ½æ”¹å˜çš„</p>
<p>4ã€stack</p>
<p>5ã€codes</p>
<p>6ã€logs</p>
<p><strong>æ•°æ®ç»“æ„</strong>ï¼š</p>
<p>1ã€structï¼šç»“æ„ä½“</p>
<p>2ã€arrayï¼šæ•°ç»„</p>
<p>3ã€mappingï¼šæ˜ å°„ï¼ˆé”®å€¼å¯¹è¡¨ç¤ºï¼‰</p>
<h3 id="solidityçš„å·¥å‚æ¨¡å¼"><a href="#solidityçš„å·¥å‚æ¨¡å¼" class="headerlink" title="solidityçš„å·¥å‚æ¨¡å¼"></a>solidityçš„å·¥å‚æ¨¡å¼</h3><h4 id="å·¥å‚æ¨¡å¼ä»‹ç»"><a href="#å·¥å‚æ¨¡å¼ä»‹ç»" class="headerlink" title="å·¥å‚æ¨¡å¼ä»‹ç»"></a>å·¥å‚æ¨¡å¼ä»‹ç»</h4><p>åœ¨ Solidity ä¸­ï¼Œ<strong>å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰</strong> æ˜¯ä¸€ç§å¸¸ç”¨çš„æ™ºèƒ½åˆçº¦è®¾è®¡æ¨¡å¼ï¼Œç”¨äº <strong>åŠ¨æ€åˆ›å»ºå’Œç®¡ç†å…¶ä»–åˆçº¦çš„å®ä¾‹</strong>ã€‚å·¥å‚åˆçº¦ï¼ˆFactory Contractï¼‰è´Ÿè´£éƒ¨ç½²å­åˆçº¦ï¼ˆChild Contractsï¼‰ï¼Œé€šå¸¸ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>
<ul>
<li>æ‰¹é‡åˆ›å»ºç›¸åŒé€»è¾‘çš„åˆçº¦ï¼ˆå¦‚ä»£å¸ã€NFTã€å¤šç­¾é’±åŒ…ç­‰ï¼‰ã€‚</li>
<li>é™ä½é‡å¤éƒ¨ç½²çš„æˆæœ¬ï¼ˆé€šè¿‡å¤ç”¨é€»è¾‘åˆçº¦ï¼‰ã€‚</li>
<li>ç»Ÿä¸€ç®¡ç†å­åˆçº¦åœ°å€ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">contract Factory {</span><br><span class="line">      Child[] children;</span><br><span class="line">      function createChild(uint data){</span><br><span class="line">         Child child = new Child(data);</span><br><span class="line">         children.push(child);</span><br><span class="line">      }</span><br><span class="line">}</span><br><span class="line">contract Child{</span><br><span class="line">     uint data;</span><br><span class="line">     constructor(uint _data){</span><br><span class="line">        data = _data;</span><br><span class="line">     }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h4 id="å¼•å…¥åˆçº¦æ–¹å¼"><a href="#å¼•å…¥åˆçº¦æ–¹å¼" class="headerlink" title="å¼•å…¥åˆçº¦æ–¹å¼"></a>å¼•å…¥åˆçº¦æ–¹å¼</h4><p>ç›´æ¥å¼•å…¥åŒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸‹çš„åˆçº¦</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import { HelloWorld } from "./test.sol";</span><br></pre></td></tr></tbody></table></figure>

<p>ä¹Ÿå¯ä»¥ç›´æ¥å¼•å…¥ç½‘ä¸Šçš„URLä»¥åŠå¯ä»¥ç²¾å‡†å†™å…¥solæ–‡ä»¶ä¸­å…·ä½“çš„åˆçº¦åç§°</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import { HelloWorld } from "https://11111/test.sol";</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ¶‰åŠåˆ°å…¬å¸çš„å†…å®¹ï¼Œä¼šæœ‰æ›´ä¸“ä¸šçš„å¼•å…¥æ–¹å¼ï¼Œé€šè¿‡å¼•å…¥åŒ…çš„æ–¹å¼</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import { HelloWorld } from "@companyName/product/contract";</span><br></pre></td></tr></tbody></table></figure>





<h1 id="8æœˆ10æ—¥"><a href="#8æœˆ10æ—¥" class="headerlink" title="8æœˆ10æ—¥"></a>8æœˆ10æ—¥</h1><table>
<thead>
<tr>
<th>ä»Šæ—¥å­¦ä¹ å†…å®¹</th>
</tr>
</thead>
<tbody><tr>
<td>CryptoZombiesxçš„solidityå­¦ä¹ /Solidity: Beginner to Intermediate Smart Contracts/lesson2 åƒµå°¸æ”»å‡»äººç±»</td>
</tr>
</tbody></table>
<h2 id="CryptoZombiesxçš„solidityå­¦ä¹ -1"><a href="#CryptoZombiesxçš„solidityå­¦ä¹ -1" class="headerlink" title="CryptoZombiesxçš„solidityå­¦ä¹ "></a>CryptoZombiesxçš„solidityå­¦ä¹ </h2><h3 id="Solidity-Beginner-to-Intermediate-Smart-Contracts-1"><a href="#Solidity-Beginner-to-Intermediate-Smart-Contracts-1" class="headerlink" title="Solidity: Beginner to Intermediate Smart Contracts"></a>Solidity: Beginner to Intermediate Smart Contracts</h3><h3 id="lesson2-åƒµå°¸æ”»å‡»äººç±»"><a href="#lesson2-åƒµå°¸æ”»å‡»äººç±»" class="headerlink" title="lesson2 åƒµå°¸æ”»å‡»äººç±»"></a>lesson2 åƒµå°¸æ”»å‡»äººç±»</h3><h3 id="ç¬¬2ç« -æ˜ å°„ï¼ˆMappingï¼‰å’Œåœ°å€ï¼ˆAddressï¼‰"><a href="#ç¬¬2ç« -æ˜ å°„ï¼ˆMappingï¼‰å’Œåœ°å€ï¼ˆAddressï¼‰" class="headerlink" title="ç¬¬2ç« : æ˜ å°„ï¼ˆMappingï¼‰å’Œåœ°å€ï¼ˆAddressï¼‰"></a>ç¬¬2ç« : æ˜ å°„ï¼ˆMappingï¼‰å’Œåœ°å€ï¼ˆAddressï¼‰</h3><p>æˆ‘ä»¬é€šè¿‡ç»™æ•°æ®åº“ä¸­çš„åƒµå°¸æŒ‡å®šâ€œä¸»äººâ€ï¼Œ æ¥æ”¯æŒâ€œå¤šç©å®¶â€æ¨¡å¼ã€‚</p>
<p>å¦‚æ­¤ä¸€æ¥ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥2ä¸ªæ–°çš„æ•°æ®ç±»å‹ï¼š<code>mapping</code>ï¼ˆæ˜ å°„ï¼‰ å’Œ <code>address</code>ï¼ˆåœ°å€ï¼‰ã€‚</p>
<p><strong>Addresses ï¼ˆåœ°å€ï¼‰</strong></p>
<p>ä»¥å¤ªåŠåŒºå—é“¾ç”± <strong>_ account _</strong> (è´¦æˆ·)ç»„æˆï¼Œä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆé“¶è¡Œè´¦æˆ·ã€‚ä¸€ä¸ªå¸æˆ·çš„ä½™é¢æ˜¯ <strong><em>ä»¥å¤ª</em></strong> ï¼ˆåœ¨ä»¥å¤ªåŠåŒºå—é“¾ä¸Šä½¿ç”¨çš„å¸ç§ï¼‰ï¼Œä½ å¯ä»¥å’Œå…¶ä»–å¸æˆ·ä¹‹é—´æ”¯ä»˜å’Œæ¥å—ä»¥å¤ªå¸ï¼Œå°±åƒä½ çš„é“¶è¡Œå¸æˆ·å¯ä»¥ç”µæ±‡èµ„é‡‘åˆ°å…¶ä»–é“¶è¡Œå¸æˆ·ä¸€æ ·ã€‚</p>
<p>æ¯ä¸ªå¸æˆ·éƒ½æœ‰ä¸€ä¸ªâ€œåœ°å€â€ï¼Œä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆé“¶è¡Œè´¦å·ã€‚è¿™æ˜¯è´¦æˆ·å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œå®ƒçœ‹èµ·æ¥é•¿è¿™æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0x0cE446255506E92DF41614C46F1d6df9Cc969183</span><br></pre></td></tr></tbody></table></figure>

<p>ï¼ˆè¿™æ˜¯ CryptoZombies å›¢é˜Ÿçš„åœ°å€ï¼Œå¦‚æœä½ å–œæ¬¢ CryptoZombies çš„è¯ï¼Œè¯·æ‰“èµæˆ‘ä»¬ä¸€äº›ä»¥å¤ªå¸ï¼ğŸ˜‰ï¼‰</p>
<p>æˆ‘ä»¬å°†åœ¨åé¢çš„è¯¾ç¨‹ä¸­ä»‹ç»åœ°å€çš„ç»†èŠ‚ï¼Œç°åœ¨ä½ åªéœ€è¦äº†è§£<strong>åœ°å€å±äºç‰¹å®šç”¨æˆ·ï¼ˆæˆ–æ™ºèƒ½åˆçº¦ï¼‰çš„</strong>ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŒ‡å®šâ€œåœ°å€â€ä½œä¸ºåƒµå°¸ä¸»äººçš„ IDã€‚å½“ç”¨æˆ·é€šè¿‡ä¸æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºäº¤äº’æ¥åˆ›å»ºæ–°çš„åƒµå°¸æ—¶ï¼Œæ–°åƒµå°¸çš„æ‰€æœ‰æƒè¢«è®¾ç½®åˆ°è°ƒç”¨è€…çš„ä»¥å¤ªåŠåœ°å€ä¸‹ã€‚</p>
<p><strong>Mappingï¼ˆæ˜ å°„ï¼‰</strong></p>
<p>åœ¨ç¬¬1è¯¾ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº† <strong>ç»“æ„ä½“</strong> å’Œ <strong>æ•°ç»„</strong> ã€‚ <strong>æ˜ å°„</strong> æ˜¯å¦ä¸€ç§åœ¨ Solidity ä¸­å­˜å‚¨æœ‰ç»„ç»‡æ•°æ®çš„æ–¹æ³•ã€‚</p>
<p>æ˜ å°„æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//å¯¹äºé‡‘èåº”ç”¨ç¨‹åºï¼Œå°†ç”¨æˆ·çš„ä½™é¢ä¿å­˜åœ¨ä¸€ä¸ª uintç±»å‹çš„å˜é‡ä¸­ï¼š</span><br><span class="line">mapping (address =&gt; uint) public accountBalance;</span><br><span class="line">//æˆ–è€…å¯ä»¥ç”¨æ¥é€šè¿‡userId å­˜å‚¨/æŸ¥æ‰¾çš„ç”¨æˆ·å</span><br><span class="line">mapping (uint =&gt; string) userIdToName;</span><br></pre></td></tr></tbody></table></figure>

<p>æ˜ å°„æœ¬è´¨ä¸Šæ˜¯å­˜å‚¨å’ŒæŸ¥æ‰¾æ•°æ®æ‰€ç”¨çš„<strong>é”®-å€¼å¯¹</strong>ã€‚åœ¨ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œé”®æ˜¯ä¸€ä¸ª <code>address</code>ï¼Œå€¼æ˜¯ä¸€ä¸ª <code>uint</code>ï¼Œåœ¨ç¬¬äºŒä¸ªä¾‹å­ä¸­ï¼Œé”®æ˜¯ä¸€ä¸ª<code>uint</code>ï¼Œå€¼æ˜¯ä¸€ä¸ª <code>string</code>ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>ä¸ºäº†å­˜å‚¨åƒµå°¸çš„æ‰€æœ‰æƒï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨åˆ°ä¸¤ä¸ªæ˜ å°„ï¼šä¸€ä¸ªè®°å½•åƒµå°¸æ‹¥æœ‰è€…çš„åœ°å€ï¼Œå¦ä¸€ä¸ªè®°å½•æŸåœ°å€æ‰€æ‹¥æœ‰åƒµå°¸çš„æ•°é‡ã€‚</p>
<p>1.åˆ›å»ºä¸€ä¸ªå«åš <code>zombieToOwner</code> çš„æ˜ å°„ã€‚å…¶é”®æ˜¯ä¸€ä¸ª<code>uint</code>ï¼ˆæˆ‘ä»¬å°†æ ¹æ®å®ƒçš„ id å­˜å‚¨å’ŒæŸ¥æ‰¾åƒµå°¸ï¼‰ï¼Œå€¼ä¸º <code>address</code>ã€‚æ˜ å°„å±æ€§ä¸º<code>public</code>ã€‚</p>
<p>2.åˆ›å»ºä¸€ä¸ªåä¸º <code>ownerZombieCount</code> çš„æ˜ å°„ï¼Œå…¶ä¸­é”®æ˜¯ <code>address</code>ï¼Œå€¼æ˜¯ <code>uint</code>ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// åœ¨è¿™é‡Œå®šä¹‰æ˜ å°„</span><br><span class="line">mapping (uint =&gt; address ) public zombieToOwner;</span><br><span class="line">mapping ( address =&gt; uint) ownerZombieCount;</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬3ç« -Msg-sender"><a href="#ç¬¬3ç« -Msg-sender" class="headerlink" title="ç¬¬3ç« : Msg.sender"></a>ç¬¬3ç« : Msg.sender</h3><p>ç°åœ¨æœ‰äº†ä¸€å¥—æ˜ å°„æ¥è®°å½•åƒµå°¸çš„æ‰€æœ‰æƒäº†ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ <code>_createZombie</code> æ–¹æ³•æ¥è¿ç”¨å®ƒä»¬ã€‚</p>
<p>ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬è¦ç”¨åˆ° <code>msg.sender</code>ã€‚</p>
<p><strong>msg.sender</strong></p>
<p>åœ¨ Solidity ä¸­ï¼Œæœ‰ä¸€äº›å…¨å±€å˜é‡å¯ä»¥è¢«æ‰€æœ‰å‡½æ•°è°ƒç”¨ã€‚ å…¶ä¸­ä¸€ä¸ªå°±æ˜¯ <code>msg.sender</code>ï¼Œå®ƒæŒ‡çš„æ˜¯å½“å‰è°ƒç”¨è€…ï¼ˆæˆ–æ™ºèƒ½åˆçº¦ï¼‰çš„ <code>address</code>ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šåœ¨ Solidity ä¸­ï¼ŒåŠŸèƒ½æ‰§è¡Œå§‹ç»ˆéœ€è¦ä»å¤–éƒ¨è°ƒç”¨è€…å¼€å§‹ã€‚ ä¸€ä¸ªåˆçº¦åªä¼šåœ¨åŒºå—é“¾ä¸Šä»€ä¹ˆä¹Ÿä¸åšï¼Œé™¤éæœ‰äººè°ƒç”¨å…¶ä¸­çš„å‡½æ•°ã€‚æ‰€ä»¥ <code>msg.sender</code>æ€»æ˜¯å­˜åœ¨çš„ã€‚</p>
</blockquote>
<p>ä»¥ä¸‹æ˜¯ä½¿ç”¨ <code>msg.sender</code> æ¥æ›´æ–° <code>mapping</code> çš„ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mapping (address =&gt; uint) favoriteNumber;</span><br><span class="line"></span><br><span class="line">function setMyNumber(uint _myNumber) public {</span><br><span class="line">  // æ›´æ–°æˆ‘ä»¬çš„ `favoriteNumber` æ˜ å°„æ¥å°† `_myNumber`å­˜å‚¨åœ¨ `msg.sender`åä¸‹</span><br><span class="line">  favoriteNumber[msg.sender] = _myNumber;</span><br><span class="line">  // å­˜å‚¨æ•°æ®è‡³æ˜ å°„çš„æ–¹æ³•å’Œå°†æ•°æ®å­˜å‚¨åœ¨æ•°ç»„ç›¸ä¼¼</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">function whatIsMyNumber() public view returns (uint) {</span><br><span class="line">  // æ‹¿åˆ°å­˜å‚¨åœ¨è°ƒç”¨è€…åœ°å€åä¸‹çš„å€¼</span><br><span class="line">  // è‹¥è°ƒç”¨è€…è¿˜æ²¡è°ƒç”¨ setMyNumberï¼Œ åˆ™å€¼ä¸º `0`</span><br><span class="line">  return favoriteNumber[msg.sender];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨è¿™ä¸ªå°å°çš„ä¾‹å­ä¸­ï¼Œä»»ä½•äººéƒ½å¯ä»¥è°ƒç”¨ <code>setMyNumber</code> åœ¨æˆ‘ä»¬çš„åˆçº¦ä¸­å­˜ä¸‹ä¸€ä¸ª <code>uint</code> å¹¶ä¸”ä¸ä»–ä»¬çš„åœ°å€ç›¸ç»‘å®šã€‚ ç„¶åï¼Œä»–ä»¬è°ƒç”¨ <code>whatIsMyNumber</code> å°±ä¼šè¿”å›ä»–ä»¬å­˜å‚¨çš„ <code>uint</code>ã€‚</p>
<p>ä½¿ç”¨ <code>msg.sender</code> å¾ˆå®‰å…¨ï¼Œå› ä¸ºå®ƒå…·æœ‰ä»¥å¤ªåŠåŒºå—é“¾çš„å®‰å…¨ä¿éšœ â€”â€” é™¤éçªƒå–ä¸ä»¥å¤ªåŠåœ°å€ç›¸å…³è”çš„ç§é’¥ï¼Œå¦åˆ™æ˜¯æ²¡æœ‰åŠæ³•ä¿®æ”¹å…¶ä»–äººçš„æ•°æ®çš„ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬æ¥ä¿®æ”¹ç¬¬1è¯¾çš„ <code>_createZombie</code> æ–¹æ³•ï¼Œå°†åƒµå°¸åˆ†é…ç»™å‡½æ•°è°ƒç”¨è€…å§ã€‚</p>
<ol>
<li>é¦–å…ˆï¼Œåœ¨å¾—åˆ°æ–°çš„åƒµå°¸ <code>id</code> åï¼Œæ›´æ–° <code>zombieToOwner</code> æ˜ å°„ï¼Œåœ¨ <code>id</code> ä¸‹é¢å­˜å…¥ <code>msg.sender</code>ã€‚</li>
<li>ç„¶åï¼Œæˆ‘ä»¬ä¸ºè¿™ä¸ª <code>msg.sender</code> åä¸‹çš„ <code>ownerZombieCount</code> åŠ  1ã€‚</li>
</ol>
<p>è·Ÿåœ¨ JavaScript ä¸­ä¸€æ ·ï¼Œ åœ¨ Solidity ä¸­ä½ ä¹Ÿå¯ä»¥ç”¨ <code>++</code> ä½¿ <code>uint</code> é€’å¢ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">uint number = 0;</span><br><span class="line">number++;</span><br><span class="line">// `number` ç°åœ¨æ˜¯ `1`äº†</span><br></pre></td></tr></tbody></table></figure>

<p>ä¿®æ”¹ä¸¤è¡Œä»£ç å³å¯ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function _createZombie(string _name, uint _dna) private {</span><br><span class="line">        uint id = zombies.push(Zombie(_name, _dna)) - 1;</span><br><span class="line">        // ä»è¿™é‡Œå¼€å§‹</span><br><span class="line">        zombieToOwner[id] = msg.sender;</span><br><span class="line">        ownerZombieCount[msg.sender]++;</span><br><span class="line">        NewZombie(id, _name, _dna);</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬4ç« -Require"><a href="#ç¬¬4ç« -Require" class="headerlink" title="ç¬¬4ç« : Require"></a>ç¬¬4ç« : Require</h3><p>åœ¨ç¬¬ä¸€è¯¾ä¸­ï¼Œæˆ‘ä»¬æˆåŠŸè®©ç”¨æˆ·é€šè¿‡è°ƒç”¨ <code>createRandomZombie</code>å‡½æ•° å¹¶è¾“å…¥ä¸€ä¸ªåå­—æ¥åˆ›å»ºæ–°çš„åƒµå°¸ã€‚ ä½†æ˜¯ï¼Œå¦‚æœç”¨æˆ·èƒ½æŒç»­è°ƒç”¨è¿™ä¸ªå‡½æ•°æ¥åˆ›å»ºå‡ºæ— é™å¤šä¸ªåƒµå°¸åŠ å…¥ä»–ä»¬çš„å†›å›¢ï¼Œè¿™æ¸¸æˆå°±å¤ªæ²¡æ„æ€äº†ï¼</p>
<p>äºæ˜¯ï¼Œæˆ‘ä»¬ä½œå‡ºé™å®šï¼šæ¯ä¸ªç©å®¶åªèƒ½è°ƒç”¨ä¸€æ¬¡è¿™ä¸ªå‡½æ•°ã€‚ è¿™æ ·ä¸€æ¥ï¼Œæ–°ç©å®¶å¯ä»¥åœ¨åˆšå¼€å§‹ç©æ¸¸æˆæ—¶é€šè¿‡è°ƒç”¨å®ƒï¼Œä¸ºå…¶å†›å›¢åˆ›å»ºåˆå§‹åƒµå°¸ã€‚</p>
<p>æˆ‘ä»¬æ€æ ·æ‰èƒ½é™å®šæ¯ä¸ªç©å®¶åªè°ƒç”¨ä¸€æ¬¡è¿™ä¸ªå‡½æ•°å‘¢ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯ä½¿ç”¨<code>require</code>ã€‚ <code>require</code>ä½¿å¾—å‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå½“ä¸æ»¡è¶³æŸäº›æ¡ä»¶æ—¶æŠ›å‡ºé”™è¯¯ï¼Œå¹¶åœæ­¢æ‰§è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function sayHiToVitalik(string _name) public returns (string) {</span><br><span class="line">  // æ¯”è¾ƒ _name æ˜¯å¦ç­‰äº "Vitalik". å¦‚æœä¸æˆç«‹ï¼ŒæŠ›å‡ºå¼‚å¸¸å¹¶ç»ˆæ­¢ç¨‹åº</span><br><span class="line">  // (æ•²é»‘æ¿: Solidity å¹¶ä¸æ”¯æŒåŸç”Ÿçš„å­—ç¬¦ä¸²æ¯”è¾ƒ, æˆ‘ä»¬åªèƒ½é€šè¿‡æ¯”è¾ƒ</span><br><span class="line">  // ä¸¤å­—ç¬¦ä¸²çš„ keccak256 å“ˆå¸Œå€¼æ¥è¿›è¡Œåˆ¤æ–­)</span><br><span class="line">  require(keccak256(_name) == keccak256("Vitalik"));</span><br><span class="line">  // å¦‚æœè¿”å› true, è¿è¡Œå¦‚ä¸‹è¯­å¥</span><br><span class="line">  return "Hi!";</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœä½ è¿™æ ·è°ƒç”¨å‡½æ•° <code>sayHiToVitalikï¼ˆâ€œVitalikâ€ï¼‰</code> ,å®ƒä¼šè¿”å›â€œHiï¼â€ã€‚è€Œå¦‚æœè°ƒç”¨çš„æ—¶å€™ä½¿ç”¨äº†å…¶ä»–å‚æ•°ï¼Œå®ƒåˆ™ä¼šæŠ›å‡ºé”™è¯¯å¹¶åœæ­¢æ‰§è¡Œã€‚</p>
<p>å› æ­¤ï¼Œåœ¨è°ƒç”¨ä¸€ä¸ªå‡½æ•°ä¹‹å‰ï¼Œç”¨ <code>require</code> éªŒè¯å‰ç½®æ¡ä»¶æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>åœ¨æˆ‘ä»¬çš„åƒµå°¸æ¸¸æˆä¸­ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›ç”¨æˆ·é€šè¿‡åå¤è°ƒç”¨ <code>createRandomZombie</code> æ¥çµ¦ä»–ä»¬çš„å†›é˜Ÿåˆ›å»ºæ— é™å¤šä¸ªåƒµå°¸ â€”â€” è¿™å°†ä½¿å¾—æ¸¸æˆéå¸¸æ— èŠã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨äº† <code>require</code> æ¥ç¡®ä¿è¿™ä¸ªå‡½æ•°åªæœ‰åœ¨æ¯ä¸ªç”¨æˆ·ç¬¬ä¸€æ¬¡è°ƒç”¨å®ƒçš„æ—¶å€™æ‰§è¡Œï¼Œç”¨ä»¥åˆ›å»ºåˆå§‹åƒµå°¸ã€‚</p>
<ol>
<li>åœ¨ <code>createRandomZombie</code> çš„å‰é¢æ”¾ç½® <code>require</code> è¯­å¥ã€‚ ä½¿å¾—å‡½æ•°å…ˆæ£€æŸ¥ <code>ownerZombieCount [msg.sender]</code> çš„å€¼ä¸º <code>0</code> ï¼Œä¸ç„¶å°±æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</li>
</ol>
<blockquote>
<p>æ³¨æ„ï¼šåœ¨ Solidity ä¸­ï¼Œå…³é”®è¯æ”¾ç½®çš„é¡ºåºå¹¶ä¸é‡è¦</p>
<ul>
<li>è™½ç„¶å‚æ•°çš„ä¸¤ä¸ªä½ç½®æ˜¯ç­‰æ•ˆçš„ã€‚ ä½†æ˜¯ï¼Œç”±äºæˆ‘ä»¬çš„ç­”æ¡ˆæ£€æŸ¥å™¨æ¯”è¾ƒå‘†æ¿ï¼Œå®ƒåªèƒ½è®¤å®šå…¶ä¸­ä¸€ä¸ªä¸ºæ­£ç¡®ç­”æ¡ˆ</li>
<li>äºæ˜¯åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°±çº¦å®šæŠŠ<code>ownerZombieCount [msg.sender]</code>æ”¾å‰é¢å§</li>
</ul>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function createRandomZombie(string _name) public {</span><br><span class="line">        // start here</span><br><span class="line">        require(ownerZombieCount[msg.sender] == 0);</span><br><span class="line">        uint randDna = _generateRandomDna(_name);</span><br><span class="line">        _createZombie(_name, randDna);</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬5ç« -ç»§æ‰¿ï¼ˆInheritanceï¼‰"><a href="#ç¬¬5ç« -ç»§æ‰¿ï¼ˆInheritanceï¼‰" class="headerlink" title="ç¬¬5ç« : ç»§æ‰¿ï¼ˆInheritanceï¼‰"></a>ç¬¬5ç« : ç»§æ‰¿ï¼ˆInheritanceï¼‰</h3><p>æˆ‘ä»¬çš„æ¸¸æˆä»£ç è¶Šæ¥è¶Šé•¿ã€‚ å½“ä»£ç è¿‡äºå†—é•¿çš„æ—¶å€™ï¼Œæœ€å¥½å°†ä»£ç å’Œé€»è¾‘åˆ†æ‹†åˆ°å¤šä¸ªä¸åŒçš„åˆçº¦ä¸­ï¼Œä»¥ä¾¿äºç®¡ç†ã€‚</p>
<p>æœ‰ä¸ªè®© Solidity çš„ä»£ç æ˜“äºç®¡ç†çš„åŠŸèƒ½ï¼Œå°±æ˜¯åˆçº¦ *<strong>inheritance*</strong> (ç»§æ‰¿)ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">contract Doge {</span><br><span class="line">  function catchphrase() public returns (string) {</span><br><span class="line">    return "So Wow CryptoDoge";</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">contract BabyDoge is Doge {</span><br><span class="line">  function anotherCatchphrase() public returns (string) {</span><br><span class="line">    return "Such Moon BabyDoge";</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç”±äº <code>BabyDoge</code> æ˜¯ä» <code>Doge</code> é‚£é‡Œ *<strong>inherits*</strong> ï¼ˆç»§æ‰¿)è¿‡æ¥çš„ã€‚ è¿™æ„å‘³ç€å½“ä½ ç¼–è¯‘å’Œéƒ¨ç½²äº† <code>BabyDoge</code>ï¼Œå®ƒå°†å¯ä»¥è®¿é—® <code>catchphrase()</code> å’Œ <code>anotherCatchphrase()</code>å’Œå…¶ä»–æˆ‘ä»¬åœ¨ <code>Doge</code> ä¸­å®šä¹‰çš„å…¶ä»–å…¬å…±å‡½æ•°ã€‚</p>
<p>è¿™å¯ä»¥ç”¨äºé€»è¾‘ç»§æ‰¿ï¼ˆæ¯”å¦‚è¡¨è¾¾å­ç±»çš„æ—¶å€™ï¼Œ<code>Cat</code> æ˜¯ä¸€ç§ <code>Animal</code>ï¼‰ã€‚ ä½†ä¹Ÿå¯ä»¥ç®€å•åœ°å°†ç±»ä¼¼çš„é€»è¾‘ç»„åˆåˆ°ä¸åŒçš„åˆçº¦ä¸­ä»¥ç»„ç»‡ä»£ç ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>åœ¨æ¥ä¸‹æ¥çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†è¦ä¸ºåƒµå°¸å®ç°å„ç§åŠŸèƒ½ï¼Œè®©å®ƒå¯ä»¥â€œçŒé£Ÿâ€å’Œâ€œç¹æ®–â€ã€‚ é€šè¿‡å°†è¿™äº›è¿ç®—æ”¾åˆ°çˆ¶ç±» <code>ZombieFactory</code> ä¸­ï¼Œä½¿å¾—æ‰€æœ‰ <code>ZombieFactory</code> çš„ç»§æ‰¿è€…åˆçº¦éƒ½å¯ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•ã€‚</p>
<ol>
<li>åœ¨ <code>ZombieFactory</code> ä¸‹åˆ›å»ºä¸€ä¸ªå« <code>ZombieFeeding</code> çš„åˆçº¦ï¼Œå®ƒæ˜¯ç»§æ‰¿è‡ª `ZombieFactory åˆçº¦çš„ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// Start here</span><br><span class="line">contract ZombieFeeding is ZombieFactory {</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬6ç« -å¼•å…¥ï¼ˆImportï¼‰"><a href="#ç¬¬6ç« -å¼•å…¥ï¼ˆImportï¼‰" class="headerlink" title="ç¬¬6ç« : å¼•å…¥ï¼ˆImportï¼‰"></a>ç¬¬6ç« : å¼•å…¥ï¼ˆImportï¼‰</h3><p>å“‡ï¼ä½ æœ‰æ²¡æœ‰æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬åªæ˜¯æ¸…ç†äº†ä¸‹å³è¾¹çš„ä»£ç ï¼Œç°åœ¨ä½ çš„ç¼–è¾‘å™¨çš„é¡¶éƒ¨å°±å¤šäº†ä¸ªé€‰é¡¹å¡ã€‚ å°è¯•ç‚¹å‡»å®ƒçš„æ ‡ç­¾ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆå§ï¼</p>
<p>ä»£ç å·²ç»å¤Ÿé•¿äº†ï¼Œæˆ‘ä»¬æŠŠå®ƒåˆ†æˆå¤šä¸ªæ–‡ä»¶ä»¥ä¾¿äºç®¡ç†ã€‚ é€šå¸¸æƒ…å†µä¸‹ï¼Œå½“ Solidity é¡¹ç›®ä¸­çš„ä»£ç å¤ªé•¿çš„æ—¶å€™æˆ‘ä»¬å°±æ˜¯è¿™ä¹ˆåšçš„ã€‚</p>
<p>åœ¨ Solidity ä¸­ï¼Œå½“ä½ æœ‰å¤šä¸ªæ–‡ä»¶å¹¶ä¸”æƒ³æŠŠä¸€ä¸ªæ–‡ä»¶å¯¼å…¥å¦ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>import</code> è¯­å¥ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import "./someothercontract.sol";</span><br><span class="line"></span><br><span class="line">contract newContract is SomeOtherContract {</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ ·å½“æˆ‘ä»¬åœ¨åˆçº¦ï¼ˆcontractï¼‰ç›®å½•ä¸‹æœ‰ä¸€ä¸ªåä¸º <code>someothercontract.sol</code> çš„æ–‡ä»¶ï¼ˆ <code>./</code> å°±æ˜¯åŒä¸€ç›®å½•çš„æ„æ€ï¼‰ï¼Œå®ƒå°±ä¼šè¢«ç¼–è¯‘å™¨å¯¼å…¥ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»å»ºç«‹äº†ä¸€ä¸ªå¤šæ–‡ä»¶æ¶æ„ï¼Œå¹¶ç”¨ <code>import</code> æ¥è¯»å–æ¥è‡ªå¦ä¸€ä¸ªæ–‡ä»¶ä¸­åˆçº¦çš„å†…å®¹ï¼š</p>
<p>1.å°† <code>zombiefactory.sol</code> å¯¼å…¥åˆ°æˆ‘ä»¬çš„æ–°æ–‡ä»¶ <code>zombiefeeding.sol</code> ä¸­ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// put import statement here</span><br><span class="line">import "./zombiefactory.sol";</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬7ç« -Storageä¸Memory"><a href="#ç¬¬7ç« -Storageä¸Memory" class="headerlink" title="ç¬¬7ç« : Storageä¸Memory"></a>ç¬¬7ç« : Storageä¸Memory</h3><p>åœ¨ Solidity ä¸­ï¼Œæœ‰ä¸¤ä¸ªåœ°æ–¹å¯ä»¥å­˜å‚¨å˜é‡ â€”â€” <code>storage</code> æˆ– <code>memory</code>ã€‚</p>
<p><strong>Storage</strong> å˜é‡æ˜¯æŒ‡**<u>æ°¸ä¹…å­˜å‚¨</u><strong>åœ¨åŒºå—é“¾ä¸­çš„å˜é‡ã€‚ <strong>Memory</strong> å˜é‡åˆ™æ˜¯</strong><u>ä¸´æ—¶çš„</u>**ï¼Œå½“å¤–éƒ¨å‡½æ•°å¯¹æŸåˆçº¦è°ƒç”¨å®Œæˆæ—¶ï¼Œå†…å­˜å‹å˜é‡å³è¢«ç§»é™¤ã€‚ ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆå­˜å‚¨åœ¨ä½ ç”µè„‘çš„ç¡¬ç›˜æˆ–æ˜¯RAMä¸­æ•°æ®çš„å…³ç³»ã€‚</p>
<p>å¤§å¤šæ•°æ—¶å€™ä½ éƒ½ç”¨ä¸åˆ°è¿™äº›å…³é”®å­—ï¼Œé»˜è®¤æƒ…å†µä¸‹ Solidity ä¼šè‡ªåŠ¨å¤„ç†å®ƒä»¬ã€‚ çŠ¶æ€å˜é‡ï¼ˆåœ¨å‡½æ•°ä¹‹å¤–å£°æ˜çš„å˜é‡ï¼‰é»˜è®¤ä¸ºâ€œå­˜å‚¨â€å½¢å¼ï¼Œå¹¶æ°¸ä¹…å†™å…¥åŒºå—é“¾ï¼›è€Œåœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡æ˜¯â€œå†…å­˜â€å‹çš„ï¼Œå®ƒä»¬å‡½æ•°è°ƒç”¨ç»“æŸåæ¶ˆå¤±ã€‚</p>
<p>ç„¶è€Œä¹Ÿæœ‰ä¸€äº›æƒ…å†µä¸‹ï¼Œä½ éœ€è¦æ‰‹åŠ¨å£°æ˜å­˜å‚¨ç±»å‹ï¼Œä¸»è¦ç”¨äºå¤„ç†å‡½æ•°å†…çš„ <strong>ç»“æ„ä½“</strong> å’Œ <strong>æ•°ç»„</strong> æ—¶ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">contract SandwichFactory {</span><br><span class="line">  struct Sandwich {</span><br><span class="line">    string name;</span><br><span class="line">    string status;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  Sandwich[] sandwiches;</span><br><span class="line"></span><br><span class="line">  function eatSandwich(uint _index) public {</span><br><span class="line">    // Sandwich mySandwich = sandwiches[_index];</span><br><span class="line"></span><br><span class="line">    // ^ çœ‹ä¸Šå»å¾ˆç›´æ¥ï¼Œä¸è¿‡ Solidity å°†ä¼šç»™å‡ºè­¦å‘Š</span><br><span class="line">    // å‘Šè¯‰ä½ åº”è¯¥æ˜ç¡®åœ¨è¿™é‡Œå®šä¹‰ `storage` æˆ–è€… `memory`ã€‚</span><br><span class="line"></span><br><span class="line">    // æ‰€ä»¥ä½ åº”è¯¥æ˜ç¡®å®šä¹‰ `storage`:</span><br><span class="line">    Sandwich storage mySandwich = sandwiches[_index];</span><br><span class="line">    // ...è¿™æ · `mySandwich` æ˜¯æŒ‡å‘ `sandwiches[_index]`çš„æŒ‡é’ˆ</span><br><span class="line">    // åœ¨å­˜å‚¨é‡Œï¼Œå¦å¤–...</span><br><span class="line">    mySandwich.status = "Eaten!";</span><br><span class="line">    // ...è¿™å°†æ°¸ä¹…æŠŠ `sandwiches[_index]` å˜ä¸ºåŒºå—é“¾ä¸Šçš„å­˜å‚¨</span><br><span class="line"></span><br><span class="line">    // å¦‚æœä½ åªæƒ³è¦ä¸€ä¸ªå‰¯æœ¬ï¼Œå¯ä»¥ä½¿ç”¨`memory`:</span><br><span class="line">    Sandwich memory anotherSandwich = sandwiches[_index + 1];</span><br><span class="line">    // ...è¿™æ · `anotherSandwich` å°±ä»…ä»…æ˜¯ä¸€ä¸ªå†…å­˜é‡Œçš„å‰¯æœ¬äº†</span><br><span class="line">    // å¦å¤–</span><br><span class="line">    anotherSandwich.status = "Eaten!";</span><br><span class="line">    // ...å°†ä»…ä»…ä¿®æ”¹ä¸´æ—¶å˜é‡ï¼Œå¯¹ `sandwiches[_index + 1]` æ²¡æœ‰ä»»ä½•å½±å“</span><br><span class="line">    // ä¸è¿‡ä½ å¯ä»¥è¿™æ ·åš:</span><br><span class="line">    sandwiches[_index + 1] = anotherSandwich;</span><br><span class="line">    // ...å¦‚æœä½ æƒ³æŠŠå‰¯æœ¬çš„æ”¹åŠ¨ä¿å­˜å›åŒºå—é“¾å­˜å‚¨</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœä½ è¿˜æ²¡æœ‰å®Œå…¨ç†è§£ç©¶ç«Ÿåº”è¯¥ä½¿ç”¨å“ªä¸€ä¸ªï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒ â€”â€” åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å‘Šè¯‰ä½ ä½•æ—¶ä½¿ç”¨ <code>storage</code> æˆ–æ˜¯ <code>memory</code>ï¼Œå¹¶ä¸”å½“ä½ ä¸å¾—ä¸ä½¿ç”¨åˆ°è¿™äº›å…³é”®å­—çš„æ—¶å€™ï¼ŒSolidity ç¼–è¯‘å™¨ä¹Ÿå‘è­¦ç¤ºæé†’ä½ çš„ã€‚</p>
<p>ç°åœ¨ï¼Œåªè¦çŸ¥é“åœ¨æŸäº›åœºåˆä¸‹ä¹Ÿéœ€è¦ä½ æ˜¾å¼åœ°å£°æ˜ <code>storage</code> æˆ– <code>memory</code>å°±å¤Ÿäº†ï¼</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æ˜¯æ—¶å€™ç»™æˆ‘ä»¬çš„åƒµå°¸å¢åŠ â€œçŒé£Ÿâ€å’Œâ€œç¹æ®–â€åŠŸèƒ½äº†ï¼</p>
<p>å½“ä¸€ä¸ªåƒµå°¸çŒé£Ÿå…¶ä»–ç”Ÿç‰©ä½“æ—¶ï¼Œå®ƒè‡ªèº«çš„DNAå°†ä¸çŒç‰©ç”Ÿç‰©çš„DNAç»“åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„åƒµå°¸DNAã€‚</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªåä¸º <code>feedAndMultiply</code> çš„å‡½æ•°ã€‚ ä½¿ç”¨ä¸¤ä¸ªå‚æ•°ï¼š<code>_zombieId</code>ï¼ˆ <code>uint</code>ç±»å‹ ï¼‰å’Œ<code>_targetDna</code> ï¼ˆä¹Ÿæ˜¯ <code>uint</code> ç±»å‹ï¼‰ã€‚ è®¾ç½®å±æ€§ä¸º <code>public</code> çš„ã€‚</li>
<li>æˆ‘ä»¬ä¸å¸Œæœ›åˆ«äººç”¨æˆ‘ä»¬çš„åƒµå°¸å»æ•çŒã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬ç¡®ä¿å¯¹è‡ªå·±åƒµå°¸çš„æ‰€æœ‰æƒã€‚ é€šè¿‡æ·»åŠ ä¸€ä¸ª<code>require</code> è¯­å¥æ¥ç¡®ä¿ <code>msg.sender</code> åªèƒ½æ˜¯è¿™ä¸ªåƒµå°¸çš„ä¸»äººï¼ˆç±»ä¼¼äºæˆ‘ä»¬åœ¨ <code>createRandomZombie</code> å‡½æ•°ä¸­åšè¿‡çš„é‚£æ ·ï¼‰ã€‚</li>
</ol>
<blockquote>
<p>æ³¨æ„ï¼šåŒæ ·ï¼Œå› ä¸ºæˆ‘ä»¬çš„ç­”æ¡ˆæ£€æŸ¥å™¨æ¯”è¾ƒå‘†èŒï¼Œåªè®¤è¯†æŠŠ <code>msg.sender</code> æ”¾åœ¨å‰é¢çš„ç­”æ¡ˆï¼Œå¦‚æœä½ åˆ‡æ¢äº†å‚æ•°çš„é¡ºåºï¼Œå®ƒå°±ä¸è®¤å¾—äº†ã€‚ ä½†ä½ æ­£å¸¸ç¼–ç æ—¶ï¼Œå¦‚ä½•å®‰æ’å‚æ•°é¡ºåºéƒ½æ˜¯æ­£ç¡®çš„ã€‚</p>
</blockquote>
<ol>
<li>ä¸ºäº†è·å–è¿™ä¸ªåƒµå°¸çš„DNAï¼Œæˆ‘ä»¬çš„å‡½æ•°éœ€è¦å£°æ˜ä¸€ä¸ªåä¸º <code>myZombie</code> æ•°æ®ç±»å‹ä¸º<code>Zombie</code>çš„æœ¬åœ°å˜é‡ï¼ˆè¿™æ˜¯ä¸€ä¸ª <code>storage</code> å‹çš„æŒ‡é’ˆï¼‰ã€‚ å°†å…¶å€¼è®¾å®šä¸ºåœ¨ <code>zombies</code> æ•°ç»„ä¸­ç´¢å¼•ä¸º<code>_zombieId</code>æ‰€æŒ‡å‘çš„å€¼ã€‚</li>
</ol>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼ŒåŒ…æ‹¬å‡½æ•°ç»“æŸç¬¦ <code>}</code> çš„é‚£ä¸€è¡Œï¼Œ æ€»å…±4è¡Œä»£ç ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// Start here</span><br><span class="line">    function feedAndMultiply(uint _zombieId, uint _targetDna) public{</span><br><span class="line">        require(msg.sender == zombieToOwner[_zombieId]);</span><br><span class="line">        Zombie storage myZombie = zombies[_zombieId];</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬8ç« -åƒµå°¸çš„DNA"><a href="#ç¬¬8ç« -åƒµå°¸çš„DNA" class="headerlink" title="ç¬¬8ç« : åƒµå°¸çš„DNA"></a>ç¬¬8ç« : åƒµå°¸çš„DNA</h3><p>æˆ‘ä»¬æ¥æŠŠ <code>feedAndMultiply</code> å‡½æ•°å†™å®Œå§ã€‚</p>
<p>è·å–æ–°çš„åƒµå°¸DNAçš„å…¬å¼å¾ˆç®€å•ï¼šè®¡ç®—çŒé£Ÿåƒµå°¸DNAå’Œè¢«çŒåƒµå°¸DNAä¹‹é—´çš„å¹³å‡å€¼ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function testDnaSplicing() public {</span><br><span class="line">  uint zombieDna = 2222222222222222;</span><br><span class="line">  uint targetDna = 4444444444444444;</span><br><span class="line">  uint newZombieDna = (zombieDna + targetDna) / 2;</span><br><span class="line">  // newZombieDna å°†ç­‰äº 3333333333333333</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥åï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è®©å‡½æ•°å˜å¾—æ›´å¤æ‚äº›ï¼Œæ¯”æ–¹ç»™æ–°çš„åƒµå°¸çš„ DNA å¢åŠ ä¸€äº›éšæœºæ€§ä¹‹ç±»çš„ã€‚ä½†ç°åœ¨å…ˆä»æœ€ç®€å•çš„å¼€å§‹ â€”â€” ä»¥åè¿˜å¯ä»¥å›æ¥å®Œå–„å®ƒå˜›ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li>é¦–å…ˆæˆ‘ä»¬ç¡®ä¿ <code>_targetDna</code> ä¸é•¿äº16ä½ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½® <code>_targetDna</code> ä¸º <code>_targetDna ï¼… dnaModulus</code> ï¼Œå¹¶ä¸”åªå–å…¶æœ€å16ä½æ•°å­—ã€‚</li>
<li>æ¥ä¸‹æ¥ä¸ºæˆ‘ä»¬çš„å‡½æ•°å£°æ˜ä¸€ä¸ªåå« <code>newDna</code> çš„ <code>uint</code>ç±»å‹çš„å˜é‡ï¼Œå¹¶å°†å…¶å€¼è®¾ç½®ä¸º <code>myZombie</code>çš„ DNA å’Œ <code>_targetDna</code> çš„å¹³å‡å€¼ï¼ˆå¦‚ä¸Šä¾‹æ‰€ç¤ºï¼‰ã€‚</li>
</ol>
<blockquote>
<p>æ³¨æ„ï¼šæ‚¨å¯ä»¥ç”¨ <code>myZombie.name</code> æˆ– <code>myZombie.dna</code> è®¿é—® <code>myZombie</code> çš„å±æ€§ã€‚</p>
</blockquote>
<ol>
<li>ä¸€æ—¦æˆ‘ä»¬è®¡ç®—å‡ºæ–°çš„DNAï¼Œå†è°ƒç”¨ <code>_createZombie</code> å°±å¯ä»¥ç”Ÿæˆæ–°çš„åƒµå°¸äº†ã€‚å¦‚æœä½ å¿˜äº†è°ƒç”¨è¿™ä¸ªå‡½æ•°æ‰€éœ€è¦çš„å‚æ•°ï¼Œå¯ä»¥æŸ¥çœ‹ <code>zombiefactory.sol</code> é€‰é¡¹å¡ã€‚è¯·æ³¨æ„ï¼Œéœ€è¦å…ˆç»™å®ƒå‘½åï¼Œæ‰€ä»¥ç°åœ¨æˆ‘ä»¬æŠŠæ–°çš„åƒµå°¸çš„åå­—è®¾ä¸º<code>NoName</code> - æˆ‘ä»¬å›å¤´å¯ä»¥ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æ›´æ”¹åƒµå°¸çš„åå­—ã€‚</li>
</ol>
<blockquote>
<p>æ³¨æ„ï¼šå¯¹äº Solidity é«˜æ‰‹ï¼Œä½ å¯èƒ½ä¼šæ³¨æ„åˆ°æˆ‘ä»¬çš„ä»£ç å­˜åœ¨ä¸€ä¸ªé—®é¢˜ã€‚åˆ«æ‹…å¿ƒï¼Œä¸‹ä¸€ç« ä¼šè§£å†³è¿™ä¸ªé—®é¢˜çš„ ;ï¼‰</p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function feedAndMultiply(uint _zombieId, uint _targetDna) public {</span><br><span class="line">    require(msg.sender == zombieToOwner[_zombieId]);</span><br><span class="line">    Zombie storage myZombie = zombies[_zombieId];</span><br><span class="line">    // start here</span><br><span class="line">    _targetDna = _targetDna % dnaModulus;</span><br><span class="line">    uint newDna = (myZombie.dna + _targetDna) / 2;</span><br><span class="line">    _createZombie("NoName", newDna);</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬9ç« -æ›´å¤šå…³äºå‡½æ•°å¯è§æ€§"><a href="#ç¬¬9ç« -æ›´å¤šå…³äºå‡½æ•°å¯è§æ€§" class="headerlink" title="ç¬¬9ç« : æ›´å¤šå…³äºå‡½æ•°å¯è§æ€§"></a>ç¬¬9ç« : æ›´å¤šå…³äºå‡½æ•°å¯è§æ€§</h3><p><strong>æˆ‘ä»¬ä¸Šä¸€è¯¾çš„ä»£ç æœ‰é—®é¢˜ï¼</strong></p>
<p>ç¼–è¯‘çš„æ—¶å€™ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ã€‚</p>
<p>é”™è¯¯åœ¨äºï¼Œæˆ‘ä»¬å°è¯•ä» <code>ZombieFeeding</code> ä¸­è°ƒç”¨ <code>_createZombie</code> å‡½æ•°ï¼Œä½† <code>_createZombie</code> å´æ˜¯ <code>ZombieFactory</code> çš„ <code>private</code> ï¼ˆç§æœ‰ï¼‰å‡½æ•°ã€‚è¿™æ„å‘³ç€ä»»ä½•ç»§æ‰¿è‡ª <code>ZombieFactory</code> çš„å­åˆçº¦éƒ½ä¸èƒ½è®¿é—®å®ƒã€‚</p>
<p><strong>internal å’Œ external</strong></p>
<p>é™¤ <code>public</code> å’Œ <code>private</code> å±æ€§ä¹‹å¤–ï¼ŒSolidity è¿˜ä½¿ç”¨äº†å¦å¤–ä¸¤ä¸ªæè¿°å‡½æ•°å¯è§æ€§çš„ä¿®é¥°è¯ï¼š<code>internal</code>ï¼ˆå†…éƒ¨ï¼‰ å’Œ <code>external</code>ï¼ˆå¤–éƒ¨ï¼‰ã€‚</p>
<p><code>internal</code> å’Œ <code>private</code> ç±»ä¼¼ï¼Œä¸è¿‡ï¼Œ å¦‚æœæŸä¸ªåˆçº¦ç»§æ‰¿è‡ªå…¶çˆ¶åˆçº¦ï¼Œè¿™ä¸ªåˆçº¦å³å¯ä»¥è®¿é—®çˆ¶åˆçº¦ä¸­å®šä¹‰çš„â€œå†…éƒ¨â€å‡½æ•°ã€‚ï¼ˆå˜¿ï¼Œè¿™å¬èµ·æ¥æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„é‚£æ ·ï¼ï¼‰ã€‚</p>
<p><code>external</code> ä¸<code>public</code> ç±»ä¼¼ï¼Œåªä¸è¿‡è¿™äº›å‡½æ•°åªèƒ½åœ¨åˆçº¦ä¹‹å¤–è°ƒç”¨ - å®ƒä»¬ä¸èƒ½è¢«åˆçº¦å†…çš„å…¶ä»–å‡½æ•°è°ƒç”¨ã€‚ç¨åæˆ‘ä»¬å°†è®¨è®ºä»€ä¹ˆæ—¶å€™ä½¿ç”¨ <code>external</code> å’Œ <code>public</code>ã€‚</p>
<p>å£°æ˜å‡½æ•° <code>internal</code> æˆ– <code>external</code> ç±»å‹çš„è¯­æ³•ï¼Œä¸å£°æ˜ <code>private</code> å’Œ <code>public</code>ç±» å‹ç›¸åŒï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">contract Sandwich {</span><br><span class="line">  uint private sandwichesEaten = 0;</span><br><span class="line"></span><br><span class="line">  function eat() internal {</span><br><span class="line">    sandwichesEaten++;</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">contract BLT is Sandwich {</span><br><span class="line">  uint private baconSandwichesEaten = 0;</span><br><span class="line"></span><br><span class="line">  function eatWithBacon() public returns (string) {</span><br><span class="line">    baconSandwichesEaten++;</span><br><span class="line">    // å› ä¸ºeat() æ˜¯internal çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬èƒ½åœ¨è¿™é‡Œè°ƒç”¨</span><br><span class="line">    eat();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li><p>å°† <code>_createZombie()</code> å‡½æ•°çš„å±æ€§ä» <code>private</code> æ”¹ä¸º <code>internal</code> ï¼Œ ä½¿å¾—å…¶ä»–çš„åˆçº¦ä¹Ÿèƒ½è®¿é—®åˆ°å®ƒã€‚</p>
<p> æˆ‘ä»¬å·²ç»æˆåŠŸæŠŠä½ çš„æ³¨æ„åŠ›é›†ä¸­åœ¨åˆ°<code>zombiefactory.sol</code>è¿™ä¸ªé€‰é¡¹å¡ä¸Šå•¦ã€‚</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// åœ¨è¿™é‡Œä¿®æ”¹å‡½æ•°çš„åŠŸèƒ½</span><br><span class="line">    function _createZombie(string _name, uint _dna) internal {</span><br><span class="line">        uint id = zombies.push(Zombie(_name, _dna)) - 1;</span><br><span class="line">        zombieToOwner[id] = msg.sender;</span><br><span class="line">        ownerZombieCount[msg.sender]++;</span><br><span class="line">        NewZombie(id, _name, _dna);</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬10ç« -åƒµå°¸åƒä»€ä¹ˆ"><a href="#ç¬¬10ç« -åƒµå°¸åƒä»€ä¹ˆ" class="headerlink" title="ç¬¬10ç« : åƒµå°¸åƒä»€ä¹ˆ?"></a>ç¬¬10ç« : åƒµå°¸åƒä»€ä¹ˆ?</h3><p>æ˜¯æ—¶å€™è®©æˆ‘ä»¬çš„åƒµå°¸å»æ•çŒï¼ é‚£åƒµå°¸æœ€å–œæ¬¢çš„é£Ÿç‰©æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>Crypto åƒµå°¸å–œæ¬¢åƒçš„æ˜¯â€¦</p>
<p><strong>CryptoKittiesï¼</strong> ğŸ˜±ğŸ˜±ğŸ˜±</p>
<p>ï¼ˆæ­£ç»ç‚¹ï¼Œæˆ‘å¯ä¸æ˜¯å¼€ç©ç¬‘ğŸ˜†ï¼‰</p>
<p>ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬è¦è¯»å‡º CryptoKitties æ™ºèƒ½åˆçº¦ä¸­çš„ kittyDnaã€‚è¿™äº›æ•°æ®æ˜¯å…¬å¼€å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šçš„ã€‚åŒºå—é“¾æ˜¯ä¸æ˜¯å¾ˆé…·ï¼Ÿ</p>
<p>åˆ«æ‹…å¿ƒ â€”â€” æˆ‘ä»¬çš„æ¸¸æˆå¹¶ä¸ä¼šä¼¤å®³åˆ°ä»»ä½•çœŸæ­£çš„CryptoKittyã€‚ æˆ‘ä»¬åª <em>è¯»å–</em> CryptoKitties æ•°æ®ï¼Œä½†å´æ— æ³•åœ¨ç‰©ç†ä¸Šåˆ é™¤å®ƒã€‚</p>
<p><strong>ä¸å…¶ä»–åˆçº¦çš„äº¤äº’</strong></p>
<p>å¦‚æœæˆ‘ä»¬çš„åˆçº¦éœ€è¦å’ŒåŒºå—é“¾ä¸Šçš„å…¶ä»–çš„åˆçº¦ä¼šè¯ï¼Œåˆ™éœ€å…ˆå®šä¹‰ä¸€ä¸ª <strong>interface</strong> (æ¥å£)ã€‚</p>
<p>å…ˆä¸¾ä¸€ä¸ªç®€å•çš„æ —å­ã€‚ å‡è®¾åœ¨åŒºå—é“¾ä¸Šæœ‰è¿™ä¹ˆä¸€ä¸ªåˆçº¦ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">contract LuckyNumber {</span><br><span class="line">  mapping(address =&gt; uint) numbers;</span><br><span class="line"></span><br><span class="line">  function setNum(uint _num) public {</span><br><span class="line">    numbers[msg.sender] = _num;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  function getNum(address _myAddress) public view returns (uint) {</span><br><span class="line">    return numbers[_myAddress];</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ˜¯ä¸ªå¾ˆç®€å•çš„åˆçº¦ï¼Œæ‚¨å¯ä»¥ç”¨å®ƒå­˜å‚¨è‡ªå·±çš„å¹¸è¿å·ç ï¼Œå¹¶å°†å…¶ä¸æ‚¨çš„ä»¥å¤ªåŠåœ°å€å…³è”ã€‚ è¿™æ ·å…¶ä»–äººå°±å¯ä»¥é€šè¿‡æ‚¨çš„åœ°å€æŸ¥æ‰¾æ‚¨çš„å¹¸è¿å·ç äº†ã€‚</p>
<p>ç°åœ¨å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå¤–éƒ¨åˆçº¦ï¼Œä½¿ç”¨ <code>getNum</code> å‡½æ•°å¯è¯»å–å…¶ä¸­çš„æ•°æ®ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ <code>LuckyNumber</code> åˆçº¦çš„ <strong>interface</strong> ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">contract NumberInterface {</span><br><span class="line">  function getNum(address _myAddress) public view returns (uint);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¯·æ³¨æ„ï¼Œè¿™ä¸ªè¿‡ç¨‹è™½ç„¶çœ‹èµ·æ¥åƒåœ¨å®šä¹‰ä¸€ä¸ªåˆçº¦ï¼Œä½†å…¶å®å†…é‡Œä¸åŒï¼š</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬åªå£°æ˜äº†è¦ä¸ä¹‹äº¤äº’çš„å‡½æ•° â€”â€” åœ¨æœ¬ä¾‹ä¸­ä¸º <code>getNum</code> â€”â€” åœ¨å…¶ä¸­æˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨åˆ°ä»»ä½•å…¶ä»–çš„å‡½æ•°æˆ–çŠ¶æ€å˜é‡ã€‚</p>
<p>å…¶æ¬¡ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰ä½¿ç”¨å¤§æ‹¬å·ï¼ˆ<code>{</code> å’Œ <code>}</code>ï¼‰å®šä¹‰å‡½æ•°ä½“ï¼Œæˆ‘ä»¬å•å•ç”¨åˆ†å·ï¼ˆ<code>;</code>ï¼‰ç»“æŸäº†å‡½æ•°å£°æ˜ã€‚è¿™ä½¿å®ƒçœ‹èµ·æ¥åƒä¸€ä¸ªåˆçº¦æ¡†æ¶ã€‚</p>
<p>ç¼–è¯‘å™¨å°±æ˜¯é è¿™äº›ç‰¹å¾è®¤å‡ºå®ƒæ˜¯ä¸€ä¸ªæ¥å£çš„ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„ app ä»£ç ä¸­ä½¿ç”¨è¿™ä¸ªæ¥å£ï¼Œåˆçº¦å°±çŸ¥é“å…¶ä»–åˆçº¦çš„å‡½æ•°æ˜¯æ€æ ·çš„ï¼Œåº”è¯¥å¦‚ä½•è°ƒç”¨ï¼Œä»¥åŠå¯æœŸå¾…ä»€ä¹ˆç±»å‹çš„è¿”å›å€¼ã€‚</p>
<p>åœ¨ä¸‹ä¸€è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†çœŸæ­£è°ƒç”¨å…¶ä»–åˆçº¦çš„å‡½æ•°ã€‚ç›®å‰æˆ‘ä»¬åªè¦å£°æ˜ä¸€ä¸ªæ¥å£ï¼Œç”¨äºè°ƒç”¨ CryptoKitties åˆçº¦å°±è¡Œäº†ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬å·²ç»ä¸ºä½ æŸ¥çœ‹è¿‡äº† CryptoKitties çš„æºä»£ç ï¼Œå¹¶ä¸”æ‰¾åˆ°äº†ä¸€ä¸ªåä¸º <code>getKitty</code>çš„å‡½æ•°ï¼Œå®ƒè¿”å›æ‰€æœ‰çš„åŠ å¯†çŒ«çš„æ•°æ®ï¼ŒåŒ…æ‹¬å®ƒçš„â€œåŸºå› â€ï¼ˆæˆ‘ä»¬çš„åƒµå°¸æ¸¸æˆè¦ç”¨å®ƒç”Ÿæˆæ–°çš„åƒµå°¸ï¼‰ã€‚</p>
<p>è¯¥å‡½æ•°å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">function getKitty(uint256 _id) external view returns (</span><br><span class="line">    bool isGestating,</span><br><span class="line">    bool isReady,</span><br><span class="line">    uint256 cooldownIndex,</span><br><span class="line">    uint256 nextActionAt,</span><br><span class="line">    uint256 siringWithId,</span><br><span class="line">    uint256 birthTime,</span><br><span class="line">    uint256 matronId,</span><br><span class="line">    uint256 sireId,</span><br><span class="line">    uint256 generation,</span><br><span class="line">    uint256 genes</span><br><span class="line">) {</span><br><span class="line">    Kitty storage kit = kitties[_id];</span><br><span class="line"></span><br><span class="line">    // if this variable is 0 then it's not gestating</span><br><span class="line">    isGestating = (kit.siringWithId != 0);</span><br><span class="line">    isReady = (kit.cooldownEndBlock &lt;= block.number);</span><br><span class="line">    cooldownIndex = uint256(kit.cooldownIndex);</span><br><span class="line">    nextActionAt = uint256(kit.cooldownEndBlock);</span><br><span class="line">    siringWithId = uint256(kit.siringWithId);</span><br><span class="line">    birthTime = uint256(kit.birthTime);</span><br><span class="line">    matronId = uint256(kit.matronId);</span><br><span class="line">    sireId = uint256(kit.sireId);</span><br><span class="line">    generation = uint256(kit.generation);</span><br><span class="line">    genes = kit.genes;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ä¸ªå‡½æ•°çœ‹èµ·æ¥è·Ÿæˆ‘ä»¬ä¹ æƒ¯çš„å‡½æ•°ä¸å¤ªä¸€æ ·ã€‚ å®ƒç«Ÿç„¶è¿”å›äº†â€¦ä¸€å †ä¸åŒçš„å€¼ï¼ å¦‚æœæ‚¨ç”¨è¿‡ JavaScript ä¹‹ç±»çš„ç¼–ç¨‹è¯­è¨€ï¼Œä¸€å®šä¼šæ„Ÿåˆ°å¥‡æ€ª â€”â€” åœ¨ Solidityä¸­ï¼Œæ‚¨å¯ä»¥è®©ä¸€ä¸ªå‡½æ•°è¿”å›å¤šä¸ªå€¼ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬çŸ¥é“è¿™ä¸ªå‡½æ•°é•¿ä»€ä¹ˆæ ·çš„äº†ï¼Œå°±å¯ä»¥ç”¨å®ƒæ¥åˆ›å»ºä¸€ä¸ªæ¥å£ï¼š</p>
<p>1.å®šä¹‰ä¸€ä¸ªåä¸º <code>KittyInterface</code> çš„æ¥å£ã€‚ è¯·æ³¨æ„ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº† <code>contract</code> å…³é”®å­—ï¼Œ è¿™è¿‡ç¨‹çœ‹èµ·æ¥å°±åƒåˆ›å»ºä¸€ä¸ªæ–°çš„åˆçº¦ä¸€æ ·ã€‚</p>
<p>2.åœ¨interfaceé‡Œå®šä¹‰äº† <code>getKitty</code> å‡½æ•°ï¼ˆä¸è¿‡æ˜¯å¤åˆ¶/ç²˜è´´ä¸Šé¢çš„å‡½æ•°ï¼Œä½†åœ¨ <code>returns</code> è¯­å¥ä¹‹åç”¨åˆ†å·ï¼Œè€Œä¸æ˜¯å¤§æ‹¬å·å†…çš„æ‰€æœ‰å†…å®¹ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// Create KittyInterface here</span><br><span class="line">contract KittyInterface {</span><br><span class="line">    function getKitty(uint256 _id) external view returns (</span><br><span class="line">    bool isGestating,</span><br><span class="line">    bool isReady,</span><br><span class="line">    uint256 cooldownIndex,</span><br><span class="line">    uint256 nextActionAt,</span><br><span class="line">    uint256 siringWithId,</span><br><span class="line">    uint256 birthTime,</span><br><span class="line">    uint256 matronId,</span><br><span class="line">    uint256 sireId,</span><br><span class="line">    uint256 generation,</span><br><span class="line">    uint256 genes</span><br><span class="line">    );</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬11ç« -ä½¿ç”¨æ¥å£"><a href="#ç¬¬11ç« -ä½¿ç”¨æ¥å£" class="headerlink" title="ç¬¬11ç« : ä½¿ç”¨æ¥å£"></a>ç¬¬11ç« : ä½¿ç”¨æ¥å£</h3><p>ç»§ç»­å‰é¢ <code>NumberInterface</code> çš„ä¾‹å­ï¼Œæˆ‘ä»¬æ—¢ç„¶å°†æ¥å£å®šä¹‰ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">contract NumberInterface {</span><br><span class="line">  function getNum(address _myAddress) public view returns (uint);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬å¯ä»¥åœ¨åˆçº¦ä¸­è¿™æ ·ä½¿ç”¨ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">contract MyContract {</span><br><span class="line">  address NumberInterfaceAddress = 0xab38...;</span><br><span class="line">  // ^ è¿™æ˜¯FavoriteNumberåˆçº¦åœ¨ä»¥å¤ªåŠä¸Šçš„åœ°å€</span><br><span class="line">  NumberInterface numberContract = NumberInterface(NumberInterfaceAddress);</span><br><span class="line">  // ç°åœ¨å˜é‡ `numberContract` æŒ‡å‘å¦ä¸€ä¸ªåˆçº¦å¯¹è±¡</span><br><span class="line"></span><br><span class="line">  function someFunction() public {</span><br><span class="line">    // ç°åœ¨æˆ‘ä»¬å¯ä»¥è°ƒç”¨åœ¨é‚£ä¸ªåˆçº¦ä¸­å£°æ˜çš„ `getNum`å‡½æ•°:</span><br><span class="line">    uint num = numberContract.getNum(msg.sender);</span><br><span class="line">    // ...åœ¨è¿™å„¿ä½¿ç”¨ `num`å˜é‡åšäº›ä»€ä¹ˆ</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œåªè¦å°†æ‚¨åˆçº¦çš„å¯è§æ€§è®¾ç½®ä¸º<code>public</code>(å…¬å…±)æˆ–<code>external</code>(å¤–éƒ¨)ï¼Œå®ƒä»¬å°±å¯ä»¥ä¸ä»¥å¤ªåŠåŒºå—é“¾ä¸Šçš„ä»»ä½•å…¶ä»–åˆçº¦è¿›è¡Œäº¤äº’ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬æ¥å»ºä¸ªè‡ªå·±çš„åˆçº¦å»è¯»å–å¦ä¸€ä¸ªæ™ºèƒ½åˆçº¦â€“ CryptoKitties çš„å†…å®¹å§ï¼</p>
<ol>
<li>æˆ‘å·²ç»å°†ä»£ç ä¸­ CryptoKitties åˆçº¦çš„åœ°å€ä¿å­˜åœ¨ä¸€ä¸ªåä¸º <code>ckAddress</code> çš„å˜é‡ä¸­ã€‚åœ¨ä¸‹ä¸€è¡Œä¸­ï¼Œè¯·åˆ›å»ºä¸€ä¸ªåä¸º <code>kittyContract</code> çš„ KittyInterfaceï¼Œå¹¶ç”¨ <code>ckAddress</code> ä¸ºå®ƒåˆå§‹åŒ– â€”â€” å°±åƒæˆ‘ä»¬ä¸º <code>numberContract</code>æ‰€åšçš„ä¸€æ ·ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">contract ZombieFeeding is ZombieFactory {</span><br><span class="line"></span><br><span class="line">  address ckAddress = 0x06012c8cf97BEaD5deAe237070F9587f8E7A266d;</span><br><span class="line">  // Initialize kittyContract here using `ckAddress` from above</span><br><span class="line">    KittyInterface kittyContract = KittyInterface(ckAddress);</span><br><span class="line"></span><br><span class="line">  function feedAndMultiply(uint _zombieId, uint _targetDna) public {</span><br><span class="line">    require(msg.sender == zombieToOwner[_zombieId]);</span><br><span class="line">    Zombie storage myZombie = zombies[_zombieId];</span><br><span class="line">    _targetDna = _targetDna % dnaModulus;</span><br><span class="line">    uint newDna = (myZombie.dna + _targetDna) / 2;</span><br><span class="line">    _createZombie("NoName", newDna);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬12ç« -å¤„ç†å¤šè¿”å›å€¼"><a href="#ç¬¬12ç« -å¤„ç†å¤šè¿”å›å€¼" class="headerlink" title="ç¬¬12ç« : å¤„ç†å¤šè¿”å›å€¼"></a>ç¬¬12ç« : å¤„ç†å¤šè¿”å›å€¼</h3><p><code>getKitty</code> æ˜¯æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ç¬¬ä¸€ä¸ªè¿”å›å¤šä¸ªå€¼çš„å‡½æ•°ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹æ˜¯å¦‚ä½•å¤„ç†çš„ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">function multipleReturns() internal returns(uint a, uint b, uint c) {</span><br><span class="line">  return (1, 2, 3);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">function processMultipleReturns() external {</span><br><span class="line">  uint a;</span><br><span class="line">  uint b;</span><br><span class="line">  uint c;</span><br><span class="line">  // è¿™æ ·æ¥åšæ‰¹é‡èµ‹å€¼:</span><br><span class="line">  (a, b, c) = multipleReturns();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">// æˆ–è€…å¦‚æœæˆ‘ä»¬åªæƒ³è¿”å›å…¶ä¸­ä¸€ä¸ªå˜é‡:</span><br><span class="line">function getLastReturnValue() external {</span><br><span class="line">  uint c;</span><br><span class="line">  // å¯ä»¥å¯¹å…¶ä»–å­—æ®µç•™ç©º:</span><br><span class="line">  (,,c) = multipleReturns();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æ˜¯æ—¶å€™ä¸ CryptoKitties åˆçº¦äº¤äº’èµ·æ¥äº†ï¼</p>
<p>æˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œä» kitty åˆçº¦ä¸­è·å–å®ƒçš„åŸºå› ï¼š</p>
<ol>
<li><p>åˆ›å»ºä¸€ä¸ªåä¸º <code>feedOnKitty</code> çš„å‡½æ•°ã€‚å®ƒéœ€è¦2ä¸ª <code>uint</code> ç±»å‹çš„å‚æ•°ï¼Œ<code>_zombieId</code> å’Œ<code>_kittyId</code> ï¼Œè¿™æ˜¯ä¸€ä¸ª <code>public</code> ç±»å‹çš„å‡½æ•°ã€‚</p>
</li>
<li><p>å‡½æ•°é¦–å…ˆè¦å£°æ˜ä¸€ä¸ªåä¸º <code>kittyDna</code> çš„ <code>uint</code>ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šåœ¨æˆ‘ä»¬çš„ <code>KittyInterface</code> ä¸­ï¼Œ<code>genes</code> æ˜¯ä¸€ä¸ª <code>uint256</code> ç±»å‹çš„å˜é‡ï¼Œä½†æ˜¯å¦‚æœä½ è®°å¾—ï¼Œæˆ‘ä»¬åœ¨ç¬¬ä¸€è¯¾ä¸­æåˆ°è¿‡ï¼Œ<code>uint</code> æ˜¯ <code>uint256</code> çš„åˆ«åï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬æ˜¯ä¸€å›äº‹ã€‚</p>
</blockquote>
</li>
<li><p>è¿™ä¸ªå‡½æ•°æ¥ä¸‹æ¥è°ƒç”¨ <code>kittyContract.getKitty</code>å‡½æ•°, ä¼ å…¥ <code>_kittyId</code> ï¼Œå°†è¿”å›çš„ <code>genes</code> å­˜å‚¨åœ¨ <code>kittyDna</code> ä¸­ã€‚è®°ä½ â€”â€” <code>getKitty</code> ä¼šè¿”å›ä¸€å¤§å †å˜é‡ã€‚ ï¼ˆç¡®åˆ‡åœ°è¯´10ä¸ª - æˆ‘å·²ç»ä¸ºä½ æ•°è¿‡äº†ï¼Œä¸é”™å§ï¼ï¼‰ã€‚ä½†æ˜¯æˆ‘ä»¬åªå…³å¿ƒæœ€åä¸€ä¸ªâ€“ <code>genes</code>ã€‚æ•°é€—å·çš„æ—¶å€™å°å¿ƒç‚¹å“¦ï¼</p>
</li>
<li><p>æœ€åï¼Œå‡½æ•°è°ƒç”¨äº† <code>feedAndMultiply</code> ï¼Œå¹¶ä¼ å…¥äº† <code>_zombieId</code> å’Œ <code>kittyDna</code> ä¸¤ä¸ªå‚æ•°ã€‚</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// define function here</span><br><span class="line">    function feedOnKitty(uint _zombieId, uint _kittyId) public{</span><br><span class="line">        uint kittyDna;</span><br><span class="line">        (,,,,,,,,,kittyDna) = kittyContract.getKitty(_kittyId);</span><br><span class="line">        feedAndMultiply(_zombieId,kittyDna);</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬13ç« -å¥–åŠ±-Kitty-åŸºå› "><a href="#ç¬¬13ç« -å¥–åŠ±-Kitty-åŸºå› " class="headerlink" title="ç¬¬13ç« : å¥–åŠ±: Kitty åŸºå› "></a>ç¬¬13ç« : å¥–åŠ±: Kitty åŸºå› </h3><p>æˆ‘ä»¬çš„åŠŸèƒ½é€»è¾‘ä¸»ä½“å·²ç»å®Œæˆäº†â€¦ç°åœ¨è®©æˆ‘ä»¬æ¥æ·»ä¸€ä¸ªå¥–åŠ±åŠŸèƒ½å§ã€‚</p>
<p>è¿™æ ·å§ï¼Œç»™ä»å°çŒ«åˆ¶é€ å‡ºçš„åƒµå°¸æ·»åŠ äº›ç‰¹å¾ï¼Œä»¥æ˜¾ç¤ºä»–ä»¬æ˜¯çŒ«åƒµå°¸ã€‚</p>
<p>è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œå’±ä»¬åœ¨æ–°åƒµå°¸çš„DNAä¸­æ·»åŠ ä¸€äº›ç‰¹æ®Šçš„å°çŒ«ä»£ç ã€‚</p>
<p>è¿˜è®°å¾—å—ï¼Œç¬¬ä¸€è¯¾ä¸­æˆ‘ä»¬æåˆ°ï¼Œæˆ‘ä»¬ç›®å‰åªä½¿ç”¨16ä½DNAçš„å‰12ä½æ•°æ¥æŒ‡å®šåƒµå°¸çš„å¤–è§‚ã€‚æ‰€ä»¥ç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æœ€å2ä¸ªæ•°å­—æ¥å¤„ç†â€œç‰¹æ®Šâ€çš„ç‰¹å¾ã€‚</p>
<p>è¿™æ ·å§ï¼ŒæŠŠçŒ«åƒµå°¸DNAçš„æœ€åä¸¤ä¸ªæ•°å­—è®¾å®šä¸º<code>99</code>ï¼ˆå› ä¸ºçŒ«æœ‰9æ¡å‘½ï¼‰ã€‚æ‰€ä»¥åœ¨æˆ‘ä»¬è¿™ä¹ˆæ¥å†™ä»£ç ï¼š<code>å¦‚æœ</code>è¿™ä¸ªåƒµå°¸æ˜¯ä¸€åªçŒ«å˜æ¥çš„ï¼Œå°±å°†å®ƒDNAçš„æœ€åä¸¤ä½æ•°å­—è®¾ç½®ä¸º<code>99</code>ã€‚</p>
<p><strong>if è¯­å¥</strong></p>
<p>ifè¯­å¥çš„è¯­æ³•åœ¨ Solidity ä¸­ï¼Œä¸åœ¨ JavaScript ä¸­å·®ä¸å¤šï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function eatBLT(string sandwich) public {</span><br><span class="line">  // çœ‹æ¸…æ¥šäº†ï¼Œå½“æˆ‘ä»¬æ¯”è¾ƒå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œéœ€è¦æ¯”è¾ƒä»–ä»¬çš„ keccak256 å“ˆå¸Œç </span><br><span class="line">  if (keccak256(sandwich) == keccak256("BLT")) {</span><br><span class="line">    eat();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>è®©æˆ‘ä»¬åœ¨æˆ‘ä»¬çš„åƒµå°¸ä»£ç ä¸­å®ç°å°çŒ«çš„åŸºå› ã€‚</p>
<ol>
<li><p>é¦–å…ˆï¼Œæˆ‘ä»¬ä¿®æ”¹ä¸‹ <code>feedAndMultiply</code> å‡½æ•°çš„å®šä¹‰ï¼Œç»™å®ƒä¼ å…¥ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šä¸€æ¡åä¸º <code>_species</code> çš„å­—ç¬¦ä¸²ã€‚</p>
</li>
<li><p>æ¥ä¸‹æ¥ï¼Œåœ¨æˆ‘ä»¬è®¡ç®—å‡ºæ–°çš„åƒµå°¸çš„DNAä¹‹åï¼Œæ·»åŠ ä¸€ä¸ª <code>if</code> è¯­å¥æ¥æ¯”è¾ƒ <code>_species</code> å’Œå­—ç¬¦ä¸² <code>"kitty"</code> çš„ <code>keccak256</code> å“ˆå¸Œå€¼ã€‚</p>
</li>
<li><p>åœ¨ <code>if</code> è¯­å¥ä¸­ï¼Œæˆ‘ä»¬ç”¨ <code>99</code> æ›¿æ¢äº†æ–°åƒµå°¸DNAçš„æœ€åä¸¤ä½æ•°å­—ã€‚å¯ä»¥è¿™ä¹ˆåšï¼š<code>newDna = newDna - newDna % 100 + 99;</code>ã€‚</p>
<blockquote>
<p>è§£é‡Šï¼šå‡è®¾ <code>newDna</code> æ˜¯ <code>334455</code>ã€‚é‚£ä¹ˆ <code>newDna % 100</code> æ˜¯ <code>55</code>ï¼Œæ‰€ä»¥ <code>newDna - newDna % 100</code> å¾—åˆ° <code>334400</code>ã€‚æœ€ååŠ ä¸Š <code>99</code> å¯å¾—åˆ° <code>334499</code>ã€‚</p>
</blockquote>
</li>
<li><p>æœ€åï¼Œæˆ‘ä»¬ä¿®æ”¹äº† <code>feedOnKitty</code> ä¸­çš„å‡½æ•°è°ƒç”¨ã€‚å½“å®ƒè°ƒç”¨ <code>feedAndMultiply</code> æ—¶ï¼Œå¢åŠ  <code>â€œkittyâ€</code> ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°ã€‚</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// è¿™é‡Œä¿®æ”¹å‡½æ•°å®šä¹‰</span><br><span class="line">  function feedAndMultiply(uint _zombieId, uint _targetDna, string _species) public {</span><br><span class="line">    require(msg.sender == zombieToOwner[_zombieId]);</span><br><span class="line">    Zombie storage myZombie = zombies[_zombieId];</span><br><span class="line">    _targetDna = _targetDna % dnaModulus;</span><br><span class="line">    uint newDna = (myZombie.dna + _targetDna) / 2;</span><br><span class="line">    // è¿™é‡Œå¢åŠ ä¸€ä¸ª if è¯­å¥</span><br><span class="line">    if(keccak256(_species) == keccak256("kitty")){</span><br><span class="line">        newDna = newDna - newDna % 100 + 99;</span><br><span class="line">    }</span><br><span class="line">    _createZombie("NoName", newDna);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  function feedOnKitty(uint _zombieId, uint _kittyId) public {</span><br><span class="line">    uint kittyDna;</span><br><span class="line">    (,,,,,,,,,kittyDna) = kittyContract.getKitty(_kittyId);</span><br><span class="line">    // å¹¶ä¿®æ”¹å‡½æ•°è°ƒç”¨</span><br><span class="line">    feedAndMultiply(_zombieId, kittyDna,"kitty");</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬14ç« -æ”¾åœ¨ä¸€èµ·"><a href="#ç¬¬14ç« -æ”¾åœ¨ä¸€èµ·" class="headerlink" title="ç¬¬14ç« : æ”¾åœ¨ä¸€èµ·"></a>ç¬¬14ç« : æ”¾åœ¨ä¸€èµ·</h3><p>è‡³æ­¤ï¼Œä½ å·²ç»å­¦å®Œç¬¬äºŒè¯¾äº†ï¼</p>
<p>æŸ¥çœ‹ä¸‹â†’_â†’çš„æ¼”ç¤ºï¼Œçœ‹çœ‹ä»–ä»¬æ€ä¹ˆè¿è¡Œèµ·æ¥å¾—å§ã€‚ç»§ç»­ï¼Œä½ è‚¯å®šç­‰ä¸åŠçœ‹å®Œè¿™ä¸€é¡µğŸ˜‰ã€‚ç‚¹å‡»å°çŒ«ï¼Œæ”»å‡»ï¼çœ‹åˆ°ä½ æ–©è·ä¸€ä¸ªæ–°çš„å°çŒ«åƒµå°¸äº†å§ï¼</p>
<p><strong>JavaScript å®ç°</strong></p>
<p>æˆ‘ä»¬åªç”¨ç¼–è¯‘å’Œéƒ¨ç½² <code>ZombieFeeding</code>ï¼Œå°±å¯ä»¥å°†è¿™ä¸ªåˆçº¦éƒ¨ç½²åˆ°ä»¥å¤ªåŠäº†ã€‚æˆ‘ä»¬æœ€ç»ˆå®Œæˆçš„è¿™ä¸ªåˆçº¦ç»§æ‰¿è‡ª <code>ZombieFactory</code>ï¼Œå› æ­¤å®ƒå¯ä»¥è®¿é—®è‡ªå·±å’Œçˆ¶è¾ˆåˆçº¦ä¸­çš„æ‰€æœ‰ public æ–¹æ³•ã€‚</p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¸æˆ‘ä»¬çš„åˆšéƒ¨ç½²çš„åˆçº¦è¿›è¡Œäº¤äº’çš„ä¾‹å­ï¼Œ è¿™ä¸ªä¾‹å­ä½¿ç”¨äº† JavaScript å’Œ web3.jsï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">var abi = /* abi generated by the compiler */</span><br><span class="line">var ZombieFeedingContract = web3.eth.contract(abi)</span><br><span class="line">var contractAddress = /* our contract address on Ethereum after deploying */</span><br><span class="line">var ZombieFeeding = ZombieFeedingContract.at(contractAddress)</span><br><span class="line"></span><br><span class="line">// å‡è®¾æˆ‘ä»¬æœ‰æˆ‘ä»¬çš„åƒµå°¸IDå’Œè¦æ”»å‡»çš„çŒ«å’ªID</span><br><span class="line">let zombieId = 1;</span><br><span class="line">let kittyId = 1;</span><br><span class="line"></span><br><span class="line">// è¦æ‹¿åˆ°çŒ«å’ªçš„DNAï¼Œæˆ‘ä»¬éœ€è¦è°ƒç”¨å®ƒçš„APIã€‚è¿™äº›æ•°æ®ä¿å­˜åœ¨å®ƒä»¬çš„æœåŠ¡å™¨ä¸Šè€Œä¸æ˜¯åŒºå—é“¾ä¸Šã€‚</span><br><span class="line">// å¦‚æœä¸€åˆ‡éƒ½åœ¨åŒºå—é“¾ä¸Šï¼Œæˆ‘ä»¬å°±ä¸ç”¨æ‹…å¿ƒå®ƒä»¬çš„æœåŠ¡å™¨æŒ‚äº†ï¼Œæˆ–è€…å®ƒä»¬ä¿®æ”¹äº†APIï¼Œ</span><br><span class="line">// æˆ–è€…å› ä¸ºä¸å–œæ¬¢æˆ‘ä»¬çš„åƒµå°¸æ¸¸æˆè€Œå°æ€äº†æˆ‘ä»¬</span><br><span class="line">let apiUrl = "https://api.cryptokitties.co/kitties/" + kittyId</span><br><span class="line">$.get(apiUrl, function(data) {</span><br><span class="line">  let imgUrl = data.image_url</span><br><span class="line">  // ä¸€äº›æ˜¾ç¤ºå›¾ç‰‡çš„ä»£ç </span><br><span class="line">})</span><br><span class="line"></span><br><span class="line">// å½“ç”¨æˆ·ç‚¹å‡»ä¸€åªçŒ«å’ªçš„æ—¶å€™:</span><br><span class="line">$(".kittyImage").click(function(e) {</span><br><span class="line">  // è°ƒç”¨æˆ‘ä»¬åˆçº¦çš„ `feedOnKitty` å‡½æ•°</span><br><span class="line">  ZombieFeeding.feedOnKitty(zombieId, kittyId)</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line">// ä¾¦å¬æ¥è‡ªæˆ‘ä»¬åˆçº¦çš„æ–°åƒµå°¸äº‹ä»¶å¥½æ¥å¤„ç†</span><br><span class="line">ZombieFactory.NewZombie(function(error, result) {</span><br><span class="line">  if (error) return</span><br><span class="line">  // è¿™ä¸ªå‡½æ•°ç”¨æ¥æ˜¾ç¤ºåƒµå°¸:</span><br><span class="line">  generateZombie(result.zombieId, result.name, result.dna)</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>é€‰æ‹©ä¸€åªä½ æƒ³çŒé£Ÿçš„å°çŒ«ã€‚ä½ è‡ªå®¶åƒµå°¸çš„ DNA ä¼šå’Œå°çŒ«çš„ DNA ç»“åˆï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„å°çŒ«åƒµå°¸ï¼ŒåŠ å…¥ä½ çš„å†›å›¢ï¼</p>
<p>çœ‹åˆ°æ–°åƒµå°¸ä¸Šé‚£å¯çˆ±çš„çŒ«å’ªè…¿äº†ä¹ˆï¼Ÿè¿™æ˜¯æ–°åƒµå°¸æœ€åDNAä¸­æœ€åä¸¤ä½æ•°å­— <code>99</code> çš„åŠŸåŠ³ï¼</p>
<p>ä½ æƒ³è¦çš„è¯éšæ—¶å¯ä»¥é‡æ–°å¼€å§‹ã€‚æ•è·äº†ä¸€åªçŒ«å’ªåƒµå°¸ï¼Œä½ ä¸€å®šå¾ˆé«˜å…´å§ï¼ï¼ˆä¸è¿‡ä½ åªèƒ½æŒæœ‰ä¸€åªï¼‰ï¼Œç»§ç»­å‰è¿›åˆ°ä¸‹ä¸€ç« ï¼Œå®Œæˆç¬¬äºŒè¯¾å§ï¼</p>
<h2 id="8æœˆ11æ—¥"><a href="#8æœˆ11æ—¥" class="headerlink" title="8æœˆ11æ—¥"></a>8æœˆ11æ—¥</h2><table>
<thead>
<tr>
<th>ä»Šæ—¥å­¦ä¹ å†…å®¹</th>
</tr>
</thead>
<tbody><tr>
<td>Chainlinké¢„è¨€æœºçš„solidityè¿›é˜¶è¯¾ç¨‹éƒ¨åˆ†å†…å®¹</td>
</tr>
<tr>
<td>æ™ºèƒ½åˆçº¦å¼€å‘éƒ¨åˆ†å†…å®¹</td>
</tr>
</tbody></table>
<h3 id="Chainlinké¢„è¨€æœºçš„solidityè¿›é˜¶è¯¾ç¨‹"><a href="#Chainlinké¢„è¨€æœºçš„solidityè¿›é˜¶è¯¾ç¨‹" class="headerlink" title="Chainlinké¢„è¨€æœºçš„solidityè¿›é˜¶è¯¾ç¨‹"></a>Chainlinké¢„è¨€æœºçš„solidityè¿›é˜¶è¯¾ç¨‹</h3><h4 id="é¢„è¨€æœºç½‘ç»œï¼ˆChainlinkï¼‰"><a href="#é¢„è¨€æœºç½‘ç»œï¼ˆChainlinkï¼‰" class="headerlink" title="é¢„è¨€æœºç½‘ç»œï¼ˆChainlinkï¼‰"></a>é¢„è¨€æœºç½‘ç»œï¼ˆChainlinkï¼‰</h4><p><img src="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-11%20123802.png"></p>
<p><strong>Chainlink</strong> æ˜¯ä¸€ä¸ª <strong>å»ä¸­å¿ƒåŒ–çš„é¢„è¨€æœºç½‘ç»œï¼ˆDecentralized Oracle Networkï¼‰</strong>ï¼Œä¸»è¦è§£å†³åŒºå—é“¾æ— æ³•ç›´æ¥è·å–å¤–éƒ¨æ•°æ®çš„é—®é¢˜ã€‚å›¾ä¸­å±•ç¤ºçš„æ˜¯å…¶å¦‚ä½•ä¸º <strong>ç°ä»£Web3åº”ç”¨</strong> æä¾›å¤šé“¾ã€å¤šæœåŠ¡çš„æ”¯æŒã€‚</p>
<p>ï¼ˆ1ï¼‰Chainlink Web3 æœåŠ¡</p>
<table>
<thead>
<tr>
<th align="left"><strong>æœåŠ¡ç±»å‹</strong></th>
<th align="left"><strong>åŠŸèƒ½</strong></th>
<th align="left"><strong>å…·ä½“äº§å“</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>Data</strong></td>
<td align="left">æä¾›é“¾å¤–æ•°æ®ï¼ˆå¦‚ä»·æ ¼ã€å¤©æ°”ç­‰ï¼‰</td>
<td align="left">â€¢ Feedsï¼ˆä»·æ ¼é¢„è¨€æœºï¼‰ â€¢ Functionsï¼ˆé“¾ä¸Šè¯·æ±‚APIï¼‰ â€¢ Data Streamï¼ˆå®æ—¶æ•°æ®æµï¼‰</td>
</tr>
<tr>
<td align="left"><strong>Compute</strong></td>
<td align="left">æä¾›å¯éªŒè¯çš„éšæœºæ•°å’Œè‡ªåŠ¨åŒ–æ‰§è¡Œ</td>
<td align="left">â€¢ VRFï¼ˆå¯éªŒè¯éšæœºæ•°ï¼‰ â€¢ Automationï¼ˆæ™ºèƒ½åˆçº¦è‡ªåŠ¨åŒ–ï¼‰</td>
</tr>
<tr>
<td align="left"><strong>Cross-chain</strong></td>
<td align="left">è·¨é“¾é€šä¿¡å’Œæ•°æ®ä¼ è¾“</td>
<td align="left">CCIPï¼ˆè·¨é“¾äº’æ“ä½œåè®®ï¼‰</td>
</tr>
</tbody></table>
<p>ï¼ˆ2ï¼‰è¿æ¥å¯¹è±¡</p>
<ul>
<li><strong>åŒºå—é“¾ï¼ˆBlockchainï¼‰</strong>ï¼šæ”¯æŒå¤šé“¾ï¼ˆå›¾ä¸­æ ‡æ³¨ 1.1/1.2 å¯èƒ½æŒ‡ä¸åŒé“¾ç‰ˆæœ¬æˆ–ä¸»ç½‘/æµ‹è¯•ç½‘ï¼‰ã€‚</li>
<li><strong>åˆçº¦ä¸èµ„äº§ï¼ˆContracts &amp; Assetsï¼‰</strong>ï¼šå¦‚DeFiåè®®ã€NFTé¡¹ç›®ç­‰ã€‚</li>
<li><strong>Web2ç³»ç»Ÿ</strong>ï¼šä¼ ç»Ÿä¼ä¸šæ•°æ®ã€APIæœåŠ¡å’Œé—ç•™ç³»ç»Ÿï¼ˆå¦‚é“¶è¡Œæ”¯ä»˜ç½‘å…³ï¼‰ã€‚</li>
</ul>
<h4 id="å–‚ä»·ï¼ˆData-Feedï¼‰"><a href="#å–‚ä»·ï¼ˆData-Feedï¼‰" class="headerlink" title="å–‚ä»·ï¼ˆData Feedï¼‰"></a>å–‚ä»·ï¼ˆData Feedï¼‰</h4><h5 id="Data-Feed-æ¶æ„"><a href="#Data-Feed-æ¶æ„" class="headerlink" title="Data Feed æ¶æ„"></a>Data Feed æ¶æ„</h5><p><img src="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-11%20124451.png"></p>
<p>DONï¼šå»ä¸­å¿ƒåŒ–çš„é¢„è¨€æœºç½‘ç»œ</p>
<p>DONä»æ•°æ®æä¾›å•†é‚£é‡Œè·å–æ•°æ®ï¼Œå°†æ•°æ®åœ¨DONç½‘ç»œä¸­è¿›è¡Œä¸€æ¬¡èšåˆï¼Œèšåˆä¹‹åå°†æ•°æ®å†™å…¥é“¾ä¸Šæ‰€éƒ¨ç½²çš„ChainLink Data Feed åˆçº¦ä¸­ï¼Œç”¨æˆ·åˆçº¦å¯ä»¥é€šè¿‡Data Feed åˆçº¦çš„åœ°å€è¿›è¡Œè°ƒç”¨ï¼Œä»è€Œè·å–åˆ°å½“å‰ä»£å¸çš„ä»·æ ¼</p>
<h5 id="Data-Feed-ç»“æ„"><a href="#Data-Feed-ç»“æ„" class="headerlink" title="Data Feed ç»“æ„"></a>Data Feed ç»“æ„</h5><p><img src="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-11%20124904.png"></p>
<p>Aggregatorï¼šèšåˆåˆçº¦ï¼Œç”¨äºæ”¶é›†é“¾ä¸‹çš„æ•°æ®ï¼Œå°†å…¶å­˜å…¥åˆ°transmissionä¸­</p>
<p>é€šè¿‡æŸ¥çœ‹chainlinkæ–‡æ¡£ä¸­ï¼ŒData Feedåˆçº¦å†…å®¹ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡è°ƒç”¨åˆçº¦ä¸­çš„getChainlinkDataFeedLatestAnswerå‡½æ•°æ¥è·å–ä»£å¸å®æ—¶æ•°æ®ï¼Œåˆçº¦ä¼šè¿”å›ä¸€ä¸ªanswerå€¼ï¼Œå°±æ˜¯é“¾ä¸‹ä»£å¸å€¼ã€‚</p>
<img src="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-11%20125811.png" style="zoom:67%;">



<h4 id="éƒ¨ç½²ä¸€ä¸ªFundMeçš„æ™ºèƒ½åˆçº¦"><a href="#éƒ¨ç½²ä¸€ä¸ªFundMeçš„æ™ºèƒ½åˆçº¦" class="headerlink" title="éƒ¨ç½²ä¸€ä¸ªFundMeçš„æ™ºèƒ½åˆçº¦"></a>éƒ¨ç½²ä¸€ä¸ªFundMeçš„æ™ºèƒ½åˆçº¦</h4><p>éœ€æ±‚ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªæ”¶æ¬¾å‡½æ•°</li>
<li>è®°å½•æŠ•èµ„äººå¹¶ä¸”æŸ¥çœ‹</li>
<li>åœ¨é”å®šæœŸå†…ï¼Œè¾¾åˆ°ç›®æ ‡å€¼ï¼Œç”Ÿäº§å•†å¯ä»¥ææ¬¾</li>
<li>åœ¨é”å®šæœŸå†…ï¼Œæœªè¾¾åˆ°ç›®æ ‡å€¼ï¼ŒæŠ•èµ„äººå¯ä»¥é€€æ¬¾</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.20;</span><br><span class="line">import {AggregatorV3Interface} from "@chainlink/contracts/src/v0.8/shared/interfaces/AggregatorV3Interface.sol";</span><br><span class="line"></span><br><span class="line">//1.åˆ›å»ºä¸€ä¸ªæ”¶æ¬¾å‡½æ•°</span><br><span class="line">//2.è®°å½•æŠ•èµ„äººå¹¶ä¸”æŸ¥çœ‹ </span><br><span class="line">//3.åœ¨é”å®šæœŸå†…ï¼Œè¾¾åˆ°ç›®æ ‡å€¼ï¼Œç”Ÿäº§å•†å¯ä»¥ææ¬¾</span><br><span class="line">//4.åœ¨é”å®šæœŸå†…ï¼Œæœªè¾¾åˆ°ç›®æ ‡å€¼ï¼ŒæŠ•èµ„äººå¯ä»¥é€€æ¬¾</span><br><span class="line"></span><br><span class="line">contract FundMe {</span><br><span class="line">    mapping (address =&gt; uint256) public fundersToAmount;</span><br><span class="line"></span><br><span class="line">    uint256 constant MINIMUM_VALUE = 100 * 10 ** 18;   //USD</span><br><span class="line"></span><br><span class="line">    AggregatorV3Interface internal dataFeed;</span><br><span class="line"></span><br><span class="line">    uint256 constant TARGET = 1000 * 10 ** 18;</span><br><span class="line"></span><br><span class="line">    address public owner;</span><br><span class="line"></span><br><span class="line">    constructor(){</span><br><span class="line">        dataFeed = AggregatorV3Interface(0x694AA1769357215DE4FAC081bf1f309aDC325306);</span><br><span class="line">        owner = msg.sender;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    function fund() external  payable {</span><br><span class="line">        require(convertEthToUsd(msg.value) &gt;= MINIMUM_VALUE, "Send more ETH");</span><br><span class="line">        fundersToAmount[msg.sender] = msg.value;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function getChainlinkDataFeedLatestAnswer() public view returns (int) {</span><br><span class="line">        // prettier-ignore</span><br><span class="line">        (</span><br><span class="line">            //uint80 roundId,</span><br><span class="line">            int answer,</span><br><span class="line">            //uint256 startedAt,</span><br><span class="line">            //uint256 updatedAt,</span><br><span class="line">            //uint80 answeredInRound</span><br><span class="line">        ) = dataFeed.latestRoundData();</span><br><span class="line">        return answer;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function convertEthToUsd(uint256 ethAmount) internal view returns(uint256){</span><br><span class="line">        uint256 ethPrice = uint256(getChainlinkDataFeedLatestAnswer());</span><br><span class="line">        return ethAmount * ethPrice / (10**8);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function getFund() external {</span><br><span class="line">        require(convertEthToUsd(address(this).balance) &gt;= TARGET,"Target is not reached");</span><br><span class="line">        require(msg.sender == owner, "this funciton can only be called by owner");</span><br><span class="line">        //transfer</span><br><span class="line">        // payable(msg.sender).transfer(address(this).balance);</span><br><span class="line"></span><br><span class="line">        //send</span><br><span class="line">        // bool success = payable(msg.sender).send(address(this).balance);</span><br><span class="line">        // require(success, "tx failed");</span><br><span class="line"></span><br><span class="line">        //call </span><br><span class="line">        bool success;</span><br><span class="line">        (success, ) = payable(msg.sender).call{value: address(this).balance}("");</span><br><span class="line">        require(success ,"transfer tx failed");</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function transformOwnerShip(address newOwner) public {</span><br><span class="line">        require(msg.sender == owner, "this funciton can only be called by owner");</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function refund() external {</span><br><span class="line">        require(convertEthToUsd(address(this).balance) &lt; TARGET,"Target is reached");</span><br><span class="line">        require(fundersToAmount[msg.sender] != 0, "there is no fund for you");</span><br><span class="line">        bool success;</span><br><span class="line">        (success, ) = payable(msg.sender).call{value: fundersToAmount[msg.sender]}("");</span><br><span class="line">        require(success ,"transfer tx failed");</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>payableï¼šè¦æœ‰è¿™ä¸ªå‚æ•°æ‰èƒ½æ‰§è¡Œæ”¶æ¬¾</p>
<p>åˆ›å»ºä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå»chainlinkä¸­æ‰¾åˆ°ä»·æ ¼ä¿¡æ¯æ¥æºåœ°å€</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">constructor(){</span><br><span class="line">		//sepolia testnet</span><br><span class="line">        dataFeed = AggregatorV3Interface(0x694AA1769357215DE4FAC081bf1f309aDC325306);</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/xmhhmx/PicGoCDN//img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-11%20154641.png"></p>
<p>å†™ä¸€ä¸ªæ–°çš„å‡½æ•°ç”¨äºè½¬æ¢ETHå’ŒUSD</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> function fund() external  payable {</span><br><span class="line">        require(convertEthToUsd(msg.value) &gt;= MINIMUM_VALUE, "Send more ETH");	//å¦‚æœä¸æ»¡è¶³æ‰§è¡Œå›é€€ï¼Œè¿”å›"Send more ETH"</span><br><span class="line">        fundersToAmount[msg.sender] = msg.value;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">function convertEthToUsd(uint256 ethAmount) internal view returns(uint256){</span><br><span class="line">        uint256 ethPrice = uint256(getChainlinkDataFeedLatestAnswer());</span><br><span class="line">        return ethAmount * ethPrice / (10**8);</span><br><span class="line">        // ETH / USD    precision= 10 ** 8</span><br><span class="line">        // X / ETH 		precision= 10 ** 18</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<p>æ³¨æ„ï¼šgetChainlinkDataFeedLatestAnswer()è·å¾—çš„å€¼æ˜¯ä¸€ä¸ªintç±»å‹çš„ï¼Œéœ€è¦å¼ºåˆ¶è½¬æ¢ä¸ºuint256ç±»å‹</p>
<h5 id="è½¬è´¦çš„ä¸‰ç§ç±»å‹"><a href="#è½¬è´¦çš„ä¸‰ç§ç±»å‹" class="headerlink" title="è½¬è´¦çš„ä¸‰ç§ç±»å‹"></a>è½¬è´¦çš„ä¸‰ç§ç±»å‹</h5><ol>
<li>transferï¼šå¤±è´¥åˆ™ç›´æ¥å›é€€</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ç»“æ„ï¼šaddr.transfer(value)</span><br><span class="line">payable(msg.sender).transfer(address(this).balance);</span><br></pre></td></tr></tbody></table></figure>

<table>
<thead>
<tr>
<th align="left">ä»£ç ç‰‡æ®µ</th>
<th align="left">ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>address(this).balance</code></td>
<td align="left">è·å–å½“å‰åˆçº¦åœ°å€æŒæœ‰çš„ ETH ä½™é¢ï¼ˆå•ä½ï¼šweiï¼Œ1 ETH = 10Â¹â¸ weiï¼‰</td>
</tr>
<tr>
<td align="left"><code>payable(msg.sender)</code></td>
<td align="left">å°†è°ƒç”¨è€…åœ°å€è½¬æ¢ä¸ºå¯æ¥æ”¶ ETH çš„ <code>payable</code> ç±»å‹</td>
</tr>
<tr>
<td align="left"><code>.transfer(...)</code></td>
<td align="left">å‘ç›®æ ‡åœ°å€å‘é€ ETHï¼ˆè‡ªåŠ¨å¤„ç† wei å•ä½ï¼Œå¤±è´¥æ—¶å›æ»šäº¤æ˜“ï¼‰</td>
</tr>
</tbody></table>
<ol start="2">
<li>sendï¼šå¤±è´¥è¿”å›falseå¸ƒå°”å€¼</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç»“æ„ï¼šaddr.send(value)</span><br><span class="line">bool success = payable(msg.sender).send(address(this).balance);</span><br><span class="line">require(success, "tx failed");</span><br></pre></td></tr></tbody></table></figure>

<ol start="3">
<li>callï¼šå¯ä»¥åœ¨è½¬è´¦çš„åŒæ—¶å¸¦ä¸Šæ•°æ®ï¼Œè¿”å›å‡½æ•°è¿”å›å€¼ä»¥åŠå¸ƒå°”å€¼</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ç»“æ„ï¼š(bool ,result) = addr.call{value: value}("")</span><br><span class="line">bool success;</span><br><span class="line">(success, ) = payable(msg.sender).call{value: address(this).balance}("");</span><br><span class="line">æ²¡æœ‰è°ƒç”¨å‡½æ•° æ‰€ä»¥""å†…ä¸ºç©ºï¼Œä¹Ÿæ²¡æœ‰å‡½æ•°è¿”å›å€¼ï¼Œresultå¯ä»¥åˆ¶ç©º</span><br></pre></td></tr></tbody></table></figure>

<h5 id="ææ¬¾"><a href="#ææ¬¾" class="headerlink" title="ææ¬¾"></a>ææ¬¾</h5><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function refund() external {</span><br><span class="line">        require(convertEthToUsd(address(this).balance) &lt; TARGET,"Target is reached");</span><br><span class="line">        require(fundersToAmount[msg.sender] != 0, "there is no fund for you");</span><br><span class="line">        bool success;</span><br><span class="line">        (success, ) = payable(msg.sender).call{value: fundersToAmount[msg.sender]}("");</span><br><span class="line">        require(success ,"transfer tx failed");</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ä¸ªå‡½æ•°å­˜åœ¨ä¸€ä¸ªbugï¼Œå°±æ˜¯ä¸€ä¸ªäººå°†è‡ªå·±çš„å­˜æ¬¾æå‡ºåï¼Œæœªå¯¹è¯¥è´¦æˆ·è¿›è¡Œæ¸…é›¶ï¼Œå¯¼è‡´è¿™ä¸ªäººå¯ä»¥ç»§ç»­refundï¼Œæå–åˆ«äººçš„å­˜æ¬¾</p>
<p>æ”¹è¿›ï¼ŒåŠ ä¸€å¥ææ¬¾åæ¸…é›¶è´¦æˆ·ï¼ŒfundersToAmount[msg.sender] = 0</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function refund() external {</span><br><span class="line">        require(convertEthToUsd(address(this).balance) &lt; TARGET,"Target is reached");</span><br><span class="line">        require(fundersToAmount[msg.sender] != 0, "there is no fund for you");</span><br><span class="line">        bool success;</span><br><span class="line">        (success, ) = payable(msg.sender).call{value: fundersToAmount[msg.sender]}("");</span><br><span class="line">        require(success ,"transfer tx failed");</span><br><span class="line">        fundersToAmount[msg.sender] = 0		//</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>



<h5 id="æ—¶é—´é”"><a href="#æ—¶é—´é”" class="headerlink" title="æ—¶é—´é”"></a>æ—¶é—´é”</h5><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uint256 deploymentTimestamp;		//åˆçº¦éƒ¨ç½²æ—¶å€™çš„æ—¶é—´æˆ³ï¼ˆé’ˆå¯¹äº1970å¹´1æœˆ1æ—¥ç®—èµ·ï¼‰</span><br><span class="line">uint256 lockTime;					//ç§’ä¸ºå•ä½	</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨solidityä¸­æ²¡æœ‰ä¸“é—¨çš„æ—¶é—´ç±»å‹ï¼Œä½¿ç”¨æ•´å½¢æ•°æ®ç±»å‹ã€‚</p>
<p>ä¿®æ”¹æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–æ—¶é—´æˆ³å’Œéœ€è¦é”å®šæ—¶é—´</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">constructor(uint256 _lockTime){</span><br><span class="line">        dataFeed = AggregatorV3Interface(0x694AA1769357215DE4FAC081bf1f309aDC325306);</span><br><span class="line">        owner = msg.sender;</span><br><span class="line">        deploymentTimestamp = block.timestamp;		//</span><br><span class="line">        lockTime = _lockTime;						//</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<p>æ›´æ”¹fundå‡½æ•°</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function fund() external  payable {</span><br><span class="line">        require(convertEthToUsd(msg.value) &gt;= MINIMUM_VALUE, "Send more ETH");</span><br><span class="line">        require(block.timestamp &lt; deploymentTimestamp + lockTime, "window is closed");//</span><br><span class="line">        fundersToAmount[msg.sender] = msg.value;</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<p>æ›´æ”¹getfundå‡½æ•°</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function getFund() external {</span><br><span class="line">        require(convertEthToUsd(address(this).balance) &gt;= TARGET,"Target is not reached");</span><br><span class="line">        require(msg.sender == owner, "this funciton can only be called by owner");</span><br><span class="line">        require(block.timestamp &gt;= deploymentTimestamp + lockTime, "window is not closed"); 	//</span><br></pre></td></tr></tbody></table></figure>

<p>æ›´æ”¹refundå‡½æ•°ï¼Œæ›´æ”¹å¤„äºgetfundç›¸åŒ</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function refund() external windowClose {</span><br><span class="line">        require(convertEthToUsd(address(this).balance) &lt; TARGET,"Target is reached");</span><br><span class="line">        require(fundersToAmount[msg.sender] != 0, "there is no fund for you");</span><br></pre></td></tr></tbody></table></figure>



<h5 id="modifierä¿®æ”¹å™¨"><a href="#modifierä¿®æ”¹å™¨" class="headerlink" title="modifierä¿®æ”¹å™¨"></a>modifierä¿®æ”¹å™¨</h5><p>ç»Ÿä¸€å¤„ç†requireå‡½æ•°</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">modifier windowClose(){</span><br><span class="line">	require(block.timestamp &gt;= deploymentTimestamp + lockTime, "window is not closed");</span><br><span class="line">	_;			//å‡½æ•°å‰©ä½™å†…å®¹ï¼Œæ­¤å¤„è¯æ˜requireè¦å…ˆäºå…¶ä»–å‡½æ•°å†…å®¹æ‰§è¡Œ</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœ_;åœ¨å‰é¢</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">modifier windowClose(){</span><br><span class="line">	_;	    //å‡½æ•°å‰©ä½™å†…å®¹å…ˆæ‰§è¡Œï¼Œå†æ‰§è¡Œrequire</span><br><span class="line">	require(block.timestamp &gt;= deploymentTimestamp + lockTime, "window is not closed");</span><br><span class="line">			</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>









<h3 id="æ™ºèƒ½åˆçº¦å¼€å‘"><a href="#æ™ºèƒ½åˆçº¦å¼€å‘" class="headerlink" title="æ™ºèƒ½åˆçº¦å¼€å‘"></a>æ™ºèƒ½åˆçº¦å¼€å‘</h3><h4 id="Dapp-æ¶æ„å’Œå¼€å‘æµç¨‹"><a href="#Dapp-æ¶æ„å’Œå¼€å‘æµç¨‹" class="headerlink" title="Dapp æ¶æ„å’Œå¼€å‘æµç¨‹"></a>Dapp æ¶æ„å’Œå¼€å‘æµç¨‹</h4><p>Dappï¼šå»ä¸­å¿ƒåŒ–åº”ç”¨ï¼Œè¿è¡Œåœ¨åŒºå—é“¾æˆ–åˆ†å¸ƒå¼ç½‘ç»œä¸Šï¼Œåº”ç”¨çš„é€»è¾‘å’Œæ•°æ®æ˜¯ç”±å¤šä¸ªå‚ä¸è€…å…±åŒç»´æŠ¤ã€‚</p>
<h5 id="Dapp-æ¶æ„"><a href="#Dapp-æ¶æ„" class="headerlink" title="Dapp æ¶æ„"></a>Dapp æ¶æ„</h5><p>ä¸‰ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼š</p>
<ol>
<li><strong>å‰ç«¯ï¼ˆUser Interfaceï¼‰</strong>ï¼š</li>
</ol>
<ul>
<li>å‰ç«¯æ˜¯ Dapp ä¸ç”¨æˆ·äº¤äº’çš„ç•Œé¢ï¼Œé€šå¸¸ç”± HTMLã€CSS å’Œ JavaScriptï¼ˆå¦‚ Reactã€Vue ç­‰æ¡†æ¶ï¼‰æ„å»ºã€‚ä¸ä¼ ç»Ÿ Web åº”ç”¨ä¸åŒï¼ŒDapp å‰ç«¯ä¼šè¿æ¥åŒºå—é“¾æ¥è°ƒç”¨æ™ºèƒ½åˆçº¦ï¼Œå‘ˆç°æ•°æ®å’Œæ‰§è¡Œäº¤æ˜“ã€‚</li>
<li>å‰ç«¯è¿˜éœ€è¦é›†æˆåŒºå—é“¾é’±åŒ…ï¼ˆå¦‚ MetaMaskï¼‰æ¥è¿›è¡Œèº«ä»½éªŒè¯å’Œç­¾ç½²äº¤æ˜“ï¼Œç¡®ä¿ç”¨æˆ·çš„éšç§å’Œå®‰å…¨ã€‚</li>
</ul>
<ol start="2">
<li><strong>æ™ºèƒ½åˆçº¦ï¼ˆSmart Contractsï¼‰</strong>ï¼š</li>
</ol>
<ul>
<li>æ™ºèƒ½åˆçº¦æ˜¯ Dapp çš„æ ¸å¿ƒï¼Œå®ƒå®šä¹‰äº†åº”ç”¨çš„ä¸šåŠ¡é€»è¾‘ï¼Œå¹¶éƒ¨ç½²åœ¨åŒºå—é“¾ä¸Šã€‚æ™ºèƒ½åˆçº¦é€šè¿‡æ‰§è¡Œè‡ªåŠ¨åŒ–çš„è§„åˆ™æ¥ç¡®ä¿äº¤æ˜“å’Œæ“ä½œçš„é€æ˜æ€§ä¸ä¸å¯ç¯¡æ”¹æ€§ã€‚</li>
<li>åœ¨ä»¥å¤ªåŠå¹³å°ä¸Šï¼Œæ™ºèƒ½åˆçº¦é€šå¸¸ä½¿ç”¨ <strong>Solidity</strong> ç¼–ç¨‹è¯­è¨€ç¼–å†™ï¼Œå¹¶é€šè¿‡ <strong>Ethereum Virtual Machine (EVM)</strong> æ‰§è¡Œã€‚</li>
</ul>
<ol start="3">
<li><strong>æ•°æ®æ£€ç´¢å™¨ï¼ˆIndexerï¼‰</strong>ï¼š</li>
</ol>
<ul>
<li>æ™ºèƒ½åˆçº¦é€šå¸¸ä»¥ <code>Event</code> å½¢å¼é‡Šæ”¾æ—¥å¿—äº‹ä»¶ï¼Œæ¯”å¦‚é‡Šæ”¾ä»£è¡¨ NFT è½¬ç§»çš„ <code>Transfer</code> äº‹ä»¶ï¼Œæ•°æ®æ£€ç´¢å™¨ä¼šæ£€ç´¢è¿™äº›æ•°æ®å¹¶å°†å…¶å†™å…¥åˆ° PostgreSQL ç­‰ä¼ ç»Ÿæ•°æ®åº“ä¸­</li>
<li>Dapp åœ¨å‰ç«¯è¿›è¡Œæ•°æ®å±•ç¤ºæ—¶éœ€è¦æ£€ç´¢å™¨å†…çš„æ•°æ®ã€‚ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹æ˜¯æŸ NFT é¡¹ç›®éœ€è¦å±•ç¤ºç”¨æˆ·æŒæœ‰çš„æ‰€æœ‰ NFTï¼Œä½†æ˜¯ NFT åˆçº¦å¹¶ä¸ä¼šæä¾›é€šè¿‡è¾“å…¥åœ°å€å‚æ•°è¿”å›è¯¥åœ°å€ä¸‹çš„æ‰€æœ‰ NFT çš„å‡½æ•°ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥è¿è¡Œæ•°æ®æ£€ç´¢å™¨å°† <code>Transfer</code> äº‹ä»¶è¯»å–åå†™å…¥ä¼ ç»Ÿæ•°æ®åº“å†…ï¼Œå‰ç«¯å¯ä»¥åœ¨ä¼ ç»Ÿæ•°æ®åº“å†…æ£€ç´¢ç”¨æˆ·æŒæœ‰çš„ NFT æ•°æ®</li>
</ul>
<ol start="4">
<li><strong>åŒºå—é“¾å’Œå»ä¸­å¿ƒåŒ–å­˜å‚¨ï¼ˆBlockchain &amp; Decentralized Storageï¼‰</strong>ï¼š</li>
</ol>
<ul>
<li>åŒºå—é“¾ç”¨äºå­˜å‚¨æ™ºèƒ½åˆçº¦çš„çŠ¶æ€æ•°æ®åŠäº¤æ˜“è®°å½•ã€‚å»ä¸­å¿ƒåŒ–å­˜å‚¨å¦‚ <strong>IPFS</strong>ï¼ˆInterPlanetary File Systemï¼‰æˆ– <strong>Arweave</strong>ï¼Œç”¨äºå­˜å‚¨å¤§è§„æ¨¡çš„éç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚å›¾ç‰‡ã€æ–‡æ¡£ç­‰ï¼‰ï¼Œç¡®ä¿æ•°æ®ä¸æ˜“ä¸¢å¤±å’Œç¯¡æ”¹ã€‚</li>
<li>é€šè¿‡ä½¿ç”¨å»ä¸­å¿ƒåŒ–å­˜å‚¨ï¼ŒDapp ç¡®ä¿æ‰€æœ‰æ•°æ®åœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šå¤‡ä»½ï¼Œä¿è¯æ•°æ®çš„æŒä¹…æ€§å’Œå»ä¸­å¿ƒåŒ–ç‰¹æ€§ã€‚</li>
</ul>
<h5 id="Dapp-å¼€å‘æµç¨‹"><a href="#Dapp-å¼€å‘æµç¨‹" class="headerlink" title="Dapp å¼€å‘æµç¨‹"></a>Dapp å¼€å‘æµç¨‹</h5><ol>
<li><p><strong>éœ€æ±‚åˆ†æä¸è§„åˆ’</strong></p>
<p> åœ¨å¼€å‘ Dapp ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦è¿›è¡Œéœ€æ±‚åˆ†æå’Œè§„åˆ’ï¼Œæ˜ç¡®åº”ç”¨çš„ç›®æ ‡å’ŒåŠŸèƒ½ã€‚æ­¤é˜¶æ®µåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ç¡®å®šåŠŸèƒ½éœ€æ±‚</strong>ï¼šéœ€è¦å®šä¹‰ç”¨æˆ·å¯ä»¥è¿›è¡Œçš„æ“ä½œï¼Œæ¯”å¦‚è½¬è´¦ã€æŸ¥è¯¢ä½™é¢ã€åˆ›å»ºæŠ•ç¥¨ç­‰ã€‚</li>
<li><strong>é€‰æ‹©åŒºå—é“¾å¹³å°</strong>ï¼šå†³å®šåœ¨å“ªä¸ªå¹³å°ä¸Šæ„å»º Dappï¼ˆå¦‚ä»¥å¤ªåŠã€Solanaã€Polygon ç­‰ï¼‰ï¼Œè¿™é€šå¸¸å–å†³äºç›®æ ‡ç”¨æˆ·ç¾¤ã€äº¤æ˜“æˆæœ¬ã€å¯æ‰©å±•æ€§ç­‰å› ç´ ã€‚</li>
<li><strong>è®¾è®¡ç”¨æˆ·ä½“éªŒï¼ˆUXï¼‰</strong>ï¼šå®šä¹‰ Dapp çš„ç•Œé¢è®¾è®¡å’Œäº¤äº’æµç¨‹ï¼Œç¡®ä¿ç”¨æˆ·èƒ½å¤Ÿè½»æ¾ä½¿ç”¨åº”ç”¨å¹¶ä¸åŒºå—é“¾äº¤äº’ã€‚</li>
</ul>
</li>
<li><p><strong>æ™ºèƒ½åˆçº¦å¼€å‘</strong></p>
<p> æ™ºèƒ½åˆçº¦æ˜¯ Dapp çš„æ ¸å¿ƒï¼Œè´Ÿè´£æ‰§è¡Œå»ä¸­å¿ƒåŒ–çš„ä¸šåŠ¡é€»è¾‘å’Œå­˜å‚¨é‡è¦çš„æ•°æ®ã€‚åœ¨è¿™ä¸€é˜¶æ®µï¼Œå¼€å‘è€…éœ€è¦ï¼š</p>
<ul>
<li><strong>ç¼–å†™æ™ºèƒ½åˆçº¦</strong>ï¼šä½¿ç”¨ <strong>Solidity</strong> æˆ–å…¶ä»–æ™ºèƒ½åˆçº¦è¯­è¨€ç¼–å†™åˆçº¦ï¼Œç¡®ä¿åˆçº¦çš„åŠŸèƒ½æ»¡è¶³éœ€æ±‚åˆ†æä¸­å®šä¹‰çš„è¦æ±‚ã€‚</li>
<li><strong>ç¼–å†™æµ‹è¯•ç”¨ä¾‹</strong>ï¼šä¸ºæ™ºèƒ½åˆçº¦ç¼–å†™å•å…ƒæµ‹è¯•ï¼Œç¡®ä¿åˆçº¦é€»è¾‘æ­£ç¡®ã€æ— æ¼æ´ã€‚</li>
<li><strong>å®¡è®¡å’Œä¼˜åŒ–</strong>ï¼šå¯¹åˆçº¦è¿›è¡Œå®‰å…¨å®¡è®¡ï¼Œç¡®ä¿åˆçº¦çš„å®‰å…¨æ€§ï¼Œé¿å…å¸¸è§æ¼æ´ï¼ˆå¦‚é‡å…¥æ”»å‡»ã€æ•´æ•°æº¢å‡ºç­‰ï¼‰ã€‚</li>
</ul>
</li>
<li><p><strong>æ£€ç´¢å™¨å¼€å‘</strong></p>
<p> æ£€ç´¢å™¨æ˜¯<u><strong>è·å–é“¾ä¸Šæ•°æ®çš„æ ¸å¿ƒ</strong></u>ï¼Œ<u><strong>è´Ÿè´£æ•è·æ™ºèƒ½åˆçº¦é‡Šæ”¾çš„äº‹ä»¶å¹¶ä»¥åˆç†çš„æ–¹å¼å°†å…¶å­˜å…¥æ•°æ®åº“</strong></u>çš„ä¸åŒçš„è¡¨å†…éƒ¨ã€‚åœ¨è¿™ä¸€é˜¶æ®µï¼Œå¼€å‘è€…éœ€è¦:</p>
<ul>
<li><strong>ç¡®å®šåŠŸèƒ½éœ€è¦çš„æ•°æ®å†…å®¹</strong>: å‰ç«¯ä½¿ç”¨çš„æ•°æ®å¤§éƒ¨ä»½éƒ½ç›´æ¥æ¥è‡ªæ£€ç´¢å™¨ï¼Œæ‰€ä»¥å¼€å‘è€…éœ€è¦ç¡®å®šå‰ç«¯å·¥ç¨‹å¸ˆæ‰€éœ€è¦çš„æ•°æ®</li>
<li><strong>ç¼–å†™æ£€ç´¢å™¨ç¨‹åº</strong>: ç›®å‰ä¸»æµçš„æ£€ç´¢å™¨æ¡†æ¶ï¼Œå¦‚ ponder å’Œ subgraph éƒ½æ˜¯ç”¨äº† TypeScript è¯­è¨€ä½œä¸ºæ£€ç´¢å™¨çš„ç¨‹åºç¼–å†™è¯­è¨€ï¼Œå¼€å‘è€…ä¸»è¦ç¼–å†™äº‹ä»¶æ•°æ®æ¸…ç†ä»¥åŠäº‹ä»¶æ•°æ®å†™å…¥æ•°æ®åº“çš„ä»£ç </li>
<li><strong>éƒ¨ç½²å’Œè¿ç»´</strong>: ç¼–å†™ç¨‹åºå®Œæˆåï¼Œä¸€èˆ¬ä½¿ç”¨ Docker éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä¸­ï¼Œå½“ç„¶ç›®å‰å¾ˆå¤šæ£€ç´¢å™¨æ¡†æ¶ä¹Ÿæä¾› SaaS æœåŠ¡ï¼ŒåŒæ—¶æ£€ç´¢å™¨ä½œä¸ºä¸€ä¸ªå¸¸è§„çš„æ•°æ®åº“åº”ç”¨éœ€è¦è¿ç»´</li>
</ul>
</li>
<li><p><strong>å‰ç«¯å¼€å‘</strong></p>
<p> å‰ç«¯æ˜¯ç”¨æˆ·ä¸ Dapp äº¤äº’çš„ä¸»è¦ç•Œé¢ï¼Œå› æ­¤å¼€å‘å‰ç«¯æ—¶éœ€è¦ï¼š</p>
<ul>
<li><strong>é€‰æ‹©å‰ç«¯æ¡†æ¶</strong>ï¼šå¯ä»¥ä½¿ç”¨ç°ä»£å‰ç«¯æ¡†æ¶ï¼ˆå¦‚ <strong>React</strong>ã€<strong>Vue</strong>ï¼‰æ¥æ„å»º UIã€‚å‰ç«¯å°†é€šè¿‡ JavaScript ä¸æ™ºèƒ½åˆçº¦è¿›è¡Œäº¤äº’ã€‚</li>
<li><strong>è¿æ¥é’±åŒ…</strong>ï¼šé€šè¿‡é›†æˆ <strong>MetaMask</strong> ç­‰ Web3 é’±åŒ…ï¼Œç”¨æˆ·å¯ä»¥è¿æ¥åˆ° Dappï¼Œå¹¶æˆæƒå…¶ä¸æ™ºèƒ½åˆçº¦äº¤äº’ã€‚</li>
<li><strong>æ˜¾ç¤ºåŒºå—é“¾æ•°æ®</strong>ï¼šå‰ç«¯éœ€è¦ä»åŒºå—é“¾å’Œæ£€ç´¢å™¨å†…è·å–æ•°æ®ï¼ˆå¦‚è´¦æˆ·ä½™é¢ã€äº¤æ˜“è®°å½•ï¼‰ï¼Œå¹¶é€šè¿‡ç”¨æˆ·ç•Œé¢å±•ç¤ºã€‚</li>
<li><strong>å¤„ç†äº¤æ˜“ç­¾åä¸ç¡®è®¤</strong>ï¼šå½“ç”¨æˆ·å‘èµ·äº¤æ˜“æ—¶ï¼Œå‰ç«¯éœ€è¦ä¸é’±åŒ…è¿›è¡Œäº¤äº’ï¼Œè·å–ç”¨æˆ·çš„ç­¾åå¹¶å°†äº¤æ˜“å‘é€åˆ°åŒºå—é“¾ã€‚</li>
</ul>
</li>
<li><p><strong>ä¸åŒºå—é“¾äº¤äº’</strong></p>
<p> å‰ç«¯å’Œæ™ºèƒ½åˆçº¦é€šè¿‡ <strong>Viem</strong>ï¼ˆæ¨èï¼‰ã€<strong>Ethers.js</strong> æˆ– <strong>Wagmi</strong> ç­‰ç°ä»£åŒ–åº“è¿›è¡Œäº¤äº’ã€‚è¿™äº›åº“æä¾›æ›´å¥½çš„ TypeScript æ”¯æŒå’Œæ€§èƒ½ä¼˜åŒ–ï¼š</p>
<ul>
<li><strong>è¯»å–æ•°æ®</strong>ï¼šå‰ç«¯é€šè¿‡æ™ºèƒ½åˆçº¦çš„å…¬å…±å‡½æ•°è¯»å–åŒºå—é“¾ä¸Šçš„çŠ¶æ€æ•°æ®ï¼ˆå¦‚ä½™é¢ã€åˆçº¦ä¿¡æ¯ï¼‰ã€‚</li>
<li><strong>å‘é€äº¤æ˜“</strong>ï¼šå½“ç”¨æˆ·å‘èµ·äº¤æ˜“æ—¶ï¼Œå‰ç«¯éœ€è¦é€šè¿‡é’±åŒ…ç­¾ç½²äº¤æ˜“å¹¶å‘é€åˆ°åŒºå—é“¾ï¼Œæ‰§è¡Œåˆçº¦ä¸­çš„æŸä¸ªåŠŸèƒ½ï¼ˆå¦‚è½¬è´¦ï¼‰ã€‚</li>
</ul>
</li>
<li><p><strong>éƒ¨ç½²ä¸ä¸Šçº¿</strong></p>
<p> ä¸€æ—¦å¼€å‘å®Œæˆï¼ŒDapp è¿›å…¥éƒ¨ç½²é˜¶æ®µã€‚å…·ä½“æ­¥éª¤åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>éƒ¨ç½²æ™ºèƒ½åˆçº¦</strong>ï¼šæ¨èä½¿ç”¨ <strong>Hardhat</strong> æˆ– <strong>Foundry</strong>ï¼ˆç°ä»£åŒ–å¼€å‘å·¥å…·ï¼‰å°†æ™ºèƒ½åˆçº¦éƒ¨ç½²åˆ°æµ‹è¯•ç½‘ï¼ˆå¦‚ <strong>Sepolia</strong>ã€<strong>Holesky</strong>ï¼‰æˆ–ä¸»ç½‘ã€‚</li>
<li><strong>å‰ç«¯éƒ¨ç½²</strong>ï¼šå°†å‰ç«¯åº”ç”¨éƒ¨ç½²åˆ°å»ä¸­å¿ƒåŒ–å¹³å°ï¼ˆå¦‚ <strong>IPFS</strong>ï¼‰æˆ–ä¼ ç»Ÿçš„ Web æœåŠ¡ï¼ˆVercelï¼‰ã€‚</li>
<li><strong>å‘å¸ƒå’Œç»´æŠ¤</strong>ï¼šå°† Dapp ä¸Šçº¿ï¼Œè¿›è¡Œç”¨æˆ·åé¦ˆæ”¶é›†ï¼Œå®šæœŸæ›´æ–°åˆçº¦å’Œå‰ç«¯ï¼Œä¿®å¤æ½œåœ¨é—®é¢˜ã€‚</li>
</ul>
</li>
</ol>
<h2 id="8æœˆ12æ—¥"><a href="#8æœˆ12æ—¥" class="headerlink" title="8æœˆ12æ—¥"></a>8æœˆ12æ—¥</h2><table>
<thead>
<tr>
<th>ä»Šæ—¥å­¦ä¹ å†…å®¹</th>
</tr>
</thead>
<tbody><tr>
<td>CryptoZombiesxçš„solidityå­¦ä¹ \Solidity: Beginner to Intermediate Smart Contracts\lesson3 é«˜çº§ Solidity ç†è®º</td>
</tr>
<tr>
<td>CryptoZombiesxçš„solidityå­¦ä¹ \Solidity: Beginner to Intermediate Smart Contracts\lesson4 åƒµå°¸ä½œæˆ˜ç³»ç»Ÿ</td>
</tr>
<tr>
<td>CryptoZombiesxçš„solidityå­¦ä¹ \Solidity: Beginner to Intermediate Smart Contracts\lesson5 ERC721 æ ‡å‡†å’ŒåŠ å¯†æ”¶è—å“</td>
</tr>
<tr>
<td>openzeppelinæ”»é˜²æŒ‘æˆ˜å‰ä¸‰å…³</td>
</tr>
</tbody></table>
<h2 id="CryptoZombiesxçš„solidityå­¦ä¹ -2"><a href="#CryptoZombiesxçš„solidityå­¦ä¹ -2" class="headerlink" title="CryptoZombiesxçš„solidityå­¦ä¹ "></a>CryptoZombiesxçš„solidityå­¦ä¹ </h2><h2 id="Solidity-Beginner-to-Intermediate-Smart-Contracts-2"><a href="#Solidity-Beginner-to-Intermediate-Smart-Contracts-2" class="headerlink" title="Solidity: Beginner to Intermediate Smart Contracts"></a>Solidity: Beginner to Intermediate Smart Contracts</h2><h2 id="lesson3-é«˜çº§-Solidity-ç†è®º"><a href="#lesson3-é«˜çº§-Solidity-ç†è®º" class="headerlink" title="lesson3 é«˜çº§ Solidity ç†è®º"></a>lesson3 é«˜çº§ Solidity ç†è®º</h2><h3 id="ç¬¬1ç« -æ™ºèƒ½åè®®çš„æ°¸å›ºæ€§"><a href="#ç¬¬1ç« -æ™ºèƒ½åè®®çš„æ°¸å›ºæ€§" class="headerlink" title="ç¬¬1ç« : æ™ºèƒ½åè®®çš„æ°¸å›ºæ€§"></a>ç¬¬1ç« : æ™ºèƒ½åè®®çš„æ°¸å›ºæ€§</h3><p>åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä»¬è®²çš„ Solidity å’Œå…¶ä»–è¯­è¨€æ²¡æœ‰è´¨çš„åŒºåˆ«ï¼Œå®ƒé•¿å¾—ä¹Ÿå¾ˆåƒ JavaScriptã€‚</p>
<p>ä½†æ˜¯ï¼Œåœ¨æœ‰å‡ ç‚¹ä»¥å¤ªåŠä¸Šçš„ DApp è·Ÿæ™®é€šçš„åº”ç”¨ç¨‹åºæœ‰ç€å¤©å£¤ä¹‹åˆ«ã€‚</p>
<p>ç¬¬ä¸€ä¸ªä¾‹å­ï¼Œåœ¨ä½ æŠŠæ™ºèƒ½åè®®ä¼ ä¸Šä»¥å¤ªåŠä¹‹åï¼Œå®ƒå°±å˜å¾—<strong>ä¸å¯æ›´æ”¹</strong>, è¿™ç§æ°¸å›ºæ€§æ„å‘³ç€ä½ çš„ä»£ç æ°¸è¿œä¸èƒ½è¢«è°ƒæ•´æˆ–æ›´æ–°ã€‚</p>
<p>ä½ ç¼–è¯‘çš„ç¨‹åºä¼šä¸€ç›´ï¼Œæ°¸ä¹…çš„ï¼Œä¸å¯æ›´æ”¹çš„ï¼Œå­˜åœ¨ä»¥å¤ªåŠä¸Šã€‚è¿™å°±æ˜¯ Solidity ä»£ç çš„å®‰å…¨æ€§å¦‚æ­¤é‡è¦çš„ä¸€ä¸ªåŸå› ã€‚å¦‚æœä½ çš„æ™ºèƒ½åè®®æœ‰ä»»ä½•æ¼æ´ï¼Œå³ä½¿ä½ å‘ç°äº†ä¹Ÿæ— æ³•è¡¥æ•‘ã€‚ä½ åªèƒ½è®©ä½ çš„ç”¨æˆ·ä»¬æ”¾å¼ƒè¿™ä¸ªæ™ºèƒ½åè®®ï¼Œç„¶åè½¬ç§»åˆ°ä¸€ä¸ªæ–°çš„ä¿®å¤åçš„åˆçº¦ä¸Šã€‚</p>
<p>ä½†è¿™æ°å¥½ä¹Ÿæ˜¯æ™ºèƒ½åˆçº¦çš„ä¸€å¤§ä¼˜åŠ¿ã€‚ä»£ç è¯´æ˜ä¸€åˆ‡ã€‚å¦‚æœä½ å»è¯»æ™ºèƒ½åˆçº¦çš„ä»£ç ï¼Œå¹¶éªŒè¯å®ƒï¼Œä½ ä¼šå‘ç°ï¼Œä¸€æ—¦å‡½æ•°è¢«å®šä¹‰ä¸‹æ¥ï¼Œæ¯ä¸€æ¬¡çš„è¿è¡Œï¼Œç¨‹åºéƒ½ä¼šä¸¥æ ¼éµç…§å‡½æ•°ä¸­åŸæœ‰çš„ä»£ç é€»è¾‘ä¸€ä¸ä¸è‹Ÿåœ°æ‰§è¡Œï¼Œå®Œå…¨ä¸ç”¨æ‹…å¿ƒå‡½æ•°è¢«äººç¯¡æ”¹è€Œå¾—åˆ°æ„å¤–çš„ç»“æœã€‚</p>
<p><strong>å¤–éƒ¨ä¾èµ–å…³ç³»</strong></p>
<p>åœ¨ç¬¬2è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†åŠ å¯†å°çŒ«ï¼ˆCryptoKittiesï¼‰åˆçº¦çš„åœ°å€ç¡¬ç¼–ç åˆ° DApp ä¸­å»äº†ã€‚æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œå¦‚æœåŠ å¯†å°çŒ«å‡ºäº†ç‚¹é—®é¢˜ï¼Œæ¯”æ–¹è¯´ï¼Œé›†ä½“æ¶ˆå¤±äº†ä¼šæ€ä¹ˆæ ·ï¼Ÿ è™½ç„¶è¿™ç§äº‹æƒ…å‡ ä¹ä¸å¯èƒ½å‘ç”Ÿï¼Œä½†æ˜¯ï¼Œå¦‚æœå°çŒ«æ²¡äº†ï¼Œæˆ‘ä»¬çš„ DApp ä¹Ÿä¼šéšä¹‹å¤±æ•ˆ â€“ å› ä¸ºæˆ‘ä»¬åœ¨ DApp çš„ä»£ç ä¸­ç”¨â€œç¡¬ç¼–ç â€çš„æ–¹å¼æŒ‡å®šäº†åŠ å¯†å°çŒ«çš„åœ°å€ï¼Œå¦‚æœè¿™ä¸ªæ ¹æ®åœ°å€æ‰¾ä¸åˆ°å°çŒ«ï¼Œæˆ‘ä»¬çš„åƒµå°¸ä¹Ÿå°±åƒä¸åˆ°å°çŒ«äº†ï¼Œè€ŒæŒ‰ç…§å‰é¢çš„æè¿°ï¼Œæˆ‘ä»¬å´æ²¡æ³•ä¿®æ”¹åˆçº¦å»åº”ä»˜è¿™ä¸ªå˜åŒ–ï¼</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬ä¸èƒ½ç¡¬ç¼–ç ï¼Œè€Œè¦é‡‡ç”¨â€œå‡½æ•°â€ï¼Œä»¥ä¾¿äº DApp çš„å…³é”®éƒ¨åˆ†å¯ä»¥ä»¥å‚æ•°å½¢å¼ä¿®æ”¹ã€‚</p>
<p>æ¯”æ–¹è¯´ï¼Œæˆ‘ä»¬ä¸å†ä¸€å¼€å§‹å°±æŠŠçŒç‰©åœ°å€ç»™å†™å…¥ä»£ç ï¼Œè€Œæ˜¯å†™ä¸ªå‡½æ•° <code>setKittyContractAddress</code>, è¿è¡Œæ—¶å†è®¾å®šçŒç‰©çš„åœ°å€ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥éšæ—¶å»é”å®šæ–°çš„çŒç‰©ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒåŠ å¯†å°çŒ«é›†ä½“æ¶ˆå¤±äº†ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>è¯·ä¿®æ”¹ç¬¬2è¯¾çš„ä»£ç ï¼Œä½¿å¾—å¯ä»¥é€šè¿‡ç¨‹åºæ›´æ”¹ CryptoKitties åˆçº¦åœ°å€ã€‚</p>
<ol>
<li>åˆ é™¤é‡‡ç”¨ç¡¬ç¼–ç  æ–¹å¼çš„ <code>ckAddress</code> ä»£ç è¡Œã€‚</li>
<li>ä¹‹å‰åˆ›å»º <code>kittyContract</code> å˜é‡çš„é‚£è¡Œä»£ç ï¼Œä¿®æ”¹ä¸ºå¯¹ <code>kittyContract</code> å˜é‡çš„å£°æ˜ â€“ æš‚æ—¶ä¸ç»™å®ƒæŒ‡å®šå…·ä½“çš„å®ä¾‹ã€‚</li>
<li>åˆ›å»ºåä¸º <code>setKittyContractAddress</code> çš„å‡½æ•°ï¼Œ å®ƒå¸¦ä¸€ä¸ªå‚æ•° <code>_address</code>ï¼ˆ<code>address</code>ç±»å‹ï¼‰ï¼Œ å¯è§æ€§è®¾ä¸º<code>external</code>ã€‚</li>
<li>åœ¨å‡½æ•°å†…éƒ¨ï¼Œæ·»åŠ ä¸€è¡Œä»£ç ï¼Œå°† <code>kittyContract</code> å˜é‡è®¾ç½®ä¸ºè¿”å›å€¼ï¼š<code>KittyInterfaceï¼ˆ_addressï¼‰</code>ã€‚</li>
</ol>
<blockquote>
<p>æ³¨æ„ï¼šä½ å¯èƒ½ä¼šæ³¨æ„åˆ°è¿™ä¸ªåŠŸèƒ½æœ‰ä¸ªå®‰å…¨æ¼æ´ï¼Œåˆ«æ‹…å¿ƒ - å’±ä»¬åˆ°ä¸‹ä¸€ç« é‡Œè§£å†³å®ƒ;ï¼‰</p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">contract ZombieFeeding is ZombieFactory {</span><br><span class="line"></span><br><span class="line">  // 1. ç§»é™¤è¿™ä¸€è¡Œ:</span><br><span class="line">  //address ckAddress = 0x06012c8cf97BEaD5deAe237070F9587f8E7A266d;</span><br><span class="line">  // 2. åªå£°æ˜å˜é‡:</span><br><span class="line">  KittyInterface kittyContract;</span><br><span class="line"></span><br><span class="line">  // 3. å¢åŠ  setKittyContractAddress æ–¹æ³•</span><br><span class="line">  function setKittyContractAddress(address _address) external{</span><br><span class="line">    kittyContract = KittyInterface(_address);</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬2ç« -Ownable-Contracts"><a href="#ç¬¬2ç« -Ownable-Contracts" class="headerlink" title="ç¬¬2ç« : Ownable Contracts"></a>ç¬¬2ç« : Ownable Contracts</h3><p>ä¸Šä¸€ç« ä¸­ï¼Œæ‚¨æœ‰æ²¡æœ‰å‘ç°ä»»ä½•å®‰å…¨æ¼æ´å‘¢ï¼Ÿ</p>
<p>å‘€ï¼<code>setKittyContractAddress</code> å¯è§æ€§å±…ç„¶ç”³æ˜ä¸ºâ€œå¤–éƒ¨çš„â€ï¼ˆ<code>external</code>ï¼‰ï¼Œå²‚ä¸æ˜¯ä»»ä½•äººéƒ½å¯ä»¥è°ƒç”¨å®ƒï¼ ä¹Ÿå°±æ˜¯è¯´ï¼Œä»»ä½•è°ƒç”¨è¯¥å‡½æ•°çš„äººéƒ½å¯ä»¥æ›´æ”¹ CryptoKitties åˆçº¦çš„åœ°å€ï¼Œä½¿å¾—å…¶ä»–äººéƒ½æ²¡æ³•å†è¿è¡Œæˆ‘ä»¬çš„ç¨‹åºäº†ã€‚</p>
<p>æˆ‘ä»¬ç¡®å®æ˜¯å¸Œæœ›è¿™ä¸ªåœ°å€èƒ½å¤Ÿåœ¨åˆçº¦ä¸­ä¿®æ”¹ï¼Œä½†æˆ‘å¯æ²¡è¯´è®©æ¯ä¸ªäººå»æ”¹å®ƒå‘€ã€‚</p>
<p>è¦å¯¹ä»˜è¿™æ ·çš„æƒ…å†µï¼Œé€šå¸¸çš„åšæ³•æ˜¯æŒ‡å®šåˆçº¦çš„â€œæ‰€æœ‰æƒâ€ - å°±æ˜¯è¯´ï¼Œç»™å®ƒæŒ‡å®šä¸€ä¸ªä¸»äººï¼ˆæ²¡é”™ï¼Œå°±æ˜¯æ‚¨ï¼‰ï¼Œåªæœ‰ä¸»äººå¯¹å®ƒäº«æœ‰ç‰¹æƒã€‚</p>
<p><strong>OpenZeppelinåº“çš„<code>Ownable</code> åˆçº¦</strong></p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ª <code>Ownable</code> åˆçº¦çš„ä¾‹å­ï¼š æ¥è‡ª <strong>_ OpenZeppelin _</strong> Solidity åº“çš„ <code>Ownable</code> åˆçº¦ã€‚ OpenZeppelin æ˜¯ä¸»æ‰“å®‰ä¿å’Œç¤¾åŒºå®¡æŸ¥çš„æ™ºèƒ½åˆçº¦åº“ï¼Œæ‚¨å¯ä»¥åœ¨è‡ªå·±çš„ DAppsä¸­å¼•ç”¨ã€‚ç­‰æŠŠè¿™ä¸€è¯¾å­¦å®Œï¼Œæ‚¨ä¸è¦å‚¬æˆ‘ä»¬å‘å¸ƒä¸‹ä¸€è¯¾ï¼Œæœ€å¥½åˆ©ç”¨è¿™ä¸ªæ—¶é—´æŠŠ OpenZeppelin çš„ç½‘ç«™çœ‹çœ‹ï¼Œä¿ç®¡æ‚¨ä¼šå­¦åˆ°å¾ˆå¤šä¸œè¥¿ï¼</p>
<p>æŠŠæ¥¼ä¸‹è¿™ä¸ªåˆçº¦è¯»è¯»é€šï¼Œæ˜¯ä¸æ˜¯è¿˜æœ‰äº›æ²¡è§è¿‡ä»£ç ï¼Ÿåˆ«æ‹…å¿ƒï¼Œæˆ‘ä»¬éšåä¼šè§£é‡Šã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @title Ownable</span><br><span class="line"> * @dev The Ownable contract has an owner address, and provides basic authorization control</span><br><span class="line"> * functions, this simplifies the implementation of "user permissions".</span><br><span class="line"> */</span><br><span class="line">contract Ownable {</span><br><span class="line">  address public owner;</span><br><span class="line">  event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * @dev The Ownable constructor sets the original `owner` of the contract to the sender</span><br><span class="line">   * account.</span><br><span class="line">   */</span><br><span class="line">  function Ownable() public {</span><br><span class="line">    owner = msg.sender;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * @dev Throws if called by any account other than the owner.</span><br><span class="line">   */</span><br><span class="line">  modifier onlyOwner() {</span><br><span class="line">    require(msg.sender == owner);</span><br><span class="line">    _;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * @dev Allows the current owner to transfer control of the contract to a newOwner.</span><br><span class="line">   * @param newOwner The address to transfer ownership to.</span><br><span class="line">   */</span><br><span class="line">  function transferOwnership(address newOwner) public onlyOwner {</span><br><span class="line">    require(newOwner != address(0));</span><br><span class="line">    OwnershipTransferred(owner, newOwner);</span><br><span class="line">    owner = newOwner;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢æœ‰æ²¡æœ‰æ‚¨æ²¡å­¦è¿‡çš„ä¸œä¸œï¼Ÿ</p>
<ul>
<li>æ„é€ å‡½æ•°ï¼š<code>function Ownable()</code>æ˜¯ä¸€ä¸ª <strong>_ constructor_</strong> (æ„é€ å‡½æ•°)ï¼Œæ„é€ å‡½æ•°ä¸æ˜¯å¿…é¡»çš„ï¼Œå®ƒä¸åˆçº¦åŒåï¼Œæ„é€ å‡½æ•°ä¸€ç”Ÿä¸­å”¯ä¸€çš„ä¸€æ¬¡æ‰§è¡Œï¼Œå°±æ˜¯åœ¨åˆçº¦æœ€åˆè¢«åˆ›å»ºçš„æ—¶å€™ã€‚</li>
<li>å‡½æ•°ä¿®é¥°ç¬¦ï¼š<code>modifier onlyOwner()</code>ã€‚ ä¿®é¥°ç¬¦è·Ÿå‡½æ•°å¾ˆç±»ä¼¼ï¼Œä¸è¿‡æ˜¯ç”¨æ¥ä¿®é¥°å…¶ä»–å·²æœ‰å‡½æ•°ç”¨çš„ï¼Œ åœ¨å…¶ä»–è¯­å¥æ‰§è¡Œå‰ï¼Œä¸ºå®ƒæ£€æŸ¥ä¸‹å…ˆéªŒæ¡ä»¶ã€‚ åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥å†™ä¸ªä¿®é¥°ç¬¦ <code>onlyOwner</code> æ£€æŸ¥ä¸‹è°ƒç”¨è€…ï¼Œç¡®ä¿åªæœ‰åˆçº¦çš„ä¸»äººæ‰èƒ½è¿è¡Œæœ¬å‡½æ•°ã€‚æˆ‘ä»¬ä¸‹ä¸€ç« ä¸­ä¼šè¯¦ç»†è®²è¿°ä¿®é¥°ç¬¦ï¼Œä»¥åŠé‚£ä¸ªå¥‡æ€ªçš„<code>_;</code>ã€‚</li>
<li><code>indexed</code> å…³é”®å­—ï¼šåˆ«æ‹…å¿ƒï¼Œæˆ‘ä»¬è¿˜ç”¨ä¸åˆ°å®ƒã€‚</li>
</ul>
<p>æ‰€ä»¥<code>Ownable</code> åˆçº¦åŸºæœ¬éƒ½ä¼šè¿™ä¹ˆå¹²ï¼š</p>
<ol>
<li>åˆçº¦åˆ›å»ºï¼Œæ„é€ å‡½æ•°å…ˆè¡Œï¼Œå°†å…¶ <code>owner</code> è®¾ç½®ä¸º<code>msg.sender</code>ï¼ˆå…¶éƒ¨ç½²è€…ï¼‰</li>
<li>ä¸ºå®ƒåŠ ä¸Šä¸€ä¸ªä¿®é¥°ç¬¦ <code>onlyOwner</code>ï¼Œå®ƒä¼šé™åˆ¶é™Œç”Ÿäººçš„è®¿é—®ï¼Œå°†è®¿é—®æŸäº›å‡½æ•°çš„æƒé™é”å®šåœ¨ <code>owner</code> ä¸Šã€‚</li>
<li>å…è®¸å°†åˆçº¦æ‰€æœ‰æƒè½¬è®©ç»™ä»–äººã€‚</li>
</ol>
<p><code>onlyOwner</code> ç®€ç›´äººè§äººçˆ±ï¼Œå¤§å¤šæ•°äººå¼€å‘è‡ªå·±çš„ Solidity DAppsï¼Œéƒ½æ˜¯ä»å¤åˆ¶/ç²˜è´´ <code>Ownable</code> å¼€å§‹çš„ï¼Œä»å®ƒå†ç»§æ‰¿å‡ºçš„å­ç±»ï¼Œå¹¶åœ¨ä¹‹ä¸Šè¿›è¡ŒåŠŸèƒ½å¼€å‘ã€‚</p>
<p>æ—¢ç„¶æˆ‘ä»¬æƒ³æŠŠ <code>setKittyContractAddress</code> é™åˆ¶ä¸º <code>onlyOwner</code> ï¼Œæˆ‘ä»¬ä¹Ÿè¦åšåŒæ ·çš„äº‹æƒ…ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>é¦–å…ˆï¼Œå°† <code>Ownable</code> åˆçº¦çš„ä»£ç å¤åˆ¶ä¸€ä»½åˆ°æ–°æ–‡ä»¶ <code>ownable.sol</code> ä¸­ã€‚ æ¥ä¸‹æ¥ï¼Œåˆ›å»ºä¸€ä¸ª <code>ZombieFactory</code>ï¼Œç»§æ‰¿ <code>Ownable</code>ã€‚</p>
<p>1.åœ¨ç¨‹åºä¸­å¯¼å…¥ <code>ownable.sol</code> çš„å†…å®¹ã€‚ å¦‚æœæ‚¨ä¸è®°å¾—æ€ä¹ˆåšäº†ï¼Œå‚è€ƒä¸‹ <code>zombiefeeding.sol</code>ã€‚</p>
<p>2.ä¿®æ”¹ <code>ZombieFactory</code> åˆçº¦ï¼Œ è®©å®ƒç»§æ‰¿è‡ª <code>Ownable</code>ã€‚ å¦‚æœæ‚¨ä¸è®°å¾—æ€ä¹ˆåšäº†ï¼Œçœ‹çœ‹ <code>zombiefeeding.sol</code>ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// 1. åœ¨è¿™é‡Œå¯¼å…¥</span><br><span class="line">import "./ownable.sol";</span><br><span class="line">// 2. åœ¨è¿™é‡Œç»§æ‰¿:</span><br><span class="line">contract ZombieFactory is Ownable{</span><br><span class="line"></span><br><span class="line">    event NewZombie(uint zombieId, string name, uint dna);</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = 16;</span><br><span class="line">    uint dnaModulus = 10 ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie {</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬3ç« -onlyOwner-å‡½æ•°ä¿®é¥°ç¬¦"><a href="#ç¬¬3ç« -onlyOwner-å‡½æ•°ä¿®é¥°ç¬¦" class="headerlink" title="ç¬¬3ç« : onlyOwner å‡½æ•°ä¿®é¥°ç¬¦"></a>ç¬¬3ç« : onlyOwner å‡½æ•°ä¿®é¥°ç¬¦</h3><p>ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸ªåŸºæœ¬ç‰ˆçš„åˆçº¦ <code>ZombieFactory</code> äº†ï¼Œå®ƒç»§æ‰¿è‡ª <code>Ownable</code> æ¥å£ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™ <code>ZombieFeeding</code> åŠ ä¸Š <code>onlyOwner</code> å‡½æ•°ä¿®é¥°ç¬¦ã€‚</p>
<p>è¿™å°±æ˜¯åˆçº¦ç»§æ‰¿çš„å·¥ä½œåŸç†ã€‚è®°å¾—ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ZombieFeeding æ˜¯ä¸ª ZombieFactory</span><br><span class="line">ZombieFactory æ˜¯ä¸ª Ownable</span><br></pre></td></tr></tbody></table></figure>

<p>å› æ­¤ <code>ZombieFeeding</code> ä¹Ÿæ˜¯ä¸ª <code>Ownable</code>, å¹¶å¯ä»¥é€šè¿‡ <code>Ownable</code> æ¥å£è®¿é—®çˆ¶ç±»ä¸­çš„å‡½æ•°/äº‹ä»¶/ä¿®é¥°ç¬¦ã€‚å¾€åï¼Œ<code>ZombieFeeding</code> çš„ç»§æ‰¿è€…åˆçº¦ä»¬åŒæ ·ä¹Ÿå¯ä»¥è¿™ä¹ˆå»¶ç»­ä¸‹å»ã€‚</p>
<p><strong>å‡½æ•°ä¿®é¥°ç¬¦</strong></p>
<p>å‡½æ•°ä¿®é¥°ç¬¦çœ‹èµ·æ¥è·Ÿå‡½æ•°æ²¡ä»€ä¹ˆä¸åŒï¼Œä¸è¿‡å…³é”®å­—<code>modifier</code> å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè¿™æ˜¯ä¸ª<code>modifier(ä¿®é¥°ç¬¦)</code>ï¼Œè€Œä¸æ˜¯ä¸ª<code>function(å‡½æ•°)</code>ã€‚å®ƒä¸èƒ½åƒå‡½æ•°é‚£æ ·è¢«ç›´æ¥è°ƒç”¨ï¼Œåªèƒ½è¢«æ·»åŠ åˆ°å‡½æ•°å®šä¹‰çš„æœ«å°¾ï¼Œç”¨ä»¥æ”¹å˜å‡½æ•°çš„è¡Œä¸ºã€‚</p>
<p>å’±ä»¬ä»”ç»†è¯»è¯» <code>onlyOwner</code>:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @dev è°ƒç”¨è€…ä¸æ˜¯â€˜ä¸»äººâ€™ï¼Œå°±ä¼šæŠ›å‡ºå¼‚å¸¸</span><br><span class="line"> */</span><br><span class="line">modifier onlyOwner() {</span><br><span class="line">  require(msg.sender == owner);</span><br><span class="line">  _;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><code>onlyOwner</code> å‡½æ•°ä¿®é¥°ç¬¦æ˜¯è¿™ä¹ˆç”¨çš„ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">contract MyContract is Ownable {</span><br><span class="line">  event LaughManiacally(string laughter);</span><br><span class="line"></span><br><span class="line">  //æ³¨æ„ï¼ `onlyOwner`ä¸Šåœº :</span><br><span class="line">  function likeABoss() external onlyOwner {</span><br><span class="line">    LaughManiacally("Muahahahaha");</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æ³¨æ„ <code>likeABoss</code> å‡½æ•°ä¸Šçš„ <code>onlyOwner</code> ä¿®é¥°ç¬¦ã€‚ å½“ä½ è°ƒç”¨ <code>likeABoss</code> æ—¶ï¼Œ<strong>é¦–å…ˆæ‰§è¡Œ</strong> <code>onlyOwner</code> ä¸­çš„ä»£ç ï¼Œ æ‰§è¡Œåˆ° <code>onlyOwner</code> ä¸­çš„ <code>_;</code> è¯­å¥æ—¶ï¼Œç¨‹åºå†è¿”å›å¹¶æ‰§è¡Œ <code>likeABoss</code> ä¸­çš„ä»£ç ã€‚</p>
<p>å¯è§ï¼Œå°½ç®¡å‡½æ•°ä¿®é¥°ç¬¦ä¹Ÿå¯ä»¥åº”ç”¨åˆ°å„ç§åœºåˆï¼Œä½†æœ€å¸¸è§çš„è¿˜æ˜¯æ”¾åœ¨å‡½æ•°æ‰§è¡Œä¹‹å‰æ·»åŠ å¿«é€Ÿçš„ <code>require</code>æ£€æŸ¥ã€‚</p>
<p>å› ä¸ºç»™å‡½æ•°æ·»åŠ äº†ä¿®é¥°ç¬¦ <code>onlyOwner</code>ï¼Œä½¿å¾—<strong>å”¯æœ‰åˆçº¦çš„ä¸»äºº</strong>ï¼ˆä¹Ÿå°±æ˜¯éƒ¨ç½²è€…ï¼‰æ‰èƒ½è°ƒç”¨å®ƒã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šä¸»äººå¯¹åˆçº¦äº«æœ‰çš„ç‰¹æƒå½“ç„¶æ˜¯æ­£å½“çš„ï¼Œä¸è¿‡ä¹Ÿå¯èƒ½è¢«æ¶æ„ä½¿ç”¨ã€‚æ¯”å¦‚ï¼Œä¸‡ä¸€ï¼Œä¸»äººæ·»åŠ äº†ä¸ªåé—¨ï¼Œå…è®¸ä»–å·èµ°åˆ«äººçš„åƒµå°¸å‘¢ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>æ‰€ä»¥éå¸¸é‡è¦çš„æ˜¯ï¼Œéƒ¨ç½²åœ¨ä»¥å¤ªåŠä¸Šçš„ DAppï¼Œå¹¶ä¸èƒ½ä¿è¯å®ƒçœŸæ­£åšåˆ°å»ä¸­å¿ƒï¼Œä½ éœ€è¦é˜…è¯»å¹¶ç†è§£å®ƒçš„æºä»£ç ï¼Œæ‰èƒ½é˜²æ­¢å…¶ä¸­æ²¡æœ‰è¢«éƒ¨ç½²è€…æ¶æ„æ¤å…¥åé—¨ï¼›ä½œä¸ºå¼€å‘äººå‘˜ï¼Œå¦‚ä½•åšåˆ°æ—¢è¦ç»™è‡ªå·±ç•™ä¸‹ä¿®å¤ bug çš„ä½™åœ°ï¼Œåˆè¦å°½é‡åœ°æ”¾æƒç»™ä½¿ç”¨è€…ï¼Œä»¥ä¾¿è®©ä»–ä»¬æ”¾å¿ƒä½ ï¼Œä»è€Œæ„¿æ„æŠŠæ•°æ®æ”¾åœ¨ä½ çš„ DApp ä¸­ï¼Œè¿™ç¡®å®éœ€è¦ä¸ªå¾®å¦™çš„å¹³è¡¡ã€‚</p>
</blockquote>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥é™åˆ¶ç¬¬ä¸‰æ–¹å¯¹ <code>setKittyContractAddress</code>çš„è®¿é—®ï¼Œé™¤äº†æˆ‘ä»¬è‡ªå·±ï¼Œè°éƒ½æ— æ³•å»ä¿®æ”¹å®ƒã€‚</p>
<ol>
<li>å°† <code>onlyOwner</code> å‡½æ•°ä¿®é¥°ç¬¦æ·»åŠ åˆ° <code>setKittyContractAddress</code> ä¸­ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// ä¿®æ”¹è¿™ä¸ªå‡½æ•°:</span><br><span class="line">function setKittyContractAddress(address _address) external onlyOwner {</span><br><span class="line">  kittyContract = KittyInterface(_address);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬4ç« -Gas"><a href="#ç¬¬4ç« -Gas" class="headerlink" title="ç¬¬4ç« : Gas"></a>ç¬¬4ç« : Gas</h3><p>å‰å®³ï¼ç°åœ¨æˆ‘ä»¬æ‡‚äº†å¦‚ä½•åœ¨ç¦æ­¢ç¬¬ä¸‰æ–¹ä¿®æ”¹æˆ‘ä»¬çš„åˆçº¦çš„åŒæ—¶ï¼Œç•™ä¸ªåé—¨ç»™å’±ä»¬è‡ªå·±å»ä¿®æ”¹ã€‚</p>
<p>è®©æˆ‘ä»¬æ¥çœ‹å¦ä¸€ç§ä½¿å¾— Solidity ç¼–ç¨‹è¯­è¨€ä¸ä¼—ä¸åŒçš„ç‰¹å¾ï¼š</p>
<p><strong>Gas - é©±åŠ¨ä»¥å¤ªåŠDAppsçš„èƒ½æº</strong></p>
<p>åœ¨ Solidity ä¸­ï¼Œä½ çš„ç”¨æˆ·æƒ³è¦æ¯æ¬¡æ‰§è¡Œä½ çš„ DApp éƒ½éœ€è¦æ”¯ä»˜ä¸€å®šçš„ ***gas***ï¼Œgas å¯ä»¥ç”¨ä»¥å¤ªå¸è´­ä¹°ï¼Œå› æ­¤ï¼Œç”¨æˆ·æ¯æ¬¡è·‘ DApp éƒ½å¾—èŠ±è´¹ä»¥å¤ªå¸ã€‚</p>
<p>ä¸€ä¸ª DApp æ”¶å–å¤šå°‘ gas å–å†³äºåŠŸèƒ½é€»è¾‘çš„å¤æ‚ç¨‹åº¦ã€‚æ¯ä¸ªæ“ä½œèƒŒåï¼Œéƒ½åœ¨è®¡ç®—å®Œæˆè¿™ä¸ªæ“ä½œæ‰€éœ€è¦çš„è®¡ç®—èµ„æºï¼Œï¼ˆæ¯”å¦‚ï¼Œå­˜å‚¨æ•°æ®å°±æ¯”åšä¸ªåŠ æ³•è¿ç®—è´µå¾—å¤šï¼‰ï¼Œ ä¸€æ¬¡æ“ä½œæ‰€éœ€è¦èŠ±è´¹çš„ *<strong>gas*</strong> ç­‰äºè¿™ä¸ªæ“ä½œèƒŒåçš„æ‰€æœ‰è¿ç®—èŠ±é”€çš„æ€»å’Œã€‚</p>
<p>ç”±äºè¿è¡Œä½ çš„ç¨‹åºéœ€è¦èŠ±è´¹ç”¨æˆ·çš„çœŸé‡‘ç™½é“¶ï¼Œåœ¨ä»¥å¤ªåŠä¸­ä»£ç çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ¯”å…¶ä»–ä»»ä½•ç¼–ç¨‹è¯­è¨€éƒ½æ›´å¼ºè°ƒä¼˜åŒ–ã€‚åŒæ ·çš„åŠŸèƒ½ï¼Œä½¿ç”¨ç¬¨æ‹™çš„ä»£ç å¼€å‘çš„ç¨‹åºï¼Œæ¯”èµ·ç»è¿‡ç²¾å·§ä¼˜åŒ–çš„ä»£ç æ¥ï¼Œè¿è¡ŒèŠ±è´¹æ›´é«˜ï¼Œè¿™æ˜¾ç„¶ä¼šç»™æˆåƒä¸Šä¸‡çš„ç”¨æˆ·å¸¦æ¥å¤§é‡ä¸å¿…è¦çš„å¼€é”€ã€‚</p>
<p>*<em>ä¸ºä»€ä¹ˆè¦ç”¨ <em>gas* æ¥é©±åŠ¨ï¼Ÿ</em></em></p>
<p>ä»¥å¤ªåŠå°±åƒä¸€ä¸ªå·¨å¤§ã€ç¼“æ…¢ã€ä½†éå¸¸å®‰å…¨çš„ç”µè„‘ã€‚å½“ä½ è¿è¡Œä¸€ä¸ªç¨‹åºçš„æ—¶å€™ï¼Œç½‘ç»œä¸Šçš„æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½åœ¨è¿›è¡Œç›¸åŒçš„è¿ç®—ï¼Œä»¥éªŒè¯å®ƒçš„è¾“å‡º â€”â€” è¿™å°±æ˜¯æ‰€è°“çš„â€œå»ä¸­å¿ƒåŒ–â€ ç”±äºæ•°ä»¥åƒè®¡çš„èŠ‚ç‚¹åŒæ—¶åœ¨éªŒè¯ç€æ¯ä¸ªåŠŸèƒ½çš„è¿è¡Œï¼Œè¿™å¯ä»¥ç¡®ä¿å®ƒçš„æ•°æ®ä¸ä¼šè¢«è¢«ç›‘æ§ï¼Œæˆ–è€…è¢«åˆ»æ„ä¿®æ”¹ã€‚</p>
<p>å¯èƒ½ä¼šæœ‰ç”¨æˆ·ç”¨æ— é™å¾ªç¯å µå¡ç½‘ç»œï¼ŒæŠ‘æˆ–ç”¨å¯†é›†è¿ç®—æ¥å ç”¨å¤§é‡çš„ç½‘ç»œèµ„æºï¼Œä¸ºäº†é˜²æ­¢è¿™ç§äº‹æƒ…çš„å‘ç”Ÿï¼Œä»¥å¤ªåŠçš„åˆ›å»ºè€…ä¸ºä»¥å¤ªåŠä¸Šçš„èµ„æºåˆ¶å®šäº†ä»·æ ¼ï¼Œæƒ³è¦åœ¨ä»¥å¤ªåŠä¸Šè¿ç®—æˆ–è€…å­˜å‚¨ï¼Œä½ éœ€è¦å…ˆä»˜è´¹ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šå¦‚æœä½ ä½¿ç”¨ä¾§é“¾ï¼Œå€’æ˜¯ä¸ä¸€å®šéœ€è¦ä»˜è´¹ï¼Œæ¯”å¦‚å’±ä»¬åœ¨ Loom Network ä¸Šæ„å»ºçš„ CryptoZombies å°±å…è´¹ã€‚ä½ ä¸ä¼šæƒ³è¦åœ¨ä»¥å¤ªåŠä¸»ç½‘ä¸Šç©å„¿â€œé­”å…½ä¸–ç•Œâ€å§ï¼Ÿ - æ‰€éœ€è¦çš„ gas å¯èƒ½ä¼šä¹°åˆ°ä½ ç ´äº§ã€‚ä½†æ˜¯ä½ å¯ä»¥æ‰¾ä¸ªç®—æ³•ç†å¿µä¸åŒçš„ä¾§é“¾æ¥ç©å®ƒã€‚æˆ‘ä»¬å°†åœ¨ä»¥åçš„è¯¾ç¨‹ä¸­å’±ä»¬ä¼šè®¨è®ºåˆ°ï¼Œä»€ä¹ˆæ ·çš„ DApp åº”è¯¥éƒ¨ç½²åœ¨å¤ªåŠä¸»é“¾ä¸Šï¼Œä»€ä¹ˆåˆæœ€å¥½æ”¾åœ¨ä¾§é“¾ã€‚</p>
</blockquote>
<p><strong>çœ gas çš„æ‹›æ•°ï¼šç»“æ„å°è£… ï¼ˆStruct packingï¼‰</strong></p>
<p>åœ¨ç¬¬1è¯¾ä¸­ï¼Œæˆ‘ä»¬æåˆ°é™¤äº†åŸºæœ¬ç‰ˆçš„ <code>uint</code> å¤–ï¼Œè¿˜æœ‰å…¶ä»–å˜ç§ <code>uint</code>ï¼š<code>uint8</code>ï¼Œ<code>uint16</code>ï¼Œ<code>uint32</code>ç­‰ã€‚</p>
<p>é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬ä¸ä¼šè€ƒè™‘ä½¿ç”¨ <code>uint</code> å˜ç§ï¼Œå› ä¸ºæ— è®ºå¦‚ä½•å®šä¹‰ <code>uint</code>çš„å¤§å°ï¼ŒSolidity ä¸ºå®ƒä¿ç•™256ä½çš„å­˜å‚¨ç©ºé—´ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ <code>uint8</code> è€Œä¸æ˜¯<code>uint</code>ï¼ˆ<code>uint256</code>ï¼‰ä¸ä¼šä¸ºä½ èŠ‚çœä»»ä½• gasã€‚</p>
<p>é™¤éï¼Œ<u><strong>æŠŠ <code>uint</code> ç»‘å®šåˆ° <code>struct</code> é‡Œé¢</strong></u>ã€‚</p>
<p>å¦‚æœä¸€ä¸ª <code>struct</code> ä¸­æœ‰å¤šä¸ª <code>uint</code>ï¼Œåˆ™å°½å¯èƒ½ä½¿ç”¨è¾ƒå°çš„ <code>uint</code>, Solidity ä¼šå°†è¿™äº› <code>uint</code> æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œä»è€Œå ç”¨è¾ƒå°‘çš„å­˜å‚¨ç©ºé—´ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">struct NormalStruct {</span><br><span class="line">  uint a;</span><br><span class="line">  uint b;</span><br><span class="line">  uint c;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">struct MiniMe {</span><br><span class="line">  uint32 a;</span><br><span class="line">  uint32 b;</span><br><span class="line">  uint c;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">// å› ä¸ºä½¿ç”¨äº†ç»“æ„æ‰“åŒ…ï¼Œ`mini` æ¯” `normal` å ç”¨çš„ç©ºé—´æ›´å°‘</span><br><span class="line">NormalStruct normal = NormalStruct(10, 20, 30);</span><br><span class="line">MiniMe mini = MiniMe(10, 20, 30); </span><br></pre></td></tr></tbody></table></figure>

<p>æ‰€ä»¥ï¼Œå½“ <code>uint</code> å®šä¹‰åœ¨ä¸€ä¸ª <code>struct</code> ä¸­çš„æ—¶å€™ï¼Œå°½é‡ä½¿ç”¨æœ€å°çš„æ•´æ•°å­ç±»å‹ä»¥èŠ‚çº¦ç©ºé—´ã€‚ **<u>å¹¶ä¸”æŠŠåŒæ ·ç±»å‹çš„å˜é‡æ”¾ä¸€èµ·</u>**ï¼ˆå³åœ¨ struct ä¸­å°†æŠŠå˜é‡æŒ‰ç…§ç±»å‹ä¾æ¬¡æ”¾ç½®ï¼‰ï¼Œ<u>è¿™æ · Solidity å¯ä»¥å°†å­˜å‚¨ç©ºé—´æœ€å°åŒ–</u>ã€‚ä¾‹å¦‚ï¼Œæœ‰ä¸¤ä¸ª <code>struct</code>ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uint c; uint32 a; uint32 b;` å’Œ `uint32 a; uint c; uint32 b;</span><br></pre></td></tr></tbody></table></figure>

<p>å‰è€…æ¯”åè€…éœ€è¦çš„gasæ›´å°‘ï¼Œå› ä¸ºå‰è€…æŠŠ<code>uint32</code>æ”¾ä¸€èµ·äº†ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>åœ¨æœ¬è¯¾ä¸­ï¼Œå’±ä»¬ç»™åƒµå°¸æ·»2ä¸ªæ–°åŠŸèƒ½ï¼š<code>level</code> å’Œ <code>readyTime</code> - åè€…æ˜¯ç”¨æ¥å®ç°ä¸€ä¸ªâ€œå†·å´å®šæ—¶å™¨â€ï¼Œä»¥é™åˆ¶åƒµå°¸çŒé£Ÿçš„é¢‘ç‡ã€‚</p>
<p>è®©æˆ‘ä»¬å›åˆ° <code>zombiefactory.sol</code>ã€‚</p>
<ol>
<li>ä¸º <code>Zombie</code> ç»“æ„ä½“ æ·»åŠ ä¸¤ä¸ªå±æ€§ï¼š<code>level</code>ï¼ˆ<code>uint32</code>ï¼‰å’Œ<code>readyTime</code>ï¼ˆ<code>uint32</code>ï¼‰ã€‚å› ä¸ºå¸Œæœ›åŒç±»å‹æ•°æ®æ‰“æˆä¸€ä¸ªåŒ…ï¼Œæ‰€ä»¥æŠŠå®ƒä»¬æ”¾åœ¨ç»“æ„ä½“çš„æœ«å°¾ã€‚</li>
</ol>
<p>32ä½è¶³ä»¥ä¿å­˜åƒµå°¸çš„çº§åˆ«å’Œæ—¶é—´æˆ³äº†ï¼Œè¿™æ ·æ¯”èµ·ä½¿ç”¨æ™®é€šçš„<code>uint</code>ï¼ˆ256ä½ï¼‰ï¼Œå¯ä»¥æ›´ç´§å¯†åœ°å°è£…æ•°æ®ï¼Œä»è€Œä¸ºæˆ‘ä»¬çœç‚¹ gasã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">contract ZombieFactory is Ownable {</span><br><span class="line"></span><br><span class="line">    event NewZombie(uint zombieId, string name, uint dna);</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = 16;</span><br><span class="line">    uint dnaModulus = 10 ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie {</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">        //åœ¨è¿™é‡Œæ·»åŠ æ•°æ®</span><br><span class="line">        uint32 level;</span><br><span class="line">        uint32 readyTime;</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬5ç« -æ—¶é—´å•ä½"><a href="#ç¬¬5ç« -æ—¶é—´å•ä½" class="headerlink" title="ç¬¬5ç« : æ—¶é—´å•ä½"></a>ç¬¬5ç« : æ—¶é—´å•ä½</h3><p><code>level</code> å±æ€§è¡¨ç¤ºåƒµå°¸çš„çº§åˆ«ã€‚ä»¥åï¼Œåœ¨æˆ‘ä»¬åˆ›å»ºçš„æˆ˜æ–—ç³»ç»Ÿä¸­ï¼Œæ‰“èƒœä»—çš„åƒµå°¸ä¼šé€æ¸å‡çº§å¹¶è·å¾—æ›´å¤šçš„èƒ½åŠ›ã€‚</p>
<p><code>readyTime</code> ç¨å¾®å¤æ‚ç‚¹ã€‚æˆ‘ä»¬å¸Œæœ›å¢åŠ ä¸€ä¸ªâ€œå†·å´å‘¨æœŸâ€ï¼Œè¡¨ç¤ºåƒµå°¸åœ¨ä¸¤æ¬¡çŒé£Ÿæˆ–æ”»å‡»ä¹‹ä¹‹é—´å¿…é¡»ç­‰å¾…çš„æ—¶é—´ã€‚å¦‚æœæ²¡æœ‰å®ƒï¼Œåƒµå°¸æ¯å¤©å¯èƒ½ä¼šæ”»å‡»å’Œç¹æ®–1,000æ¬¡ï¼Œè¿™æ ·æ¸¸æˆå°±å¤ªç®€å•äº†ã€‚</p>
<p>ä¸ºäº†è®°å½•åƒµå°¸åœ¨ä¸‹ä¸€æ¬¡è¿›å‡»å‰éœ€è¦ç­‰å¾…çš„æ—¶é—´ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† Solidity çš„æ—¶é—´å•ä½ã€‚</p>
<p><strong>æ—¶é—´å•ä½</strong></p>
<p>Solidity ä½¿ç”¨è‡ªå·±çš„æœ¬åœ°æ—¶é—´å•ä½ã€‚</p>
<p>å˜é‡ <code>now</code> å°†è¿”å›å½“å‰çš„unixæ—¶é—´æˆ³ï¼ˆè‡ª1970å¹´1æœˆ1æ—¥ä»¥æ¥ç»è¿‡çš„ç§’æ•°ï¼‰ã€‚æˆ‘å†™è¿™å¥è¯æ—¶ unix æ—¶é—´æ˜¯ <code>1515527488</code>ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šUnixæ—¶é—´ä¼ ç»Ÿç”¨ä¸€ä¸ª32ä½çš„æ•´æ•°è¿›è¡Œå­˜å‚¨ã€‚è¿™ä¼šå¯¼è‡´â€œ2038å¹´â€é—®é¢˜ï¼Œå½“è¿™ä¸ª32ä½çš„unixæ—¶é—´æˆ³ä¸å¤Ÿç”¨ï¼Œäº§ç”Ÿæº¢å‡ºï¼Œä½¿ç”¨è¿™ä¸ªæ—¶é—´çš„é—ç•™ç³»ç»Ÿå°±éº»çƒ¦äº†ã€‚æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è®©æˆ‘ä»¬çš„ DApp è·‘å¤Ÿ20å¹´ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨64ä½æ•´æ•°è¡¨ç¤ºæ—¶é—´ï¼Œä½†ä¸ºæ­¤æˆ‘ä»¬çš„ç”¨æˆ·åˆå¾—æ”¯ä»˜æ›´å¤šçš„ gasã€‚çœŸæ˜¯ä¸ªä¸¤éš¾çš„è®¾è®¡å•Šï¼</p>
</blockquote>
<p>Solidity è¿˜åŒ…å«<code>ç§’(seconds)</code>ï¼Œ<code>åˆ†é’Ÿ(minutes)</code>ï¼Œ<code>å°æ—¶(hours)</code>ï¼Œ<code>å¤©(days)</code>ï¼Œ<code>å‘¨(weeks)</code> å’Œ <code>å¹´(years)</code> ç­‰æ—¶é—´å•ä½ã€‚å®ƒä»¬éƒ½ä¼šè½¬æ¢æˆå¯¹åº”çš„ç§’æ•°æ”¾å…¥ <code>uint</code> ä¸­ã€‚æ‰€ä»¥ <code>1åˆ†é’Ÿ</code> å°±æ˜¯ <code>60</code>ï¼Œ<code>1å°æ—¶</code>æ˜¯ <code>3600</code>ï¼ˆ60ç§’Ã—60åˆ†é’Ÿï¼‰ï¼Œ<code>1å¤©</code>æ˜¯<code>86400</code>ï¼ˆ24å°æ—¶Ã—60åˆ†é’ŸÃ—60ç§’ï¼‰ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›ä½¿ç”¨æ—¶é—´å•ä½çš„å®ç”¨æ¡ˆä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">uint lastUpdated;</span><br><span class="line"></span><br><span class="line">// å°†â€˜ä¸Šæ¬¡æ›´æ–°æ—¶é—´â€™ è®¾ç½®ä¸º â€˜ç°åœ¨â€™</span><br><span class="line">function updateTimestamp() public {</span><br><span class="line">  lastUpdated = now;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">// å¦‚æœåˆ°ä¸Šæ¬¡`updateTimestamp` è¶…è¿‡5åˆ†é’Ÿï¼Œè¿”å› 'true'</span><br><span class="line">// ä¸åˆ°5åˆ†é’Ÿè¿”å› 'false'</span><br><span class="line">function fiveMinutesHavePassed() public view returns (bool) {</span><br><span class="line">  return (now &gt;= (lastUpdated + 5 minutes));</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æœ‰äº†è¿™äº›å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºåƒµå°¸è®¾å®šâ€œå†·é™æ—¶é—´â€åŠŸèƒ½ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>ç°åœ¨å’±ä»¬ç»™DAppæ·»åŠ ä¸€ä¸ªâ€œå†·å´å‘¨æœŸâ€çš„è®¾å®šï¼Œè®©åƒµå°¸ä¸¤æ¬¡æ”»å‡»æˆ–æ•çŒä¹‹é—´å¿…é¡»ç­‰å¾… <strong>1å¤©</strong>ã€‚</p>
<ol>
<li><p>å£°æ˜ä¸€ä¸ªåä¸º <code>cooldownTime</code> çš„<code>uint</code>ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸º <code>1 days</code>ã€‚ï¼ˆæ²¡é”™ï¼Œâ€1 daysâ€œä½¿ç”¨äº†å¤æ•°ï¼Œ å¦åˆ™é€šä¸è¿‡ç¼–è¯‘å™¨ï¼‰</p>
</li>
<li><p>å› ä¸ºåœ¨ä¸Šä¸€ç« ä¸­æˆ‘ä»¬ç»™ <code>Zombie</code> ç»“æ„ä½“ä¸­æ·»åŠ  <code>level</code> å’Œ <code>readyTime</code> ä¸¤ä¸ªå‚æ•°ï¼Œæ‰€ä»¥ç°åœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>Zombie</code> ç»“æ„ä½“æ—¶ï¼Œéœ€è¦ä¿®æ”¹ <code>_createZombie()</code>ï¼Œåœ¨å…¶ä¸­æŠŠæ–°æ—§å‚æ•°éƒ½åˆå§‹åŒ–ä¸€ä¸‹ã€‚</p>
<p> ä¿®æ”¹ <code>zombies.push</code> é‚£ä¸€è¡Œï¼Œ æ·»åŠ åŠ 2ä¸ªå‚æ•°ï¼š<code>1</code>ï¼ˆè¡¨ç¤ºå½“å‰çš„ <code>level</code> ï¼‰å’Œ<code>uint32ï¼ˆnow + cooldownTimeï¼‰</code>ï¼ˆç°åœ¨+å†·å´æ—¶é—´ï¼Œè¡¨ç¤ºä¸‹æ¬¡å…è®¸æ”»å‡»çš„æ—¶é—´ <code>readyTime</code>ï¼‰ã€‚</p>
</li>
</ol>
<blockquote>
<p>æ³¨æ„ï¼šå¿…é¡»ä½¿ç”¨ <code>uint32ï¼ˆ...ï¼‰</code> è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå› ä¸º <code>now</code> è¿”å›ç±»å‹ <code>uint256</code>ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ˜ç¡®å°†å®ƒè½¬æ¢æˆä¸€ä¸ª <code>uint32</code> ç±»å‹çš„å˜é‡ã€‚</p>
</blockquote>
<p><code>now + cooldownTime</code> å°†ç­‰äºå½“å‰çš„unixæ—¶é—´æˆ³ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰åŠ ä¸Šâ€1å¤©â€œé‡Œçš„ç§’æ•° - è¿™å°†ç­‰äºä»ç°åœ¨èµ·1å¤©åçš„unixæ—¶é—´æˆ³ã€‚ç„¶åæˆ‘ä»¬å°±æ¯”è¾ƒï¼Œçœ‹çœ‹è¿™ä¸ªåƒµå°¸çš„ <code>readyTime</code>æ˜¯å¦å¤§äº <code>now</code>ï¼Œä»¥å†³å®šå†æ¬¡å¯ç”¨åƒµå°¸çš„æ—¶æœºæœ‰æ²¡æœ‰åˆ°æ¥ã€‚</p>
<p>ä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºå¦‚ä½•é€šè¿‡ <code>readyTime</code> æ¥è§„èŒƒåƒµå°¸çš„è¡Œä¸ºã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 1. åœ¨è¿™é‡Œå®šä¹‰ `cooldownTime`</span><br><span class="line">uint cooldownTime = 1 days;</span><br><span class="line">    </span><br><span class="line">function _createZombie(string _name, uint _dna) internal {</span><br><span class="line">        // 2. ä¿®æ”¹ä¸‹é¢è¿™è¡Œ:</span><br><span class="line">        uint id = zombies.push(Zombie(_name, _dna, 1, uint32(now + cooldownTime))) - 1;</span><br><span class="line">        zombieToOwner[id] = msg.sender;</span><br><span class="line">        ownerZombieCount[msg.sender]++;</span><br><span class="line">        NewZombie(id, _name, _dna);</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬6ç« -åƒµå°¸å†·å´"><a href="#ç¬¬6ç« -åƒµå°¸å†·å´" class="headerlink" title="ç¬¬6ç« : åƒµå°¸å†·å´"></a>ç¬¬6ç« : åƒµå°¸å†·å´</h3><p>ç°åœ¨ï¼Œ<code>Zombie</code> ç»“æ„ä½“ä¸­å®šä¹‰å¥½äº†ä¸€ä¸ª <code>readyTime</code> å±æ€§ï¼Œè®©æˆ‘ä»¬è·³åˆ° <code>zombiefeeding.sol</code>ï¼Œ å»å®ç°ä¸€ä¸ªâ€å†·å´å‘¨æœŸå®šæ—¶å™¨â€œã€‚</p>
<p>æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ä¿®æ”¹ <code>feedAndMultiply</code>ï¼š</p>
<ol>
<li>â€æ•çŒâ€œè¡Œä¸ºä¼šè§¦å‘åƒµå°¸çš„â€å†·å´å‘¨æœŸâ€œ</li>
<li>åƒµå°¸åœ¨è¿™æ®µâ€å†·å´å‘¨æœŸâ€œç»“æŸå‰ä¸å¯å†æ•çŒå°çŒ«</li>
</ol>
<p>è¿™å°†é™åˆ¶åƒµå°¸ï¼Œé˜²æ­¢å…¶æ— é™åˆ¶åœ°æ•çŒå°çŒ«æˆ–è€…æ•´å¤©ä¸åœåœ°ç¹æ®–ã€‚å°†æ¥ï¼Œå½“æˆ‘ä»¬å¢åŠ æˆ˜æ–—åŠŸèƒ½æ—¶ï¼Œæˆ‘ä»¬åŒæ ·ç”¨â€å†·å´å‘¨æœŸâ€œé™åˆ¶åƒµå°¸ä¹‹é—´æ‰“æ–—çš„é¢‘ç‡ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦å®šä¹‰ä¸€äº›è¾…åŠ©å‡½æ•°ï¼Œè®¾ç½®å¹¶æ£€æŸ¥åƒµå°¸çš„ <code>readyTime</code>ã€‚</p>
<p><strong>å°†ç»“æ„ä½“ä½œä¸ºå‚æ•°ä¼ å…¥</strong></p>
<p>ç”±äºç»“æ„ä½“çš„å­˜å‚¨æŒ‡é’ˆå¯ä»¥ä»¥å‚æ•°çš„æ–¹å¼ä¼ é€’ç»™ä¸€ä¸ª <code>private</code> æˆ– <code>internal</code> çš„å‡½æ•°ï¼Œå› æ­¤ç»“æ„ä½“å¯ä»¥åœ¨å¤šä¸ªå‡½æ•°ä¹‹é—´ç›¸äº’ä¼ é€’ã€‚</p>
<p>éµå¾ªè¿™æ ·çš„è¯­æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function _doStuff(Zombie storage _zombie) internal {</span><br><span class="line">  // do stuff with _zombie</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ ·æˆ‘ä»¬å¯ä»¥å°†æŸåƒµå°¸çš„å¼•ç”¨ç›´æ¥ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸ç”¨æ˜¯é€šè¿‡å‚æ•°ä¼ å…¥åƒµå°¸IDåï¼Œå‡½æ•°å†ä¾æ®IDå»æŸ¥æ‰¾ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li>å…ˆå®šä¹‰ä¸€ä¸ª <code>_triggerCooldown</code> å‡½æ•°ã€‚å®ƒè¦æ±‚ä¸€ä¸ªå‚æ•°ï¼Œ<code>_zombie</code>ï¼Œè¡¨ç¤ºä¸€æŸä¸ªåƒµå°¸çš„å­˜å‚¨æŒ‡é’ˆã€‚è¿™ä¸ªå‡½æ•°å¯è§æ€§è®¾ç½®ä¸º <code>internal</code>ã€‚</li>
<li>åœ¨å‡½æ•°ä¸­ï¼ŒæŠŠ <code>_zombie.readyTime</code> è®¾ç½®ä¸º <code>uint32ï¼ˆnow + cooldownTimeï¼‰</code>ã€‚</li>
<li>æ¥ä¸‹æ¥ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º <code>_isReady</code> çš„å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°çš„å‚æ•°ä¹Ÿæ˜¯åä¸º <code>_zombie</code> çš„ <code>Zombie storage</code>ã€‚è¿™ä¸ªåŠŸèƒ½åªå…·æœ‰ <code>internal</code> å¯è§æ€§ï¼Œå¹¶è¿”å›ä¸€ä¸ª <code>bool</code> å€¼ã€‚</li>
<li>å‡½æ•°è®¡ç®—è¿”å›<code>(_zombie.readyTime &lt;= now)</code>ï¼Œå€¼ä¸º <code>true</code> æˆ– <code>false</code>ã€‚è¿™ä¸ªåŠŸèƒ½çš„ç›®çš„æ˜¯åˆ¤æ–­ä¸‹æ¬¡å…è®¸çŒé£Ÿçš„æ—¶é—´æ˜¯å¦å·²ç»åˆ°äº†ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 1. åœ¨è¿™é‡Œå®šä¹‰ `_triggerCooldown` å‡½æ•°</span><br><span class="line">  function _triggerCooldown(Zombie storage _zombie) internal {</span><br><span class="line">    _zombie.readyTime = uint32(now + cooldownTime);</span><br><span class="line">  }</span><br><span class="line">  // 2. åœ¨è¿™é‡Œå®šä¹‰ `_isReady` å‡½æ•°</span><br><span class="line">  function _isReady(Zombie storage _zombie) internal view returns(bool){</span><br><span class="line">    return (_zombie.readyTime &lt;= now);</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬7ç« -å…¬æœ‰å‡½æ•°å’Œå®‰å…¨æ€§"><a href="#ç¬¬7ç« -å…¬æœ‰å‡½æ•°å’Œå®‰å…¨æ€§" class="headerlink" title="ç¬¬7ç« : å…¬æœ‰å‡½æ•°å’Œå®‰å…¨æ€§"></a>ç¬¬7ç« : å…¬æœ‰å‡½æ•°å’Œå®‰å…¨æ€§</h3><p>ç°åœ¨æ¥ä¿®æ”¹ <code>feedAndMultiply</code> ï¼Œå®ç°å†·å´å‘¨æœŸã€‚</p>
<p>å›é¡¾ä¸€ä¸‹è¿™ä¸ªå‡½æ•°ï¼Œå‰ä¸€è¯¾ä¸Šæˆ‘ä»¬å°†å…¶å¯è§æ€§è®¾ç½®ä¸º<code>public</code>ã€‚ä½ å¿…é¡»ä»”ç»†åœ°æ£€æŸ¥æ‰€æœ‰å£°æ˜ä¸º <code>public</code> å’Œ <code>external</code>çš„å‡½æ•°ï¼Œä¸€ä¸ªä¸ªæ’é™¤ç”¨æˆ·æ»¥ç”¨å®ƒä»¬çš„å¯èƒ½ï¼Œè°¨é˜²å®‰å…¨æ¼æ´ã€‚è¯·è®°ä½ï¼Œå¦‚æœè¿™äº›å‡½æ•°æ²¡æœ‰ç±»ä¼¼ <code>onlyOwner</code> è¿™æ ·çš„å‡½æ•°ä¿®é¥°ç¬¦ï¼Œç”¨æˆ·èƒ½åˆ©ç”¨å„ç§å¯èƒ½çš„å‚æ•°å»è°ƒç”¨å®ƒä»¬ã€‚</p>
<p>æ£€æŸ¥å®Œè¿™ä¸ªå‡½æ•°ï¼Œç”¨æˆ·å°±å¯ä»¥ç›´æ¥è°ƒç”¨è¿™ä¸ªå®ƒï¼Œå¹¶ä¼ å…¥ä»–ä»¬æ‰€å¸Œæœ›çš„ <code>_targetDna</code> æˆ– <code>species</code> ã€‚æ‰“ä¸ªæ¸¸æˆè¿˜å¾—éµå¾ªè¿™ä¹ˆå¤šçš„è§„åˆ™ï¼Œè¿˜èƒ½ä¸èƒ½æ„‰å¿«åœ°ç©è€å•Šï¼</p>
<p>ä»”ç»†è§‚å¯Ÿï¼Œè¿™ä¸ªå‡½æ•°åªéœ€è¢« <code>feedOnKitty()</code> è°ƒç”¨ï¼Œå› æ­¤ï¼Œæƒ³è¦é˜²æ­¢æ¼æ´ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯è®¾å…¶å¯è§æ€§ä¸º <code>internal</code>ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li>ç›®å‰å‡½æ•° <code>feedAndMultiply</code> å¯è§æ€§ä¸º <code>public</code>ã€‚æˆ‘ä»¬å°†å…¶æ”¹ä¸º <code>internal</code> ä»¥ä¿éšœåˆçº¦å®‰å…¨ã€‚å› ä¸ºæˆ‘ä»¬ä¸å¸Œæœ›ç”¨æˆ·è°ƒç”¨å®ƒçš„æ—¶å€™å¡è¿›ä¸€å †ä¹±ä¸ƒå…«ç³Ÿçš„ DNAã€‚</li>
<li><code>feedAndMultiply</code> è¿‡ç¨‹éœ€è¦å‚è€ƒ <code>cooldownTime</code>ã€‚é¦–å…ˆï¼Œåœ¨æ‰¾åˆ° <code>myZombie</code> ä¹‹åï¼Œæ·»åŠ ä¸€ä¸ª <code>require</code> è¯­å¥æ¥æ£€æŸ¥ <code>_isReady()</code> å¹¶å°† <code>myZombie</code> ä¼ é€’ç»™å®ƒã€‚è¿™æ ·ç”¨æˆ·å¿…é¡»ç­‰åˆ°åƒµå°¸çš„ <code>å†·å´å‘¨æœŸ</code> ç»“æŸåæ‰èƒ½æ‰§è¡Œ <code>feedAndMultiply</code> åŠŸèƒ½ã€‚</li>
<li>åœ¨å‡½æ•°ç»“æŸæ—¶ï¼Œè°ƒç”¨ <code>_triggerCooldown(myZombie)</code>ï¼Œæ ‡æ˜æ•çŒè¡Œä¸ºè§¦å‘äº†åƒµå°¸æ–°çš„å†·å´å‘¨æœŸã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// 1. ä½¿è¿™ä¸ªå‡½æ•°çš„å¯è§æ€§ä¸º internal</span><br><span class="line">  function feedAndMultiply(uint _zombieId, uint _targetDna, string species) internal {</span><br><span class="line">    require(msg.sender == zombieToOwner[_zombieId]);</span><br><span class="line">    Zombie storage myZombie = zombies[_zombieId];</span><br><span class="line">    // 2. åœ¨è¿™é‡Œä¸º `_isReady` å¢åŠ ä¸€ä¸ªæ£€æŸ¥</span><br><span class="line">    require(_isReady(myZombie));</span><br><span class="line">    _targetDna = _targetDna % dnaModulus;</span><br><span class="line">    uint newDna = (myZombie.dna + _targetDna) / 2;</span><br><span class="line">    if (keccak256(species) == keccak256("kitty")) {</span><br><span class="line">      newDna = newDna - newDna % 100 + 99;</span><br><span class="line">    }</span><br><span class="line">    _createZombie("NoName", newDna);</span><br><span class="line">    // 3. è°ƒç”¨ `_triggerCooldown`</span><br><span class="line">    _triggerCooldown(myZombie);</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬8ç« -è¿›ä¸€æ­¥äº†è§£å‡½æ•°ä¿®é¥°ç¬¦"><a href="#ç¬¬8ç« -è¿›ä¸€æ­¥äº†è§£å‡½æ•°ä¿®é¥°ç¬¦" class="headerlink" title="ç¬¬8ç« : è¿›ä¸€æ­¥äº†è§£å‡½æ•°ä¿®é¥°ç¬¦"></a>ç¬¬8ç« : è¿›ä¸€æ­¥äº†è§£å‡½æ•°ä¿®é¥°ç¬¦</h3><p>ç›¸å½“ä¸é”™ï¼æˆ‘ä»¬çš„åƒµå°¸ç°åœ¨æœ‰äº†â€œå†·å´å®šæ—¶å™¨â€åŠŸèƒ½ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ·»åŠ ä¸€äº›è¾…åŠ©æ–¹æ³•ã€‚æˆ‘ä»¬ä¸ºæ‚¨åˆ›å»ºäº†ä¸€ä¸ªåä¸º <code>zombiehelper.sol</code> çš„æ–°æ–‡ä»¶ï¼Œå¹¶ä¸”å°† <code>zombiefeeding.sol</code> å¯¼å…¥å…¶ä¸­ï¼Œè¿™è®©æˆ‘ä»¬çš„ä»£ç æ›´æ•´æ´ã€‚</p>
<p>æˆ‘ä»¬æ‰“ç®—è®©åƒµå°¸åœ¨è¾¾åˆ°ä¸€å®šæ°´å¹³åï¼Œè·å¾—ç‰¹æ®Šèƒ½åŠ›ã€‚ä½†æ˜¯è¾¾åˆ°è¿™ä¸ªå°ç›®æ ‡ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å­¦ä¸€å­¦ä»€ä¹ˆæ˜¯â€œå‡½æ•°ä¿®é¥°ç¬¦â€ã€‚</p>
<p><strong>å¸¦å‚æ•°çš„å‡½æ•°ä¿®é¥°ç¬¦</strong></p>
<p>ä¹‹å‰æˆ‘ä»¬å·²ç»è¯»è¿‡ä¸€ä¸ªç®€å•çš„å‡½æ•°ä¿®é¥°ç¬¦äº†ï¼š<code>onlyOwner</code>ã€‚å‡½æ•°ä¿®é¥°ç¬¦ä¹Ÿå¯ä»¥å¸¦å‚æ•°ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// å­˜å‚¨ç”¨æˆ·å¹´é¾„çš„æ˜ å°„</span><br><span class="line">mapping (uint =&gt; uint) public age;</span><br><span class="line"></span><br><span class="line">// é™å®šç”¨æˆ·å¹´é¾„çš„ä¿®é¥°ç¬¦</span><br><span class="line">modifier olderThan(uint _age, uint _userId) {</span><br><span class="line">  require(age[_userId] &gt;= _age);</span><br><span class="line">  _;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">// å¿…é¡»å¹´æ»¡16å‘¨å²æ‰å…è®¸å¼€è½¦ (è‡³å°‘åœ¨ç¾å›½æ˜¯è¿™æ ·çš„).</span><br><span class="line">// æˆ‘ä»¬å¯ä»¥ç”¨å¦‚ä¸‹å‚æ•°è°ƒç”¨`olderThan` ä¿®é¥°ç¬¦:</span><br><span class="line">function driveCar(uint _userId) public olderThan(16, _userId) {</span><br><span class="line">  // å…¶ä½™çš„ç¨‹åºé€»è¾‘</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>çœ‹åˆ°äº†å§ï¼Œ <code>olderThan</code> ä¿®é¥°ç¬¦å¯ä»¥åƒå‡½æ•°ä¸€æ ·æ¥æ”¶å‚æ•°ï¼Œæ˜¯â€œå®¿ä¸»â€å‡½æ•° <code>driveCar</code> æŠŠå‚æ•°ä¼ é€’ç»™å®ƒçš„ä¿®é¥°ç¬¦çš„ã€‚</p>
<p>æ¥ï¼Œæˆ‘ä»¬è‡ªå·±ç”Ÿäº§ä¸€ä¸ªä¿®é¥°ç¬¦ï¼Œé€šè¿‡ä¼ å…¥çš„<code>level</code>å‚æ•°æ¥é™åˆ¶åƒµå°¸ä½¿ç”¨æŸäº›ç‰¹æ®ŠåŠŸèƒ½ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li>åœ¨<code>ZombieHelper</code> ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º <code>aboveLevel</code> çš„<code>modifier</code>ï¼Œå®ƒæ¥æ”¶2ä¸ªå‚æ•°ï¼Œ <code>_level</code> (<code>uint</code>ç±»å‹) ä»¥åŠ <code>_zombieId</code> (<code>uint</code>ç±»å‹)ã€‚</li>
<li>è¿ç”¨å‡½æ•°é€»è¾‘ç¡®ä¿åƒµå°¸ <code>zombies[_zombieId].level</code> å¤§äºæˆ–ç­‰äº <code>_level</code>ã€‚</li>
<li>è®°ä½ï¼Œä¿®é¥°ç¬¦çš„æœ€åä¸€è¡Œä¸º <code>_;</code>ï¼Œè¡¨ç¤ºä¿®é¥°ç¬¦è°ƒç”¨ç»“æŸåè¿”å›ï¼Œå¹¶æ‰§è¡Œè°ƒç”¨å‡½æ•°ä½™ä¸‹çš„éƒ¨åˆ†ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">import "./zombiefeeding.sol";</span><br><span class="line"></span><br><span class="line">contract ZombieHelper is ZombieFeeding {</span><br><span class="line"></span><br><span class="line">  // åœ¨è¿™é‡Œå¼€å§‹</span><br><span class="line">  modifier aboveLevel(uint _level, uint _zombieId){</span><br><span class="line">    require(zombies[_zombieId].level &gt;= _level);</span><br><span class="line">    _;</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬9ç« -åƒµå°¸ä¿®é¥°ç¬¦"><a href="#ç¬¬9ç« -åƒµå°¸ä¿®é¥°ç¬¦" class="headerlink" title="ç¬¬9ç« : åƒµå°¸ä¿®é¥°ç¬¦"></a>ç¬¬9ç« : åƒµå°¸ä¿®é¥°ç¬¦</h3><p>ç°åœ¨è®©æˆ‘ä»¬è®¾è®¡ä¸€äº›ä½¿ç”¨ <code>aboveLevel</code> ä¿®é¥°ç¬¦çš„å‡½æ•°ã€‚</p>
<p>ä½œä¸ºæ¸¸æˆï¼Œæ‚¨å¾—æœ‰ä¸€äº›æªæ–½æ¿€åŠ±ç©å®¶ä»¬å»å‡çº§ä»–ä»¬çš„åƒµå°¸ï¼š</p>
<ul>
<li>2çº§ä»¥ä¸Šçš„åƒµå°¸ï¼Œç©å®¶å¯ç»™ä»–ä»¬æ”¹åã€‚</li>
<li>20çº§ä»¥ä¸Šçš„åƒµå°¸ï¼Œç©å®¶èƒ½ç»™ä»–ä»¬å®šåˆ¶çš„ DNAã€‚</li>
</ul>
<p>æ˜¯å®ç°è¿™äº›åŠŸèƒ½çš„æ—¶å€™äº†ã€‚ä»¥ä¸‹æ˜¯ä¸Šä¸€è¯¾çš„ç¤ºä¾‹ä»£ç ï¼Œä¾›å‚è€ƒï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// å­˜å‚¨ç”¨æˆ·å¹´é¾„çš„æ˜ å°„</span><br><span class="line">mapping (uint =&gt; uint) public age;</span><br><span class="line"></span><br><span class="line">// é™å®šç”¨æˆ·å¹´é¾„çš„ä¿®é¥°ç¬¦</span><br><span class="line">modifier olderThan(uint _age, uint _userId) {</span><br><span class="line">  require (age[_userId] &gt;= _age);</span><br><span class="line">  _;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">// å¿…é¡»å¹´æ»¡16å‘¨å²æ‰å…è®¸å¼€è½¦ (è‡³å°‘åœ¨ç¾å›½æ˜¯è¿™æ ·çš„).</span><br><span class="line">// æˆ‘ä»¬å¯ä»¥ç”¨å¦‚ä¸‹å‚æ•°è°ƒç”¨`olderThan` ä¿®é¥°ç¬¦:</span><br><span class="line">function driveCar(uint _userId) public olderThan(16, _userId) {</span><br><span class="line">  // å…¶ä½™çš„ç¨‹åºé€»è¾‘</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªåä¸º <code>changeName</code> çš„å‡½æ•°ã€‚å®ƒæ¥æ”¶2ä¸ªå‚æ•°ï¼š<code>_zombieId</code>ï¼ˆ<code>uint</code>ç±»å‹ï¼‰ä»¥åŠ <code>_newName</code>ï¼ˆ<code>string</code>ç±»å‹ï¼‰ï¼Œå¯è§æ€§ä¸º <code>external</code>ã€‚å®ƒå¸¦æœ‰ä¸€ä¸ª <code>aboveLevel</code> ä¿®é¥°ç¬¦ï¼Œè°ƒç”¨çš„æ—¶å€™é€šè¿‡ <code>_level</code> å‚æ•°ä¼ å…¥<code>2</code>ï¼Œ å½“ç„¶ï¼Œåˆ«å¿˜äº†åŒæ—¶ä¼  <code>_zombieId</code> å‚æ•°ã€‚</li>
<li>åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œé¦–å…ˆæˆ‘ä»¬ç”¨ <code>require</code> è¯­å¥ï¼ŒéªŒè¯ <code>msg.sender</code> æ˜¯å¦å°±æ˜¯ <code>zombieToOwner [_zombieId]</code>ã€‚</li>
<li>ç„¶åå‡½æ•°å°† <code>zombies[_zombieId] .name</code> è®¾ç½®ä¸º <code>_newName</code>ã€‚</li>
<li>åœ¨ <code>changeName</code> ä¸‹åˆ›å»ºå¦ä¸€ä¸ªåä¸º <code>changeDna</code> çš„å‡½æ•°ã€‚å®ƒçš„å®šä¹‰å’Œå†…å®¹å‡ ä¹å’Œ <code>changeName</code> ç›¸åŒï¼Œä¸è¿‡å®ƒç¬¬äºŒä¸ªå‚æ•°æ˜¯ <code>_newDna</code>ï¼ˆ<code>uint</code>ç±»å‹ï¼‰ï¼Œåœ¨ä¿®é¥°ç¬¦ <code>aboveLevel</code> çš„ <code>_level</code> å‚æ•°ä¸­ä¼ é€’ <code>20</code> ã€‚ç°åœ¨ï¼Œä»–å¯ä»¥æŠŠåƒµå°¸çš„ <code>dna</code> è®¾ç½®ä¸º <code>_newDna</code> äº†ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// åœ¨è¿™é‡Œå¼€å§‹</span><br><span class="line">  function changeName(uint _zombieId, string _newName) external aboveLevel(2, _zombieId){</span><br><span class="line">    require(msg.sender == zombieToOwner[_zombieId]);</span><br><span class="line">    zombies[_zombieId].name = _newName;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  function changeDna(uint _zombieId, uint _newDna) external aboveLevel(20, _zombieId){</span><br><span class="line">    require(msg.sender == zombieToOwner[_zombieId]);</span><br><span class="line">    zombies[_zombieId].dna = _newDna;</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬10ç« -åˆ©ç”¨-â€˜Viewâ€™-å‡½æ•°èŠ‚çœ-Gas"><a href="#ç¬¬10ç« -åˆ©ç”¨-â€˜Viewâ€™-å‡½æ•°èŠ‚çœ-Gas" class="headerlink" title="ç¬¬10ç« : åˆ©ç”¨ â€˜Viewâ€™ å‡½æ•°èŠ‚çœ Gas"></a>ç¬¬10ç« : åˆ©ç”¨ â€˜Viewâ€™ å‡½æ•°èŠ‚çœ Gas</h3><p>é…·ç‚«ï¼ç°åœ¨é«˜çº§åˆ«åƒµå°¸å¯ä»¥æ‹¥æœ‰ç‰¹æ®ŠæŠ€èƒ½äº†ï¼Œè¿™ä¸€å®šä¼šé¼“åŠ¨æˆ‘ä»¬çš„ç©å®¶å»æ‰“æ€ªå‡çº§çš„ã€‚ä½ å–œæ¬¢çš„è¯ï¼Œå›å¤´æˆ‘ä»¬è¿˜èƒ½æ·»åŠ æ›´å¤šçš„ç‰¹æ®ŠæŠ€èƒ½ã€‚</p>
<p>ç°åœ¨éœ€è¦æ·»åŠ çš„ä¸€ä¸ªåŠŸèƒ½æ˜¯ï¼šæˆ‘ä»¬çš„ DApp éœ€è¦ä¸€ä¸ªæ–¹æ³•æ¥æŸ¥çœ‹æŸç©å®¶çš„æ•´ä¸ªåƒµå°¸å†›å›¢ - æˆ‘ä»¬ç§°ä¹‹ä¸º <code>getZombiesByOwner</code>ã€‚</p>
<p>å®ç°è¿™ä¸ªåŠŸèƒ½åªéœ€ä»åŒºå—é“¾ä¸­è¯»å–æ•°æ®ï¼Œæ‰€ä»¥å®ƒå¯ä»¥æ˜¯ä¸€ä¸ª <code>view</code> å‡½æ•°ã€‚è¿™è®©æˆ‘ä»¬ä¸å¾—ä¸å›é¡¾ä¸€ä¸‹â€œgasä¼˜åŒ–â€è¿™ä¸ªé‡è¦è¯é¢˜ã€‚</p>
<p><strong>â€œviewâ€ å‡½æ•°ä¸èŠ± â€œgasâ€</strong></p>
<p>å½“ç©å®¶ä»å¤–éƒ¨è°ƒç”¨ä¸€ä¸ª<code>view</code>å‡½æ•°ï¼Œæ˜¯ä¸éœ€è¦æ”¯ä»˜ä¸€åˆ† gas çš„ã€‚</p>
<p>è¿™æ˜¯å› ä¸º <code>view</code> å‡½æ•°ä¸ä¼šçœŸæ­£æ”¹å˜åŒºå—é“¾ä¸Šçš„ä»»ä½•æ•°æ® - å®ƒä»¬åªæ˜¯è¯»å–ã€‚å› æ­¤ç”¨ <code>view</code> æ ‡è®°ä¸€ä¸ªå‡½æ•°ï¼Œæ„å‘³ç€å‘Šè¯‰ <code>web3.js</code>ï¼Œè¿è¡Œè¿™ä¸ªå‡½æ•°åªéœ€è¦æŸ¥è¯¢ä½ çš„æœ¬åœ°ä»¥å¤ªåŠèŠ‚ç‚¹ï¼Œè€Œä¸éœ€è¦åœ¨åŒºå—é“¾ä¸Šåˆ›å»ºä¸€ä¸ªäº‹åŠ¡ï¼ˆäº‹åŠ¡éœ€è¦è¿è¡Œåœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šï¼Œå› æ­¤èŠ±è´¹ gasï¼‰ã€‚</p>
<p>ç¨åæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•åœ¨è‡ªå·±çš„èŠ‚ç‚¹ä¸Šè®¾ç½® web3.jsã€‚ä½†ç°åœ¨ï¼Œä½ å…³é”®æ˜¯è¦è®°ä½ï¼Œåœ¨æ‰€èƒ½åªè¯»çš„å‡½æ•°ä¸Šæ ‡è®°ä¸Šè¡¨ç¤ºâ€œåªè¯»â€çš„â€œ<code>external view</code> å£°æ˜ï¼Œå°±èƒ½ä¸ºä½ çš„ç©å®¶å‡å°‘åœ¨ DApp ä¸­ gas ç”¨é‡ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šå¦‚æœä¸€ä¸ª <code>view</code> å‡½æ•°åœ¨å¦ä¸€ä¸ªå‡½æ•°çš„å†…éƒ¨è¢«è°ƒç”¨ï¼Œè€Œè°ƒç”¨å‡½æ•°ä¸ <code>view</code> å‡½æ•°çš„ä¸å±äºåŒä¸€ä¸ªåˆçº¦ï¼Œä¹Ÿä¼šäº§ç”Ÿè°ƒç”¨æˆæœ¬ã€‚è¿™æ˜¯å› ä¸ºå¦‚æœä¸»è°ƒå‡½æ•°åœ¨ä»¥å¤ªåŠåˆ›å»ºäº†ä¸€ä¸ªäº‹åŠ¡ï¼Œå®ƒä»ç„¶éœ€è¦é€ä¸ªèŠ‚ç‚¹å»éªŒè¯ã€‚æ‰€ä»¥æ ‡è®°ä¸º <code>view</code> çš„å‡½æ•°åªæœ‰åœ¨å¤–éƒ¨è°ƒç”¨æ—¶æ‰æ˜¯å…è´¹çš„ã€‚</p>
</blockquote>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬æ¥å†™ä¸€ä¸ªâ€è¿”å›æŸç©å®¶çš„æ•´ä¸ªåƒµå°¸å†›å›¢â€œçš„å‡½æ•°ã€‚å½“æˆ‘ä»¬ä» <code>web3.js</code> ä¸­è°ƒç”¨å®ƒï¼Œå³å¯æ˜¾ç¤ºæŸä¸€ç©å®¶çš„ä¸ªäººèµ„æ–™é¡µã€‚</p>
<p>è¿™ä¸ªå‡½æ•°çš„é€»è¾‘æœ‰ç‚¹å¤æ‚ï¼Œæˆ‘ä»¬éœ€è¦å¥½å‡ ä¸ªç« èŠ‚æ¥æè¿°å®ƒçš„å®ç°ã€‚</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªåä¸º <code>getZombiesByOwner</code> çš„æ–°å‡½æ•°ã€‚å®ƒæœ‰ä¸€ä¸ªåä¸º <code>_owner</code> çš„ <code>address</code> ç±»å‹çš„å‚æ•°ã€‚</li>
<li>å°†å…¶ç”³æ˜ä¸º <code>external view</code> å‡½æ•°ï¼Œè¿™æ ·å½“ç©å®¶ä» <code>web3.js</code> ä¸­è°ƒç”¨å®ƒæ—¶ï¼Œä¸éœ€è¦èŠ±è´¹ä»»ä½• gasã€‚</li>
<li>å‡½æ•°éœ€è¦è¿”å›ä¸€ä¸ª<code>uint []</code>ï¼ˆ<code>uint</code>æ•°ç»„ï¼‰ã€‚</li>
</ol>
<p>å…ˆè¿™ä¹ˆå£°æ˜ç€ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ç« ä¸­å¡«å……å‡½æ•°ä½“ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// åœ¨è¿™é‡Œåˆ›å»ºä½ çš„å‡½æ•°</span><br><span class="line"> function getZombiesByOwner(address _owner) external view returns(uint[]){</span><br><span class="line"></span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬11ç« -å­˜å‚¨éå¸¸æ˜‚è´µ"><a href="#ç¬¬11ç« -å­˜å‚¨éå¸¸æ˜‚è´µ" class="headerlink" title="ç¬¬11ç« : å­˜å‚¨éå¸¸æ˜‚è´µ"></a>ç¬¬11ç« : å­˜å‚¨éå¸¸æ˜‚è´µ</h3><p>Solidity ä½¿ç”¨<code>storage</code>(å­˜å‚¨)æ˜¯ç›¸å½“æ˜‚è´µçš„ï¼Œâ€å†™å…¥â€œæ“ä½œå°¤å…¶è´µã€‚</p>
<p>è¿™æ˜¯å› ä¸ºï¼Œæ— è®ºæ˜¯å†™å…¥è¿˜æ˜¯æ›´æ”¹ä¸€æ®µæ•°æ®ï¼Œ è¿™éƒ½å°†æ°¸ä¹…æ€§åœ°å†™å…¥åŒºå—é“¾ã€‚â€æ°¸ä¹…æ€§â€œå•Šï¼éœ€è¦åœ¨å…¨çƒæ•°åƒä¸ªèŠ‚ç‚¹çš„ç¡¬ç›˜ä¸Šå­˜å…¥è¿™äº›æ•°æ®ï¼Œéšç€åŒºå—é“¾çš„å¢é•¿ï¼Œæ‹·è´ä»½æ•°æ›´å¤šï¼Œå­˜å‚¨é‡ä¹Ÿå°±è¶Šå¤§ã€‚è¿™æ˜¯éœ€è¦æˆæœ¬çš„ï¼</p>
<p>ä¸ºäº†é™ä½æˆæœ¬ï¼Œä¸åˆ°ä¸‡ä¸å¾—å·²ï¼Œé¿å…å°†æ•°æ®å†™å…¥å­˜å‚¨ã€‚è¿™ä¹Ÿä¼šå¯¼è‡´æ•ˆç‡ä½ä¸‹çš„ç¼–ç¨‹é€»è¾‘ - æ¯”å¦‚æ¯æ¬¡è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œéƒ½éœ€è¦åœ¨ <code>memory</code>(å†…å­˜) ä¸­é‡å»ºä¸€ä¸ªæ•°ç»„ï¼Œè€Œä¸æ˜¯ç®€å•åœ°å°†ä¸Šæ¬¡è®¡ç®—çš„æ•°ç»„ç»™å­˜å‚¨ä¸‹æ¥ä»¥ä¾¿å¿«é€ŸæŸ¥æ‰¾ã€‚</p>
<p>åœ¨å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œéå†å¤§æ•°æ®é›†åˆéƒ½æ˜¯æ˜‚è´µçš„ã€‚ä½†æ˜¯åœ¨ Solidity ä¸­ï¼Œä½¿ç”¨ä¸€ä¸ªæ ‡è®°äº†<code>external view</code>çš„å‡½æ•°ï¼Œéå†æ¯” <code>storage</code> è¦ä¾¿å®œå¤ªå¤šï¼Œå› ä¸º <code>view</code> å‡½æ•°ä¸ä¼šäº§ç”Ÿä»»ä½•èŠ±é”€ã€‚ ï¼ˆgaså¯æ˜¯çœŸé‡‘ç™½é“¶å•Šï¼ï¼‰ã€‚</p>
<p>æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ç« è®¨è®º<code>for</code>å¾ªç¯ï¼Œç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹çœ‹å¦‚ä½•å¦‚ä½•åœ¨å†…å­˜ä¸­å£°æ˜æ•°ç»„ã€‚</p>
<p><strong>åœ¨å†…å­˜ä¸­å£°æ˜æ•°ç»„</strong></p>
<p>åœ¨æ•°ç»„åé¢åŠ ä¸Š <code>memory</code>å…³é”®å­—ï¼Œ è¡¨æ˜è¿™ä¸ªæ•°ç»„æ˜¯ä»…ä»…åœ¨å†…å­˜ä¸­åˆ›å»ºï¼Œä¸éœ€è¦å†™å…¥å¤–éƒ¨å­˜å‚¨ï¼Œå¹¶ä¸”åœ¨å‡½æ•°è°ƒç”¨ç»“æŸæ—¶å®ƒå°±è§£æ•£äº†ã€‚ä¸åœ¨ç¨‹åºç»“æŸæ—¶æŠŠæ•°æ®ä¿å­˜è¿› <code>storage</code> çš„åšæ³•ç›¸æ¯”ï¼Œå†…å­˜è¿ç®—å¯ä»¥å¤§å¤§èŠ‚çœgaså¼€é”€ â€“ æŠŠè¿™æ•°ç»„æ”¾åœ¨<code>view</code>é‡Œç”¨ï¼Œå®Œå…¨ä¸ç”¨èŠ±é’±ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ç”³æ˜ä¸€ä¸ªå†…å­˜æ•°ç»„çš„ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function getArray() external pure returns(uint[]) {</span><br><span class="line">  // åˆå§‹åŒ–ä¸€ä¸ªé•¿åº¦ä¸º3çš„å†…å­˜æ•°ç»„</span><br><span class="line">  uint[] memory values = new uint[](3);</span><br><span class="line">  // èµ‹å€¼</span><br><span class="line">  values.push(1);</span><br><span class="line">  values.push(2);</span><br><span class="line">  values.push(3);</span><br><span class="line">  // è¿”å›æ•°ç»„</span><br><span class="line">  return values;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ä¸ªå°ä¾‹å­å±•ç¤ºäº†ä¸€äº›è¯­æ³•è§„åˆ™ï¼Œä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªå®é™…ç”¨ä¾‹ï¼Œå±•ç¤ºå®ƒå’Œ <code>for</code> å¾ªç¯ç»“åˆçš„åšæ³•ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šå†…å­˜æ•°ç»„ <strong>å¿…é¡»</strong> ç”¨é•¿åº¦å‚æ•°ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸º<code>3</code>ï¼‰åˆ›å»ºã€‚ç›®å‰ä¸æ”¯æŒ <code>array.push()</code>ä¹‹ç±»çš„æ–¹æ³•è°ƒæ•´æ•°ç»„å¤§å°ï¼Œåœ¨æœªæ¥çš„ç‰ˆæœ¬å¯èƒ½ä¼šæ”¯æŒé•¿åº¦ä¿®æ”¹ã€‚</p>
</blockquote>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬è¦è¦åˆ›å»ºä¸€ä¸ªåä¸º <code>getZombiesByOwner</code> çš„å‡½æ•°ï¼Œå®ƒä»¥<code>uint []</code>æ•°ç»„çš„å½¢å¼è¿”å›æŸä¸€ç”¨æˆ·æ‰€æ‹¥æœ‰çš„æ‰€æœ‰åƒµå°¸ã€‚</p>
<ol>
<li>å£°æ˜ä¸€ä¸ªåä¸º<code>result</code>çš„<code>uint [] memory'</code> ï¼ˆå†…å­˜å˜é‡æ•°ç»„ï¼‰</li>
<li>å°†å…¶è®¾ç½®ä¸ºä¸€ä¸ªæ–°çš„ <code>uint</code> ç±»å‹æ•°ç»„ã€‚æ•°ç»„çš„é•¿åº¦ä¸ºè¯¥ <code>_owner</code> æ‰€æ‹¥æœ‰çš„åƒµå°¸æ•°é‡ï¼Œè¿™å¯é€šè¿‡è°ƒç”¨ <code>ownerZombieCount [_ owner]</code> æ¥è·å–ã€‚</li>
<li>å‡½æ•°ç»“æŸï¼Œè¿”å› <code>result</code> ã€‚ç›®å‰å®ƒåªæ˜¯ä¸ªç©ºæ•°åˆ—ï¼Œæˆ‘ä»¬åˆ°ä¸‹ä¸€ç« å»å®ç°å®ƒã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function getZombiesByOwner(address _owner) external view returns(uint[]) {</span><br><span class="line">    // åœ¨è¿™é‡Œå¼€å§‹</span><br><span class="line">    uint[] memory result = new uint[](ownerZombieCount[_owner]);</span><br><span class="line">    return result;</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬12ç« -For-å¾ªç¯"><a href="#ç¬¬12ç« -For-å¾ªç¯" class="headerlink" title="ç¬¬12ç« : For å¾ªç¯"></a>ç¬¬12ç« : For å¾ªç¯</h3><p>åœ¨ä¹‹å‰çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬æåˆ°è¿‡ï¼Œå‡½æ•°ä¸­ä½¿ç”¨çš„æ•°ç»„æ˜¯è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­é€šè¿‡ <code>for</code> å¾ªç¯å®æ—¶æ„å»ºï¼Œè€Œä¸æ˜¯é¢„å…ˆå»ºç«‹åœ¨å­˜å‚¨ä¸­çš„ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦è¿™æ ·åšå‘¢ï¼Ÿ</p>
<p>ä¸ºäº†å®ç° <code>getZombiesByOwner</code> å‡½æ•°ï¼Œä¸€ç§â€œæ— è„‘å¼â€çš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨ <code>ZombieFactory</code> ä¸­å­˜å…¥â€ä¸»äººâ€œå’Œâ€åƒµå°¸å†›å›¢â€œçš„æ˜ å°„ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mapping (address =&gt; uint[]) public ownerToZombies</span><br></pre></td></tr></tbody></table></figure>

<p>ç„¶åæˆ‘ä»¬æ¯æ¬¡åˆ›å»ºæ–°åƒµå°¸æ—¶ï¼Œæ‰§è¡Œ <code>ownerToZombies [owner] .pushï¼ˆzombieIdï¼‰</code> å°†å…¶æ·»åŠ åˆ°ä¸»äººçš„åƒµå°¸æ•°ç»„ä¸­ã€‚è€Œ <code>getZombiesByOwner</code> å‡½æ•°ä¹Ÿéå¸¸ç®€å•ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function getZombiesByOwner(address _owner) external view returns (uint[]) {</span><br><span class="line">  return ownerToZombies[_owner];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>è¿™ä¸ªåšæ³•æœ‰é—®é¢˜</strong></p>
<p>åšæ³•å€’æ˜¯ç®€å•ã€‚å¯æ˜¯å¦‚æœæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå‡½æ•°æ¥æŠŠä¸€å¤´åƒµå°¸è½¬ç§»åˆ°å¦ä¸€ä¸ªä¸»äººåä¸‹ï¼ˆæˆ‘ä»¬ä¸€å®šä¼šåœ¨åé¢çš„è¯¾ç¨‹ä¸­å®ç°çš„ï¼‰ï¼Œåˆä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>
<p>è¿™ä¸ªâ€œæ¢ä¸»â€å‡½æ•°è¦åšåˆ°ï¼š</p>
<p>1.å°†åƒµå°¸pushåˆ°æ–°ä¸»äººçš„ <code>ownerToZombies</code> æ•°ç»„ä¸­ï¼Œ 2.ä»æ—§ä¸»çš„ <code>ownerToZombies</code> æ•°ç»„ä¸­ç§»é™¤åƒµå°¸ï¼Œ 3.å°†æ—§ä¸»åƒµå°¸æ•°ç»„ä¸­â€œæ¢ä¸»åƒµå°¸â€ä¹‹åçš„çš„æ¯å¤´åƒµå°¸éƒ½å¾€å‰æŒªä¸€ä½ï¼ŒæŠŠæŒªèµ°â€œæ¢ä¸»åƒµå°¸â€åç•™ä¸‹çš„â€œç©ºæ§½â€å¡«ä¸Šï¼Œ 4.å°†æ•°ç»„é•¿åº¦å‡1ã€‚</p>
<p>ä½†æ˜¯ç¬¬ä¸‰æ­¥å®åœ¨æ˜¯å¤ªè´µäº†ï¼å› ä¸ºæ¯æŒªåŠ¨ä¸€å¤´åƒµå°¸ï¼Œæˆ‘ä»¬éƒ½è¦æ‰§è¡Œä¸€æ¬¡å†™æ“ä½œã€‚å¦‚æœä¸€ä¸ªä¸»äººæœ‰20å¤´åƒµå°¸ï¼Œè€Œç¬¬ä¸€å¤´è¢«æŒªèµ°äº†ï¼Œé‚£ä¸ºäº†ä¿æŒæ•°ç»„çš„é¡ºåºï¼Œæˆ‘ä»¬å¾—åš19ä¸ªå†™æ“ä½œã€‚</p>
<p>ç”±äºå†™å…¥å­˜å‚¨æ˜¯ Solidity ä¸­æœ€è´¹ gas çš„æ“ä½œä¹‹ä¸€ï¼Œä½¿å¾—æ¢ä¸»å‡½æ•°çš„æ¯æ¬¡è°ƒç”¨éƒ½éå¸¸æ˜‚è´µã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œæ¯æ¬¡è°ƒç”¨çš„æ—¶å€™èŠ±è´¹çš„ gas éƒ½ä¸åŒï¼å…·ä½“è¿˜å–å†³äºç”¨æˆ·åœ¨åŸä¸»å†›å›¢ä¸­çš„åƒµå°¸å¤´æ•°ï¼Œä»¥åŠç§»èµ°çš„åƒµå°¸æ‰€åœ¨çš„ä½ç½®ã€‚ä»¥è‡³äºç”¨æˆ·éƒ½ä¸çŸ¥é“åº”è¯¥æ”¯ä»˜å¤šå°‘ gasã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šå½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠæ•°ç»„ä¸­æœ€åä¸€ä¸ªåƒµå°¸å¾€å‰æŒªæ¥å¡«è¡¥ç©ºæ§½ï¼Œå¹¶å°†æ•°ç»„é•¿åº¦å‡å°‘ä¸€ã€‚ä½†è¿™æ ·æ¯åšä¸€ç¬”äº¤æ˜“ï¼Œéƒ½ä¼šæ”¹å˜åƒµå°¸å†›å›¢çš„ç§©åºã€‚</p>
</blockquote>
<p>ç”±äºä»å¤–éƒ¨è°ƒç”¨ä¸€ä¸ª <code>view</code> å‡½æ•°æ˜¯å…è´¹çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ <code>getZombiesByOwner</code> å‡½æ•°ä¸­ç”¨ä¸€ä¸ªforå¾ªç¯éå†æ•´ä¸ªåƒµå°¸æ•°ç»„ï¼ŒæŠŠå±äºæŸä¸ªä¸»äººçš„åƒµå°¸æŒ‘å‡ºæ¥æ„å»ºå‡ºåƒµå°¸æ•°ç»„ã€‚é‚£ä¹ˆæˆ‘ä»¬çš„ <code>transfer</code> å‡½æ•°å°†ä¼šä¾¿å®œå¾—å¤šï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦æŒªåŠ¨å­˜å‚¨é‡Œçš„åƒµå°¸æ•°ç»„é‡æ–°æ’åºï¼Œæ€»ä½“ä¸Šè¿™ä¸ªæ–¹æ³•ä¼šæ›´ä¾¿å®œï¼Œè™½ç„¶æœ‰ç‚¹åç›´è§‰ã€‚</p>
<p><strong>ä½¿ç”¨ <code>for</code> å¾ªç¯</strong></p>
<p><code>for</code>å¾ªç¯çš„è¯­æ³•åœ¨ Solidity å’Œ JavaScript ä¸­ç±»ä¼¼ã€‚</p>
<p>æ¥çœ‹ä¸€ä¸ªåˆ›å»ºå¶æ•°æ•°ç»„çš„ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function getEvens() pure external returns(uint[]) {</span><br><span class="line">  uint[] memory evens = new uint[](5);</span><br><span class="line">  // åœ¨æ–°æ•°ç»„ä¸­è®°å½•åºåˆ—å·</span><br><span class="line">  uint counter = 0;</span><br><span class="line">  // åœ¨å¾ªç¯ä»1è¿­ä»£åˆ°10ï¼š</span><br><span class="line">  for (uint i = 1; i &lt;= 10; i++) {</span><br><span class="line">    // å¦‚æœ `i` æ˜¯å¶æ•°...</span><br><span class="line">    if (i % 2 == 0) {</span><br><span class="line">      // æŠŠå®ƒåŠ å…¥å¶æ•°æ•°ç»„</span><br><span class="line">      evens[counter] = i;</span><br><span class="line">      //ç´¢å¼•åŠ ä¸€ï¼Œ æŒ‡å‘ä¸‹ä¸€ä¸ªç©ºçš„â€˜evenâ€™</span><br><span class="line">      counter++;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  return evens;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ä¸ªå‡½æ•°å°†è¿”å›ä¸€ä¸ªå½¢ä¸º <code>[2,4,6,8,10]</code> çš„æ•°ç»„ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬å›åˆ° <code>getZombiesByOwner</code> å‡½æ•°ï¼Œ é€šè¿‡ä¸€æ¡ <code>for</code> å¾ªç¯æ¥éå† DApp ä¸­æ‰€æœ‰çš„åƒµå°¸ï¼Œ å°†ç»™å®šçš„â€˜ç”¨æˆ·idâ€™ä¸æ¯å¤´åƒµå°¸çš„â€˜ä¸»äººâ€™è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶åœ¨å‡½æ•°è¿”å›ä¹‹å‰å°†å®ƒä»¬æ¨é€åˆ°æˆ‘ä»¬çš„<code>result</code> æ•°ç»„ä¸­ã€‚</p>
<p>1.å£°æ˜ä¸€ä¸ªå˜é‡ <code>counter</code>ï¼Œå±æ€§ä¸º <code>uint</code>ï¼Œè®¾å…¶å€¼ä¸º <code>0</code> ã€‚æˆ‘ä»¬ç”¨è¿™ä¸ªå˜é‡ä½œä¸º <code>result</code> æ•°ç»„çš„ç´¢å¼•ã€‚</p>
<p>2.å£°æ˜ä¸€ä¸ª <code>for</code> å¾ªç¯ï¼Œ ä» <code>uint i = 0</code> åˆ° <code>i &lt;zombies.length</code>ã€‚å®ƒå°†éå†æ•°ç»„ä¸­çš„æ¯ä¸€å¤´åƒµå°¸ã€‚</p>
<p>3.åœ¨æ¯ä¸€è½® <code>for</code> å¾ªç¯ä¸­ï¼Œç”¨ä¸€ä¸ª <code>if</code> è¯­å¥æ¥æ£€æŸ¥ <code>zombieToOwner [i]</code> æ˜¯å¦ç­‰äº <code>_owner</code>ã€‚è¿™ä¼šæ¯”è¾ƒä¸¤ä¸ªåœ°å€æ˜¯å¦åŒ¹é…ã€‚</p>
<p>4.åœ¨ <code>if</code> è¯­å¥ä¸­ï¼š</p>
<ol>
<li>é€šè¿‡å°† <code>result [counter]</code> è®¾ç½®ä¸º <code>i</code>ï¼Œå°†åƒµå°¸IDæ·»åŠ åˆ° <code>result</code> æ•°ç»„ä¸­ã€‚</li>
<li>å°†counteråŠ 1ï¼ˆå‚è§ä¸Šé¢çš„forå¾ªç¯ç¤ºä¾‹ï¼‰ã€‚</li>
</ol>
<p>å°±æ˜¯è¿™æ · - è¿™ä¸ªå‡½æ•°èƒ½è¿”å› <code>_owner</code> æ‰€æ‹¥æœ‰çš„åƒµå°¸æ•°ç»„ï¼Œä¸èŠ±ä¸€åˆ†é’± gasã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function getZombiesByOwner(address _owner) external view returns(uint[]) {</span><br><span class="line">    uint[] memory result = new uint[](ownerZombieCount[_owner]);</span><br><span class="line">    // åœ¨è¿™é‡Œå¼€å§‹</span><br><span class="line">    uint counter = 0;</span><br><span class="line">    for(uint i = 0; i &lt;zombies.length; i++){</span><br><span class="line">      if(zombieToOwner[i] == _owner){</span><br><span class="line">        result[counter] = i;</span><br><span class="line">        counter++;</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">    return result;</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬13ç« -æ”¾åœ¨ä¸€èµ·"><a href="#ç¬¬13ç« -æ”¾åœ¨ä¸€èµ·" class="headerlink" title="ç¬¬13ç« : æ”¾åœ¨ä¸€èµ·"></a>ç¬¬13ç« : æ”¾åœ¨ä¸€èµ·</h3><p>æ­å–œæ‚¨å•Šï¼Œå±…ç„¶æŠŠç¬¬ä¸‰è¯¾ä¹Ÿå­¦å®Œäº†ï¼</p>
<p><strong>è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ï¼š</strong></p>
<ul>
<li>æ·»åŠ äº†ä¸€ç§æ–°æ–¹æ³•æ¥ä¿®æ”¹CryptoKittiesåˆçº¦</li>
<li>å­¦ä¼šä½¿ç”¨ <code>onlyOwner</code> è¿›è¡Œè°ƒç”¨æƒé™é™åˆ¶</li>
<li>äº†è§£äº† gas å’Œ gas çš„ä¼˜åŒ–</li>
<li>ä¸ºåƒµå°¸æ·»åŠ äº† â€œçº§åˆ«â€ å’Œ â€œå†·å´å‘¨æœŸâ€å±æ€§</li>
<li>å½“åƒµå°¸è¾¾åˆ°ä¸€å®šçº§åˆ«æ—¶ï¼Œå…è®¸ä¿®æ”¹åƒµå°¸çš„åå­—å’Œ DNA</li>
<li>æœ€åï¼Œå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œç”¨ä»¥è¿”å›æŸä¸ªç©å®¶çš„åƒµå°¸å†›å›¢</li>
</ul>
<p><strong>é¢†å¥–æ—¶é—´</strong></p>
<p>ä½œä¸ºå®Œæˆç¬¬ä¸‰è¯¾çš„å¥–åŠ±ï¼Œæ‚¨çš„ä¸¤ä¸ªåƒµå°¸éƒ½å·²ç»å‡çº§äº†ï¼</p>
<p>ç°åœ¨ NoNameï¼ˆä½ åœ¨ç¬¬2è¯¾åˆ›å»ºçš„å°çŒ«åƒµå°¸ï¼‰å·²ç»å‡çº§åˆ°ç¬¬2çº§ï¼Œä½ å¯ä»¥è°ƒç”¨ <code>changeName</code> ç»™å®ƒå–ä¸ªåå­—ã€‚ ç»ˆäºä¸å†æ˜¯æ— åä¹‹è¾ˆäº†ï¼</p>
<p>å»ç»™æ‚¨çš„ NoName å–ä¸ªåå­—å§ï¼Œç­‰ä½ åšå®Œä¸‹ä¸€ç« ï¼Œæœ¬è¯¾ç¨‹å°±ç»“æŸäº†ã€‚</p>
<h2 id="lesson4-åƒµå°¸ä½œæˆ˜ç³»ç»Ÿ"><a href="#lesson4-åƒµå°¸ä½œæˆ˜ç³»ç»Ÿ" class="headerlink" title="lesson4 åƒµå°¸ä½œæˆ˜ç³»ç»Ÿ"></a>lesson4 åƒµå°¸ä½œæˆ˜ç³»ç»Ÿ</h2><h3 id="ç¬¬1ç« -å¯æ”¯ä»˜"><a href="#ç¬¬1ç« -å¯æ”¯ä»˜" class="headerlink" title="ç¬¬1ç« : å¯æ”¯ä»˜"></a>ç¬¬1ç« : å¯æ”¯ä»˜</h3><p>æˆªè‡³ç›®å‰ï¼Œæˆ‘ä»¬åªæ¥è§¦åˆ°å¾ˆå°‘çš„ <strong>å‡½æ•°ä¿®é¥°ç¬¦</strong>ã€‚ è¦è®°ä½æ‰€æœ‰çš„ä¸œè¥¿å¾ˆéš¾ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥ä¸ªæ¦‚è§ˆï¼š</p>
<ol>
<li>æˆ‘ä»¬æœ‰å†³å®šå‡½æ•°ä½•æ—¶å’Œè¢«è°è°ƒç”¨çš„å¯è§æ€§ä¿®é¥°ç¬¦: <code>private</code> æ„å‘³ç€å®ƒåªèƒ½è¢«åˆçº¦å†…éƒ¨è°ƒç”¨ï¼› <code>internal</code> å°±åƒ <code>private</code> ä½†æ˜¯ä¹Ÿèƒ½è¢«ç»§æ‰¿çš„åˆçº¦è°ƒç”¨ï¼› <code>external</code> åªèƒ½ä»åˆçº¦å¤–éƒ¨è°ƒç”¨ï¼›æœ€å <code>public</code> å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è°ƒç”¨ï¼Œä¸ç®¡æ˜¯å†…éƒ¨è¿˜æ˜¯å¤–éƒ¨ã€‚</li>
<li>æˆ‘ä»¬ä¹Ÿæœ‰çŠ¶æ€ä¿®é¥°ç¬¦ï¼Œ å‘Šè¯‰æˆ‘ä»¬å‡½æ•°å¦‚ä½•å’ŒåŒºå—é“¾äº¤äº’: <code>view</code> å‘Šè¯‰æˆ‘ä»¬è¿è¡Œè¿™ä¸ªå‡½æ•°ä¸ä¼šæ›´æ”¹å’Œä¿å­˜ä»»ä½•æ•°æ®ï¼› <code>pure</code> å‘Šè¯‰æˆ‘ä»¬è¿™ä¸ªå‡½æ•°ä¸ä½†ä¸ä¼šå¾€åŒºå—é“¾å†™æ•°æ®ï¼Œå®ƒç”šè‡³ä¸ä»åŒºå—é“¾è¯»å–æ•°æ®ã€‚è¿™ä¸¤ç§åœ¨è¢«ä»åˆçº¦å¤–éƒ¨è°ƒç”¨çš„æ—¶å€™éƒ½ä¸èŠ±è´¹ä»»ä½•gasï¼ˆä½†æ˜¯å®ƒä»¬åœ¨è¢«å†…éƒ¨å…¶ä»–å‡½æ•°è°ƒç”¨çš„æ—¶å€™å°†ä¼šè€—è´¹gasï¼‰ã€‚</li>
<li>ç„¶åæˆ‘ä»¬æœ‰äº†è‡ªå®šä¹‰çš„ <code>modifiers</code>ï¼Œä¾‹å¦‚åœ¨ç¬¬ä¸‰è¯¾å­¦ä¹ çš„: <code>onlyOwner</code> å’Œ <code>aboveLevel</code>ã€‚ å¯¹äºè¿™äº›ä¿®é¥°ç¬¦æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰å…¶å¯¹å‡½æ•°çš„çº¦æŸé€»è¾‘ã€‚</li>
</ol>
<p>è¿™äº›ä¿®é¥°ç¬¦å¯ä»¥åŒæ—¶ä½œç”¨äºä¸€ä¸ªå‡½æ•°å®šä¹‰ä¸Šï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function test() external view onlyOwner anotherModifier { /* ... */ }</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨è¿™ä¸€ç« ï¼Œæˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸ªæ–°çš„ä¿®é¥°ç¬¦ <code>payable</code>.</p>
<p><strong><code>payable</code> ä¿®é¥°ç¬¦</strong></p>
<p><code>payable</code> æ–¹æ³•æ˜¯è®© Solidity å’Œä»¥å¤ªåŠå˜å¾—å¦‚æ­¤é…·çš„ä¸€éƒ¨åˆ† â€”â€” å®ƒä»¬æ˜¯ä¸€ç§å¯ä»¥æ¥æ”¶ä»¥å¤ªçš„ç‰¹æ®Šå‡½æ•°ã€‚</p>
<p>å…ˆæ”¾ä¸€ä¸‹ã€‚å½“ä½ åœ¨è°ƒç”¨ä¸€ä¸ªæ™®é€šç½‘ç«™æœåŠ¡å™¨ä¸Šçš„APIå‡½æ•°çš„æ—¶å€™ï¼Œä½ æ— æ³•ç”¨ä½ çš„å‡½æ•°ä¼ é€ç¾å…ƒâ€”â€”ä½ ä¹Ÿä¸èƒ½ä¼ é€æ¯”ç‰¹å¸ã€‚</p>
<p>ä½†æ˜¯åœ¨ä»¥å¤ªåŠä¸­ï¼Œ å› ä¸ºé’± (<em>ä»¥å¤ª</em>), æ•°æ® (<em>äº‹åŠ¡è´Ÿè½½</em>)ï¼Œ ä»¥åŠåˆçº¦ä»£ç æœ¬èº«éƒ½å­˜åœ¨äºä»¥å¤ªåŠã€‚ä½ å¯ä»¥åœ¨åŒæ—¶è°ƒç”¨å‡½æ•° <strong>å¹¶</strong>ä»˜é’±ç»™å¦å¤–ä¸€ä¸ªåˆçº¦ã€‚</p>
<p>è¿™å°±å…è®¸å‡ºç°å¾ˆå¤šæœ‰è¶£çš„é€»è¾‘ï¼Œ æ¯”å¦‚å‘ä¸€ä¸ªåˆçº¦è¦æ±‚æ”¯ä»˜ä¸€å®šçš„é’±æ¥è¿è¡Œä¸€ä¸ªå‡½æ•°ã€‚</p>
<p><strong>æ¥çœ‹ä¸ªä¾‹å­</strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">contract OnlineStore {</span><br><span class="line">  function buySomething() external payable {</span><br><span class="line">    // æ£€æŸ¥ä»¥ç¡®å®š0.001ä»¥å¤ªå‘é€å‡ºå»æ¥è¿è¡Œå‡½æ•°:</span><br><span class="line">    require(msg.value == 0.001 ether);</span><br><span class="line">    // å¦‚æœä¸ºçœŸï¼Œä¸€äº›ç”¨æ¥å‘å‡½æ•°è°ƒç”¨è€…å‘é€æ•°å­—å†…å®¹çš„é€»è¾‘</span><br><span class="line">    transferThing(msg.sender);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨è¿™é‡Œï¼Œ<code>msg.value</code> æ˜¯ä¸€ç§å¯ä»¥æŸ¥çœ‹å‘åˆçº¦å‘é€äº†å¤šå°‘ä»¥å¤ªçš„æ–¹æ³•ï¼Œå¦å¤– <code>ether</code> æ˜¯ä¸€ä¸ªå…§å»ºå•å…ƒã€‚</p>
<p>è¿™é‡Œå‘ç”Ÿçš„äº‹æ˜¯ï¼Œä¸€äº›äººä¼šä» web3.js è°ƒç”¨è¿™ä¸ªå‡½æ•° (ä»DAppçš„å‰ç«¯)ï¼Œ åƒè¿™æ · :</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// å‡è®¾ `OnlineStore` åœ¨ä»¥å¤ªåŠä¸ŠæŒ‡å‘ä½ çš„åˆçº¦:</span><br><span class="line">OnlineStore.buySomething().send(from: web3.eth.defaultAccount, value: web3.utils.toWei(0.001))</span><br></pre></td></tr></tbody></table></figure>

<p>æ³¨æ„è¿™ä¸ª <code>value</code> å­—æ®µï¼Œ JavaScript è°ƒç”¨æ¥æŒ‡å®šå‘é€å¤šå°‘(0.001)<code>ä»¥å¤ª</code>ã€‚å¦‚æœæŠŠäº‹åŠ¡æƒ³è±¡æˆä¸€ä¸ªä¿¡å°ï¼Œä½ å‘é€åˆ°å‡½æ•°çš„å‚æ•°å°±æ˜¯ä¿¡çš„å†…å®¹ã€‚ æ·»åŠ ä¸€ä¸ª <code>value</code> å¾ˆåƒåœ¨ä¿¡å°é‡Œé¢æ”¾é’± â€”â€” ä¿¡ä»¶å†…å®¹å’Œé’±åŒæ—¶å‘é€ç»™äº†æ¥æ”¶è€…ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼š å¦‚æœä¸€ä¸ªå‡½æ•°æ²¡æ ‡è®°ä¸º<code>payable</code>ï¼Œ è€Œä½ å°è¯•åˆ©ç”¨ä¸Šé¢çš„æ–¹æ³•å‘é€ä»¥å¤ªï¼Œå‡½æ•°å°†æ‹’ç»ä½ çš„äº‹åŠ¡ã€‚</p>
</blockquote>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬æ¥åœ¨åƒµå°¸æ¸¸æˆé‡Œé¢åˆ›å»ºä¸€ä¸ª<code>payable</code> å‡½æ•°ã€‚</p>
<p>å‡å®šåœ¨æˆ‘ä»¬çš„æ¸¸æˆä¸­ï¼Œç©å®¶å¯ä»¥é€šè¿‡æ”¯ä»˜ETHæ¥å‡çº§ä»–ä»¬çš„åƒµå°¸ã€‚ETHå°†å­˜å‚¨åœ¨ä½ æ‹¥æœ‰çš„åˆçº¦ä¸­ â€”â€” ä¸€ä¸ªç®€å•æ˜äº†çš„ä¾‹å­ï¼Œå‘ä½ å±•ç¤ºä½ å¯ä»¥é€šè¿‡è‡ªå·±çš„æ¸¸æˆèµšé’±ã€‚</p>
<ol>
<li>å®šä¹‰ä¸€ä¸ª <code>uint</code> ï¼Œå‘½åä¸º <code>levelUpFee</code>, å°†å€¼è®¾å®šä¸º <code>0.001 ether</code>ã€‚</li>
<li>å®šä¹‰ä¸€ä¸ªåä¸º <code>levelUp</code> çš„å‡½æ•°ã€‚ å®ƒå°†æ¥æ”¶ä¸€ä¸ª <code>uint</code> å‚æ•° <code>_zombieId</code>ã€‚ å‡½æ•°åº”è¯¥ä¿®é¥°ä¸º <code>external</code> ä»¥åŠ <code>payable</code>ã€‚</li>
<li>è¿™ä¸ªå‡½æ•°é¦–å…ˆåº”è¯¥ <code>require</code> ç¡®ä¿ <code>msg.value</code> ç­‰äº <code>levelUpFee</code>ã€‚</li>
<li>ç„¶åå®ƒåº”è¯¥å¢åŠ åƒµå°¸çš„ <code>level</code>: <code>zombies[_zombieId].level++</code>ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 1. åœ¨è¿™é‡Œå®šä¹‰ levelUpFee</span><br><span class="line">  uint levelUpFee = 0.001 ether;</span><br><span class="line"></span><br><span class="line">  modifier aboveLevel(uint _level, uint _zombieId) {</span><br><span class="line">    require(zombies[_zombieId].level &gt;= _level);</span><br><span class="line">    _;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  // 2. åœ¨è¿™é‡Œæ’å…¥ levelUp å‡½æ•° </span><br><span class="line">  function levelUp(uint _zombieId) external payable {</span><br><span class="line">    require(msg.value == levelUpFee);</span><br><span class="line">    zombies[_zombieId].level++;</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬2ç« -æç°"><a href="#ç¬¬2ç« -æç°" class="headerlink" title="ç¬¬2ç« : æç°"></a>ç¬¬2ç« : æç°</h3><p>åœ¨ä¸Šä¸€ç« ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•å‘åˆçº¦å‘é€ä»¥å¤ªï¼Œé‚£ä¹ˆåœ¨å‘é€ä¹‹åä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>åœ¨ä½ å‘é€ä»¥å¤ªä¹‹åï¼Œå®ƒå°†è¢«å­˜å‚¨è¿›ä»¥åˆçº¦çš„ä»¥å¤ªåŠè´¦æˆ·ä¸­ï¼Œ å¹¶å†»ç»“åœ¨å“ªé‡Œ â€”â€” é™¤éä½ æ·»åŠ ä¸€ä¸ªå‡½æ•°æ¥ä»åˆçº¦ä¸­æŠŠä»¥å¤ªæç°ã€‚</p>
<p>ä½ å¯ä»¥å†™ä¸€ä¸ªå‡½æ•°æ¥ä»åˆçº¦ä¸­æç°ä»¥å¤ªï¼Œç±»ä¼¼è¿™æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">contract GetPaid is Ownable {</span><br><span class="line">  function withdraw() external onlyOwner {</span><br><span class="line">    owner.transfer(this.balance);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æ³¨æ„æˆ‘ä»¬ä½¿ç”¨ <code>Ownable</code> åˆçº¦ä¸­çš„ <code>owner</code> å’Œ <code>onlyOwner</code>ï¼Œå‡å®šå®ƒå·²ç»è¢«å¼•å…¥äº†ã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡ <code>transfer</code> å‡½æ•°å‘ä¸€ä¸ªåœ°å€å‘é€ä»¥å¤ªï¼Œ ç„¶å <code>this.balance</code> å°†è¿”å›å½“å‰åˆçº¦å­˜å‚¨äº†å¤šå°‘ä»¥å¤ªã€‚ æ‰€ä»¥å¦‚æœ100ä¸ªç”¨æˆ·æ¯äººå‘æˆ‘ä»¬æ”¯ä»˜1ä»¥å¤ªï¼Œ <code>this.balance</code> å°†æ˜¯100ä»¥å¤ªã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡ <code>transfer</code> å‘ä»»ä½•ä»¥å¤ªåŠåœ°å€ä»˜é’±ã€‚ æ¯”å¦‚ï¼Œä½ å¯ä»¥æœ‰ä¸€ä¸ªå‡½æ•°åœ¨ <code>msg.sender</code> è¶…é¢ä»˜æ¬¾çš„æ—¶å€™ç»™ä»–ä»¬é€€é’±ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uint itemFee = 0.001 ether;</span><br><span class="line">msg.sender.transfer(msg.value - itemFee);</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ–è€…åœ¨ä¸€ä¸ªæœ‰å–å®¶å’Œå–å®¶çš„åˆçº¦ä¸­ï¼Œ ä½ å¯ä»¥æŠŠå–å®¶çš„åœ°å€å­˜å‚¨èµ·æ¥ï¼Œ å½“æœ‰äººä¹°äº†å®ƒçš„ä¸œè¥¿çš„æ—¶å€™ï¼ŒæŠŠä¹°å®¶æ”¯ä»˜çš„é’±å‘é€ç»™å®ƒ <code>seller.transfer(msg.value)</code>ã€‚</p>
<p>æœ‰å¾ˆå¤šä¾‹å­æ¥å±•ç¤ºä»€ä¹ˆè®©ä»¥å¤ªåŠç¼–ç¨‹å¦‚æ­¤ä¹‹é…· â€”â€” ä½ å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªä¸è¢«ä»»ä½•äººæ§åˆ¶çš„å»ä¸­å¿ƒåŒ–å¸‚åœºã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li><p>åœ¨æˆ‘ä»¬çš„åˆçº¦é‡Œåˆ›å»ºä¸€ä¸ª <code>withdraw</code> å‡½æ•°ï¼Œå®ƒåº”è¯¥å‡ ä¹å’Œä¸Šé¢çš„<code>GetPaid</code>ä¸€æ ·ã€‚</p>
</li>
<li><p>ä»¥å¤ªçš„ä»·æ ¼åœ¨è¿‡å»å‡ å¹´å†…ç¿»äº†åå‡ å€ï¼Œåœ¨æˆ‘ä»¬å†™è¿™ä¸ªæ•™ç¨‹çš„æ—¶å€™ 0.01 ä»¥å¤ªç›¸å½“äº1ç¾å…ƒï¼Œå¦‚æœå®ƒå†ç¿»åå€ 0.001 ä»¥å¤ªå°†æ˜¯10ç¾å…ƒï¼Œé‚£æˆ‘ä»¬çš„æ¸¸æˆå°±å¤ªè´µäº†ã€‚</p>
<p> æ‰€ä»¥æˆ‘ä»¬åº”è¯¥å†åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œå…è®¸æˆ‘ä»¬ä»¥åˆçº¦æ‹¥æœ‰è€…çš„èº«ä»½æ¥è®¾ç½® <code>levelUpFee</code>ã€‚</p>
<p> a. åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œåä¸º <code>setLevelUpFee</code>ï¼Œ å…¶æ¥æ”¶ä¸€ä¸ªå‚æ•° <code>uint _fee</code>ï¼Œæ˜¯ <code>external</code> å¹¶ä½¿ç”¨ä¿®é¥°ç¬¦ <code>onlyOwner</code>ã€‚</p>
<p> b. è¿™ä¸ªå‡½æ•°åº”è¯¥è®¾ç½® <code>levelUpFee</code> ç­‰äº <code>_fee</code>ã€‚</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 1. åœ¨è¿™é‡Œåˆ›å»º withdraw å‡½æ•°</span><br><span class="line">  function withdraw() external onlyOwner {</span><br><span class="line">    owner.transfer(this.balance);</span><br><span class="line">  }</span><br><span class="line">  // 2. åœ¨è¿™é‡Œåˆ›å»º setLevelUpFee å‡½æ•° </span><br><span class="line">  function setLevelUpFee(uint _fee) external onlyOwner {</span><br><span class="line">    levelUpFee = _fee;</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬3ç« -åƒµå°¸æˆ˜æ–—"><a href="#ç¬¬3ç« -åƒµå°¸æˆ˜æ–—" class="headerlink" title="ç¬¬3ç« : åƒµå°¸æˆ˜æ–—"></a>ç¬¬3ç« : åƒµå°¸æˆ˜æ–—</h3><p>åœ¨æˆ‘ä»¬å­¦ä¹ äº†å¯æ”¯ä»˜å‡½æ•°å’Œåˆçº¦ä½™é¢ä¹‹åï¼Œæ˜¯æ—¶å€™ä¸ºåƒµå°¸æˆ˜æ–—æ·»åŠ åŠŸèƒ½äº†ã€‚</p>
<p>éµå¾ªä¸Šä¸€ç« çš„æ ¼å¼ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªæ”»å‡»åŠŸèƒ½åˆçº¦ï¼Œå¹¶å°†ä»£ç æ”¾è¿›æ–°çš„æ–‡ä»¶ä¸­ï¼Œå¼•å…¥ä¸Šä¸€ä¸ªåˆçº¦ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>å†æ¥æ–°å»ºä¸€ä¸ªåˆçº¦å§ã€‚ç†Ÿèƒ½ç”Ÿå·§ã€‚</p>
<p>å¦‚æœä½ ä¸è®°å¾—æ€ä¹ˆåšäº†, æŸ¥çœ‹ä¸€ä¸‹ <code>zombiehelper.sol</code> â€” ä¸è¿‡æœ€å¥½å…ˆè¯•ç€åšä¸€ä¸‹ï¼Œæ£€æŸ¥ä¸€ä¸‹ä½ æŒæ¡çš„æƒ…å†µã€‚</p>
<ol>
<li>åœ¨æ–‡ä»¶å¼€å¤´å®šä¹‰ Solidity çš„ç‰ˆæœ¬ <code>^0.4.19</code>.</li>
<li><code>import</code> è‡ª <code>zombiehelper.sol</code> .</li>
<li>å£°æ˜ä¸€ä¸ªæ–°çš„ <code>contract</code>ï¼Œå‘½åä¸º <code>ZombieBattle</code>ï¼Œ ç»§æ‰¿è‡ª<code>ZombieHelper</code>ã€‚å‡½æ•°ä½“å°±å…ˆç©ºç€å§ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">import "./zombiehelper.sol";</span><br><span class="line"></span><br><span class="line">contract ZombieBattle is ZombieHelper{</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬4ç« -éšæœºæ•°"><a href="#ç¬¬4ç« -éšæœºæ•°" class="headerlink" title="ç¬¬4ç« : éšæœºæ•°"></a>ç¬¬4ç« : éšæœºæ•°</h3><p>ä½ å¤ªæ£’äº†ï¼æ¥ä¸‹æ¥æˆ‘ä»¬æ¢³ç†ä¸€ä¸‹æˆ˜æ–—é€»è¾‘ã€‚</p>
<p>ä¼˜ç§€çš„æ¸¸æˆéƒ½éœ€è¦ä¸€äº›éšæœºå…ƒç´ ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨ Solidity é‡Œå¦‚ä½•ç”Ÿæˆéšæœºæ•°å‘¢ï¼Ÿ</p>
<p>çœŸæ­£çš„ç­”æ¡ˆæ˜¯ä½ ä¸èƒ½ï¼Œæˆ–è€…æœ€èµ·ç ï¼Œä½ æ— æ³•å®‰å…¨åœ°åšåˆ°è¿™ä¸€ç‚¹ã€‚</p>
<p>æˆ‘ä»¬æ¥çœ‹çœ‹ä¸ºä»€ä¹ˆ</p>
<p><strong>ç”¨ <code>keccak256</code> æ¥åˆ¶é€ éšæœºæ•°</strong></p>
<p>Solidity ä¸­æœ€å¥½çš„éšæœºæ•°ç”Ÿæˆå™¨æ˜¯ <code>keccak256</code> å“ˆå¸Œå‡½æ•°.</p>
<p>æˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥ç”Ÿæˆä¸€äº›éšæœºæ•°</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// ç”Ÿæˆä¸€ä¸ª0åˆ°100çš„éšæœºæ•°:</span><br><span class="line">uint randNonce = 0;</span><br><span class="line">uint random = uint(keccak256(now, msg.sender, randNonce)) % 100;</span><br><span class="line">randNonce++;</span><br><span class="line">uint random2 = uint(keccak256(now, msg.sender, randNonce)) % 100;</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ä¸ªæ–¹æ³•é¦–å…ˆæ‹¿åˆ° <code>now</code> çš„æ—¶é—´æˆ³ã€ <code>msg.sender</code>ã€ ä»¥åŠä¸€ä¸ªè‡ªå¢æ•° <code>nonce</code> ï¼ˆä¸€ä¸ªä»…ä¼šè¢«ä½¿ç”¨ä¸€æ¬¡çš„æ•°ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸ä¼šå¯¹ç›¸åŒçš„è¾“å…¥å€¼è°ƒç”¨ä¸€æ¬¡ä»¥ä¸Šå“ˆå¸Œå‡½æ•°äº†ï¼‰ã€‚</p>
<p>ç„¶ååˆ©ç”¨ <code>keccak</code> æŠŠè¾“å…¥çš„å€¼è½¬å˜ä¸ºä¸€ä¸ªå“ˆå¸Œå€¼, å†å°†å“ˆå¸Œå€¼è½¬æ¢ä¸º <code>uint</code>, ç„¶ååˆ©ç”¨ <code>% 100</code> æ¥å–æœ€åä¸¤ä½, å°±ç”Ÿæˆäº†ä¸€ä¸ª0åˆ°100ä¹‹é—´éšæœºæ•°äº†ã€‚</p>
<p><strong>è¿™ä¸ªæ–¹æ³•å¾ˆå®¹æ˜“è¢«ä¸è¯šå®çš„èŠ‚ç‚¹æ”»å‡»</strong></p>
<p>åœ¨ä»¥å¤ªåŠä¸Š, å½“ä½ åœ¨å’Œä¸€ä¸ªåˆçº¦ä¸Šè°ƒç”¨å‡½æ•°çš„æ—¶å€™, ä½ ä¼šæŠŠå®ƒå¹¿æ’­ç»™ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…åœ¨ç½‘ç»œä¸Šçš„ *<strong>transaction*</strong> èŠ‚ç‚¹ä»¬ã€‚ ç½‘ç»œä¸Šçš„èŠ‚ç‚¹å°†æ”¶é›†å¾ˆå¤šäº‹åŠ¡, è¯•ç€æˆä¸ºç¬¬ä¸€ä¸ªè§£å†³è®¡ç®—å¯†é›†å‹æ•°å­¦é—®é¢˜çš„äººï¼Œä½œä¸ºâ€œå·¥ä½œè¯æ˜â€ï¼Œç„¶åå°†â€œå·¥ä½œè¯æ˜â€(Proof of Work, PoW)å’Œäº‹åŠ¡ä¸€èµ·ä½œä¸ºä¸€ä¸ª *<strong>block*</strong> å‘å¸ƒåœ¨ç½‘ç»œä¸Šã€‚</p>
<p>ä¸€æ—¦ä¸€ä¸ªèŠ‚ç‚¹è§£å†³äº†ä¸€ä¸ªPoW, å…¶ä»–èŠ‚ç‚¹å°±ä¼šåœæ­¢å°è¯•è§£å†³è¿™ä¸ª PoW, å¹¶éªŒè¯å…¶ä»–èŠ‚ç‚¹çš„äº‹åŠ¡åˆ—è¡¨æ˜¯æœ‰æ•ˆçš„ï¼Œç„¶åæ¥å—è¿™ä¸ªèŠ‚ç‚¹è½¬è€Œå°è¯•è§£å†³ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p>
<p><strong>è¿™å°±è®©æˆ‘ä»¬çš„éšæœºæ•°å‡½æ•°å˜å¾—å¯åˆ©ç”¨äº†</strong></p>
<p>æˆ‘ä»¬å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç¡¬å¸ç¿»è½¬åˆçº¦â€”â€”æ­£é¢ä½ èµ¢åŒå€é’±ï¼Œåé¢ä½ è¾“æ‰æ‰€æœ‰çš„é’±ã€‚å‡å¦‚å®ƒä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•æ¥å†³å®šæ˜¯æ­£é¢è¿˜æ˜¯åé¢ (<code>random &gt;= 50</code> ç®—æ­£é¢, <code>random &lt; 50</code> ç®—åé¢)ã€‚</p>
<p>å¦‚æœæˆ‘æ­£è¿è¡Œä¸€ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘å¯ä»¥ <strong>åªå¯¹æˆ‘è‡ªå·±çš„èŠ‚ç‚¹</strong> å‘å¸ƒä¸€ä¸ªäº‹åŠ¡ï¼Œä¸”ä¸åˆ†äº«å®ƒã€‚ æˆ‘å¯ä»¥è¿è¡Œç¡¬å¸ç¿»è½¬æ–¹æ³•æ¥å·çª¥æˆ‘çš„è¾“èµ¢ â€” å¦‚æœæˆ‘è¾“äº†ï¼Œæˆ‘å°±ä¸æŠŠè¿™ä¸ªäº‹åŠ¡åŒ…å«è¿›æˆ‘è¦è§£å†³çš„ä¸‹ä¸€ä¸ªåŒºå—ä¸­å»ã€‚æˆ‘å¯ä»¥ä¸€ç›´è¿è¡Œè¿™ä¸ªæ–¹æ³•ï¼Œç›´åˆ°æˆ‘èµ¢å¾—äº†ç¡¬å¸ç¿»è½¬å¹¶è§£å†³äº†ä¸‹ä¸€ä¸ªåŒºå—ï¼Œç„¶åè·åˆ©ã€‚</p>
<p><strong>æ‰€ä»¥æˆ‘ä»¬è¯¥å¦‚ä½•åœ¨ä»¥å¤ªåŠä¸Šå®‰å…¨åœ°ç”Ÿæˆéšæœºæ•°å‘¢</strong></p>
<p>å› ä¸ºåŒºå—é“¾çš„å…¨éƒ¨å†…å®¹å¯¹æ‰€æœ‰å‚ä¸è€…æ¥è¯´æ˜¯é€æ˜çš„ï¼Œ è¿™å°±è®©è¿™ä¸ªé—®é¢˜å˜å¾—å¾ˆéš¾ï¼Œå®ƒçš„è§£å†³æ–¹æ³•ä¸åœ¨æœ¬è¯¾ç¨‹è®¨è®ºèŒƒå›´ï¼Œä½ å¯ä»¥é˜…è¯» <a target="_blank" rel="noopener" href="https://ethereum.stackexchange.com/questions/191/how-can-i-securely-generate-a-random-number-in-my-smart-contract">è¿™ä¸ª StackOverflow ä¸Šçš„è®¨è®º</a> æ¥è·å¾—ä¸€äº›ä¸»æ„ã€‚ ä¸€ä¸ªæ–¹æ³•æ˜¯åˆ©ç”¨ *<strong>oracle*</strong> æ¥è®¿é—®ä»¥å¤ªåŠåŒºå—é“¾ä¹‹å¤–çš„éšæœºæ•°å‡½æ•°ã€‚</p>
<p>å½“ç„¶ï¼Œ å› ä¸ºç½‘ç»œä¸Šæˆåƒä¸Šä¸‡çš„ä»¥å¤ªåŠèŠ‚ç‚¹éƒ½åœ¨ç«äº‰è§£å†³ä¸‹ä¸€ä¸ªåŒºå—ï¼Œæˆ‘èƒ½æˆåŠŸè§£å†³ä¸‹ä¸€ä¸ªåŒºå—çš„å‡ ç‡éå¸¸ä¹‹ä½ã€‚ è¿™å°†èŠ±è´¹æˆ‘ä»¬å·¨å¤§çš„è®¡ç®—èµ„æºæ¥å¼€å‘è¿™ä¸ªè·åˆ©æ–¹æ³• â€” ä½†æ˜¯å¦‚æœå¥–åŠ±å¼‚å¸¸åœ°é«˜(æ¯”å¦‚æˆ‘å¯ä»¥åœ¨ç¡¬å¸ç¿»è½¬å‡½æ•°ä¸­èµ¢å¾— 1ä¸ªäº¿)ï¼Œ é‚£å°±å¾ˆå€¼å¾—å»æ”»å‡»äº†ã€‚</p>
<p>æ‰€ä»¥å°½ç®¡è¿™ä¸ªæ–¹æ³•åœ¨ä»¥å¤ªåŠä¸Šä¸å®‰å…¨ï¼Œåœ¨å®é™…ä¸­ï¼Œé™¤éæˆ‘ä»¬çš„éšæœºå‡½æ•°æœ‰ä¸€å¤§ç¬”é’±åœ¨ä¸Šé¢ï¼Œä½ æ¸¸æˆçš„ç”¨æˆ·ä¸€èˆ¬æ˜¯æ²¡æœ‰è¶³å¤Ÿçš„èµ„æºå»æ”»å‡»çš„ã€‚</p>
<p>å› ä¸ºåœ¨è¿™ä¸ªæ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬åªæ˜¯åœ¨ç¼–å†™ä¸€ä¸ªç®€å•çš„æ¸¸æˆæ¥åšæ¼”ç¤ºï¼Œä¹Ÿæ²¡æœ‰çœŸæ­£çš„é’±åœ¨é‡Œé¢ï¼Œæ‰€ä»¥æˆ‘ä»¬å†³å®šæ¥å—è¿™ä¸ªä¸è¶³ä¹‹å¤„ï¼Œä½¿ç”¨è¿™ä¸ªç®€å•çš„éšæœºæ•°ç”Ÿæˆå‡½æ•°ã€‚ä½†æ˜¯è¦è°¨è®°å®ƒæ˜¯ä¸å®‰å…¨çš„ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªéšæœºæ•°ç”Ÿæˆå‡½æ•°ï¼Œå¥½æ¥è®¡ç®—æˆ˜æ–—çš„ç»“æœã€‚è™½ç„¶è¿™ä¸ªå‡½æ•°ä¸€ç‚¹å„¿ä¹Ÿä¸å®‰å…¨ã€‚</p>
<ol>
<li>ç»™æˆ‘ä»¬åˆçº¦ä¸€ä¸ªåä¸º <code>randNonce</code> çš„ <code>uint</code>ï¼Œå°†å…¶å€¼è®¾ç½®ä¸º <code>0</code>ã€‚</li>
<li>å»ºç«‹ä¸€ä¸ªå‡½æ•°ï¼Œå‘½åä¸º <code>randMod</code> (random-modulus)ã€‚å®ƒå°†ä½œä¸º<code>internal</code> å‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ªåä¸º <code>_modulus</code>çš„ <code>uint</code>ï¼Œå¹¶ <code>returns</code> ä¸€ä¸ª <code>uint</code>ã€‚</li>
<li>è¿™ä¸ªå‡½æ•°é¦–å…ˆå°†ä¸º <code>randNonce</code>åŠ ä¸€ï¼Œ (ä½¿ç”¨ <code>randNonce++</code> è¯­å¥)ã€‚</li>
<li>æœ€åï¼Œå®ƒåº”è¯¥ (åœ¨ä¸€è¡Œä»£ç ä¸­) è®¡ç®— <code>now</code>, <code>msg.sender</code>, ä»¥åŠ <code>randNonce</code> çš„ <code>keccak256</code> å“ˆå¸Œå€¼å¹¶è½¬æ¢ä¸º <code>uint</code>â€”â€” æœ€å <code>return</code> <code>% _modulus</code> çš„å€¼ã€‚ ï¼ˆå¤©! å¬èµ·æ¥å¤ªæ‹—å£äº†ã€‚å¦‚æœä½ æœ‰ç‚¹ç†è§£ä¸è¿‡æ¥ï¼Œçœ‹ä¸€ä¸‹æˆ‘ä»¬ä¸Šé¢è®¡ç®—éšæœºæ•°çš„ä¾‹å­ï¼Œå®ƒä»¬çš„é€»è¾‘éå¸¸ç›¸ä¼¼ï¼‰</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">contract ZombieBattle is ZombieHelper {</span><br><span class="line">  // åœ¨è¿™é‡Œå¼€å§‹</span><br><span class="line">  uint randNonce = 0;</span><br><span class="line"></span><br><span class="line">  function randMod(uint _modulus) internal returns(uint){</span><br><span class="line">    randNonce++;</span><br><span class="line">    return uint(keccak256(now, msg.sender, randNonce)) % _modulus;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬5ç« -åƒµå°¸å¯¹æˆ˜"><a href="#ç¬¬5ç« -åƒµå°¸å¯¹æˆ˜" class="headerlink" title="ç¬¬5ç« : åƒµå°¸å¯¹æˆ˜"></a>ç¬¬5ç« : åƒµå°¸å¯¹æˆ˜</h3><p>æˆ‘ä»¬çš„åˆçº¦å·²ç»æœ‰äº†ä¸€äº›éšæœºæ€§çš„æ¥æºï¼Œå¯ä»¥ç”¨è¿›æˆ‘ä»¬çš„åƒµå°¸æˆ˜æ–—ä¸­å»è®¡ç®—ç»“æœã€‚</p>
<p>æˆ‘ä»¬çš„åƒµå°¸æˆ˜æ–—çœ‹èµ·æ¥å°†æ˜¯è¿™ä¸ªæµç¨‹ï¼š</p>
<ul>
<li>ä½ é€‰æ‹©ä¸€ä¸ªè‡ªå·±çš„åƒµå°¸ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªå¯¹æ‰‹çš„åƒµå°¸å»æ”»å‡»ã€‚</li>
<li>å¦‚æœä½ æ˜¯æ”»å‡»æ–¹ï¼Œä½ å°†æœ‰70%çš„å‡ ç‡è·èƒœï¼Œé˜²å®ˆæ–¹å°†æœ‰30%çš„å‡ ç‡è·èƒœã€‚</li>
<li>æ‰€æœ‰çš„åƒµå°¸ï¼ˆæ”»å®ˆåŒæ–¹ï¼‰éƒ½å°†æœ‰ä¸€ä¸ª <code>winCount</code> å’Œä¸€ä¸ª <code>lossCount</code>ï¼Œè¿™ä¸¤ä¸ªå€¼éƒ½å°†æ ¹æ®æˆ˜æ–—ç»“æœå¢é•¿ã€‚</li>
<li>è‹¥æ”»å‡»æ–¹è·èƒœï¼Œè¿™ä¸ªåƒµå°¸å°†å‡çº§å¹¶äº§ç”Ÿä¸€ä¸ªæ–°åƒµå°¸ã€‚</li>
<li>å¦‚æœæ”»å‡»æ–¹å¤±è´¥ï¼Œé™¤äº†å¤±è´¥æ¬¡æ•°å°†åŠ ä¸€å¤–ï¼Œä»€ä¹ˆéƒ½ä¸ä¼šå‘ç”Ÿã€‚</li>
<li>æ— è®ºè¾“èµ¢ï¼Œå½“å‰åƒµå°¸çš„å†·å´æ—¶é—´éƒ½å°†è¢«æ¿€æ´»ã€‚</li>
</ul>
<p>è¿™æœ‰ä¸€å¤§å †çš„é€»è¾‘éœ€è¦å¤„ç†ï¼Œæˆ‘ä»¬å°†æŠŠè¿™äº›æ­¥éª¤åˆ†è§£åˆ°æ¥ä¸‹æ¥çš„è¯¾ç¨‹ä¸­å»ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li>ç»™æˆ‘ä»¬åˆçº¦ä¸€ä¸ª <code>uint</code> ç±»å‹çš„å˜é‡ï¼Œå‘½åä¸º <code>attackVictoryProbability</code>, å°†å…¶å€¼è®¾å®šä¸º <code>70</code>ã€‚</li>
<li>åˆ›å»ºä¸€ä¸ªåä¸º <code>attack</code>çš„å‡½æ•°ã€‚å®ƒå°†ä¼ å…¥ä¸¤ä¸ªå‚æ•°: <code>_zombieId</code> (<code>uint</code> ç±»å‹) ä»¥åŠ <code>_targetId</code> (ä¹Ÿæ˜¯ <code>uint</code>)ã€‚å®ƒå°†æ˜¯ä¸€ä¸ª <code>external</code> å‡½æ•°ã€‚</li>
</ol>
<p>å‡½æ•°ä½“å…ˆç•™ç©ºå§ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// åœ¨è¿™é‡Œåˆ›å»º attackVictoryProbability</span><br><span class="line">  uint attackVictoryProbability = 70;</span><br><span class="line">  function attack(uint _zombieId, uint _targetId) external{</span><br><span class="line">    </span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬6ç« -é‡æ„é€šç”¨é€»è¾‘"><a href="#ç¬¬6ç« -é‡æ„é€šç”¨é€»è¾‘" class="headerlink" title="ç¬¬6ç« : é‡æ„é€šç”¨é€»è¾‘"></a>ç¬¬6ç« : é‡æ„é€šç”¨é€»è¾‘</h3><p>ä¸ç®¡è°è°ƒç”¨æˆ‘ä»¬çš„ <code>attack</code> å‡½æ•° â€”â€” æˆ‘ä»¬æƒ³ç¡®ä¿ç”¨æˆ·çš„ç¡®æ‹¥æœ‰ä»–ä»¬ç”¨æ¥æ”»å‡»çš„åƒµå°¸ã€‚å¦‚æœä½ èƒ½ç”¨å…¶ä»–äººçš„åƒµå°¸æ¥æ”»å‡»å°†æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„å®‰å…¨é—®é¢˜ã€‚</p>
<p>ä½ èƒ½æƒ³ä¸€ä¸‹æˆ‘ä»¬å¦‚ä½•æ·»åŠ ä¸€ä¸ªæ£€æŸ¥æ­¥éª¤æ¥çœ‹çœ‹è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„äººå°±æ˜¯ä»–ä»¬ä¼ å…¥çš„ <code>_zombieId</code> çš„æ‹¥æœ‰è€…ä¹ˆï¼Ÿ</p>
<p>æƒ³ä¸€æƒ³ï¼Œçœ‹çœ‹ä½ èƒ½ä¸èƒ½è‡ªå·±æ‰¾åˆ°ä¸€äº›ç­”æ¡ˆã€‚</p>
<p>èŠ±ç‚¹æ—¶é—´â€¦â€¦ å‚è€ƒæˆ‘ä»¬å‰é¢è¯¾ç¨‹çš„ä»£ç æ¥è·å¾—çµæ„Ÿã€‚</p>
<p>ç­”æ¡ˆåœ¨ä¸‹é¢ï¼Œåœ¨ä½ æœ‰ä¸€äº›æƒ³æ³•ä¹‹å‰ä¸è¦ç»§ç»­é˜…è¯»ã€‚</p>
<p><strong>ç­”æ¡ˆ</strong></p>
<p>æˆ‘ä»¬åœ¨å‰é¢çš„è¯¾ç¨‹é‡Œé¢å·²ç»åšè¿‡å¾ˆå¤šæ¬¡è¿™æ ·çš„æ£€æŸ¥äº†ã€‚ åœ¨ <code>changeName()</code>, <code>changeDna()</code>, å’Œ <code>feedAndMultiply()</code>é‡Œï¼Œæˆ‘ä»¬åšè¿‡è¿™æ ·çš„æ£€æŸ¥ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">require(msg.sender == zombieToOwner[_zombieId]);</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™å’Œæˆ‘ä»¬ <code>attack</code> å‡½æ•°å°†è¦ç”¨åˆ°çš„æ£€æŸ¥é€»è¾‘æ˜¯ç›¸åŒçš„ã€‚ æ­£å› æˆ‘ä»¬è¦å¤šæ¬¡è°ƒç”¨è¿™ä¸ªæ£€æŸ¥é€»è¾‘ï¼Œè®©æˆ‘ä»¬æŠŠå®ƒç§»åˆ°å®ƒè‡ªå·±çš„ <code>modifier</code> ä¸­æ¥æ¸…ç†ä»£ç å¹¶é¿å…é‡å¤ç¼–ç ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬å›åˆ°äº† <code>zombiefeeding.sol</code>ï¼Œ å› ä¸ºè¿™æ˜¯æˆ‘ä»¬ç¬¬ä¸€æ¬¡è°ƒç”¨æ£€æŸ¥é€»è¾‘çš„åœ°æ–¹ã€‚è®©æˆ‘ä»¬æŠŠå®ƒé‡æ„è¿›å®ƒè‡ªå·±çš„ <code>modifier</code>ã€‚</p>
<ol>
<li><p>åˆ›å»ºä¸€ä¸ª <code>modifier</code>ï¼Œ å‘½åä¸º <code>ownerOf</code>ã€‚å®ƒå°†ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œ <code>_zombieId</code> (ä¸€ä¸ª <code>uint</code>)ã€‚</p>
<p> å®ƒçš„å‡½æ•°ä½“åº”è¯¥ <code>require</code> <code>msg.sender</code> ç­‰äº <code>zombieToOwner[_zombieId]</code>ï¼Œ ç„¶åç»§ç»­è¿™ä¸ªå‡½æ•°å‰©ä¸‹çš„å†…å®¹ã€‚ å¦‚æœä½ å¿˜è®°äº†ä¿®é¥°ç¬¦çš„å†™æ³•ï¼Œå¯ä»¥å‚è€ƒ <code>zombiehelper.sol</code>ã€‚</p>
</li>
<li><p>å°†è¿™ä¸ªå‡½æ•°çš„ <code>feedAndMultiply</code> å®šä¹‰ä¿®æ”¹ä¸ºå…¶ä½¿ç”¨ä¿®é¥°ç¬¦ <code>ownerOf</code>ã€‚</p>
</li>
<li><p>ç°åœ¨æˆ‘ä»¬ä½¿ç”¨ <code>modifier</code>äº†ï¼Œä½ å¯ä»¥åˆ é™¤è¿™è¡Œäº†ï¼š <code>require(msg.sender == zombieToOwner[_zombieId]);</code></p>
</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// 1. åœ¨è¿™é‡Œåˆ›å»º modifier</span><br><span class="line">  modifier ownerOf(uint _zombieId){</span><br><span class="line">    require(msg.sender == zombieToOwner[_zombieId]);</span><br><span class="line">    _;</span><br><span class="line">  }</span><br><span class="line">  </span><br><span class="line">  // 2. åœ¨å‡½æ•°å®šä¹‰æ—¶å¢åŠ  modifier :</span><br><span class="line">  function feedAndMultiply(uint _zombieId, uint _targetDna, string _species) internal ownerOf(_zombieId){</span><br><span class="line">    // 3. ç§»é™¤è¿™ä¸€è¡Œ</span><br><span class="line">    //require(msg.sender == zombieToOwner[_zombieId]);</span><br><span class="line">    Zombie storage myZombie = zombies[_zombieId];</span><br><span class="line">    require(_isReady(myZombie));</span><br><span class="line">    _targetDna = _targetDna % dnaModulus;</span><br><span class="line">    uint newDna = (myZombie.dna + _targetDna) / 2;</span><br><span class="line">    if (keccak256(_species) == keccak256("kitty")) {</span><br><span class="line">      newDna = newDna - newDna % 100 + 99;</span><br><span class="line">    }</span><br><span class="line">    _createZombie("NoName", newDna);</span><br><span class="line">    _triggerCooldown(myZombie);</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬7ç« -æ›´å¤šé‡æ„"><a href="#ç¬¬7ç« -æ›´å¤šé‡æ„" class="headerlink" title="ç¬¬7ç« : æ›´å¤šé‡æ„"></a>ç¬¬7ç« : æ›´å¤šé‡æ„</h3><p>åœ¨ <code>zombiehelper.sol</code>é‡Œæœ‰å‡ å¤„åœ°æ–¹ï¼Œéœ€è¦æˆ‘ä»¬å®ç°æˆ‘ä»¬æ–°çš„ <code>modifier</code>â€”â€” <code>ownerOf</code>ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li>ä¿®æ”¹ <code>changeName()</code> ä½¿å…¶ä½¿ç”¨ <code>ownerOf</code></li>
<li>ä¿®æ”¹ <code>changeDna()</code> ä½¿å…¶ä½¿ç”¨ <code>ownerOf</code></li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 1. ä½¿ç”¨ `ownerOf` ä¿®æ”¹è¿™ä¸ªå‡½æ•°:</span><br><span class="line">  function changeName(uint _zombieId, string _newName) external aboveLevel(2, _zombieId) ownerOf(_zombieId){</span><br><span class="line">    //require(msg.sender == zombieToOwner[_zombieId]);</span><br><span class="line">    zombies[_zombieId].name = _newName;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  // 2. å¯¹è¿™ä¸ªå‡½æ•°åšåŒæ ·çš„äº‹:</span><br><span class="line">  function changeDna(uint _zombieId, uint _newDna) external aboveLevel(20, _zombieId) ownerOf(_zombieId){</span><br><span class="line">    //require(msg.sender == zombieToOwner[_zombieId]);</span><br><span class="line">    zombies[_zombieId].dna = _newDna;</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬8ç« -å›åˆ°æ”»å‡»ï¼"><a href="#ç¬¬8ç« -å›åˆ°æ”»å‡»ï¼" class="headerlink" title="ç¬¬8ç« : å›åˆ°æ”»å‡»ï¼"></a>ç¬¬8ç« : å›åˆ°æ”»å‡»ï¼</h3><p>é‡æ„å®Œæˆäº†ï¼Œå›åˆ° <code>zombieattack.sol</code>ã€‚</p>
<p>ç»§ç»­æ¥å®Œå–„æˆ‘ä»¬çš„ <code>attack</code> å‡½æ•°ï¼Œ ç°åœ¨æˆ‘ä»¬æœ‰äº† <code>ownerOf</code> ä¿®é¥°ç¬¦æ¥ç”¨äº†ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li><p>å°† <code>ownerOf</code> ä¿®é¥°ç¬¦æ·»åŠ åˆ° <code>attack</code> æ¥ç¡®ä¿è°ƒç”¨è€…æ‹¥æœ‰<code>_zombieId</code>.</p>
</li>
<li><p>æˆ‘ä»¬çš„å‡½æ•°æ‰€éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯è·å¾—ä¸€ä¸ªåŒæ–¹åƒµå°¸çš„ <code>storage</code> æŒ‡é’ˆï¼Œ è¿™æ ·æˆ‘ä»¬æ‰èƒ½å¾ˆæ–¹ä¾¿å’Œå®ƒä»¬äº¤äº’ï¼š</p>
<p> a. å®šä¹‰ä¸€ä¸ª <code>Zombie storage</code> å‘½åä¸º <code>myZombie</code>ï¼Œä½¿å…¶å€¼ç­‰äº <code>zombies[_zombieId]</code>ã€‚</p>
<p> b. å®šä¹‰ä¸€ä¸ª <code>Zombie storage</code> å‘½åä¸º <code>enemyZombie</code>ï¼Œ ä½¿å…¶å€¼ç­‰äº <code>zombies[_targetId]</code>ã€‚</p>
</li>
<li><p>æˆ‘ä»¬å°†ç”¨ä¸€ä¸ª0åˆ°100çš„éšæœºæ•°æ¥ç¡®å®šæˆ‘ä»¬çš„æˆ˜æ–—ç»“æœã€‚ å®šä¹‰ä¸€ä¸ª <code>uint</code>ï¼Œå‘½åä¸º <code>rand</code>ï¼Œ è®¾å®šå…¶å€¼ç­‰äº <code>randMod</code> å‡½æ•°çš„è¿”å›å€¼ï¼Œæ­¤å‡½æ•°ä¼ å…¥ <code>100</code>ä½œä¸ºå‚æ•°ã€‚</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 1. åœ¨è¿™é‡Œå¢åŠ  modifier</span><br><span class="line">  function attack(uint _zombieId, uint _targetId) external ownerOf(_zombieId){</span><br><span class="line">    // 2. åœ¨è¿™é‡Œå¼€å§‹å®šä¹‰å‡½æ•°</span><br><span class="line">    Zombie storage myZombie = zombies[_zombieId];</span><br><span class="line">    Zombie storage enemyZombie = zombies[_targetId];</span><br><span class="line">    uint rand = randMod(100);</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬9ç« -åƒµå°¸çš„è¾“èµ¢"><a href="#ç¬¬9ç« -åƒµå°¸çš„è¾“èµ¢" class="headerlink" title="ç¬¬9ç« : åƒµå°¸çš„è¾“èµ¢"></a>ç¬¬9ç« : åƒµå°¸çš„è¾“èµ¢</h3><p>å¯¹æˆ‘ä»¬çš„åƒµå°¸æ¸¸æˆæ¥è¯´ï¼Œæˆ‘ä»¬å°†è¦è¿½è¸ªæˆ‘ä»¬çš„åƒµå°¸è¾“èµ¢äº†å¤šå°‘åœºã€‚æœ‰äº†è¿™ä¸ªæˆ‘ä»¬å¯ä»¥åœ¨æ¸¸æˆé‡Œç»´æŠ¤ä¸€ä¸ª â€œåƒµå°¸æ’è¡Œæ¦œâ€ã€‚</p>
<p>æœ‰å¤šç§æ–¹æ³•åœ¨æˆ‘ä»¬çš„DAppé‡Œé¢ä¿å­˜ä¸€ä¸ªæ•°å€¼ â€” ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„æ˜ å°„ï¼Œä½œä¸ºä¸€ä¸ªâ€œæ’è¡Œæ¦œâ€ç»“æ„ä½“ï¼Œæˆ–è€…ä¿å­˜åœ¨ <code>Zombie</code> ç»“æ„ä½“å†…ã€‚</p>
<p>æ¯ä¸ªæ–¹æ³•éƒ½æœ‰å…¶ä¼˜ç¼ºç‚¹ï¼Œå–å†³äºæˆ‘ä»¬æ‰“ç®—å¦‚ä½•å’Œè¿™äº›æ•°æ®æ‰“äº¤é“ã€‚åœ¨è¿™ä¸ªæ•™ç¨‹ä¸­ï¼Œç®€å•èµ·è§æˆ‘ä»¬å°†è¿™ä¸ªçŠ¶æ€ä¿å­˜åœ¨ <code>Zombie</code> ç»“æ„ä½“ä¸­ï¼Œå°†å…¶å‘½åä¸º <code>winCount</code> å’Œ <code>lossCount</code>ã€‚</p>
<p>æˆ‘ä»¬è·³å› <code>zombiefactory.sol</code>, å°†è¿™äº›å±æ€§æ·»åŠ è¿› <code>Zombie</code> ç»“æ„ä½“.</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li><p>ä¿®æ”¹ <code>Zombie</code> ç»“æ„ä½“ï¼Œæ·»åŠ ä¸¤ä¸ªå±æ€§:</p>
<p> a. <code>winCount</code>, ä¸€ä¸ª <code>uint16</code></p>
<p> b. <code>lossCount</code>, ä¹Ÿæ˜¯ä¸€ä¸ª <code>uint16</code></p>
<blockquote>
<p>æ³¨æ„ï¼š è®°ä½, å› ä¸ºæˆ‘ä»¬èƒ½åœ¨ç»“æ„ä½“ä¸­åŒ…è£…<code>uint</code>, æˆ‘ä»¬æ‰“ç®—ç”¨é€‚åˆæˆ‘ä»¬çš„æœ€å°çš„ <code>uint</code>ã€‚ ä¸€ä¸ª <code>uint8</code> å¤ªå°äº†ï¼Œ å› ä¸º 2^8 = 256 â€”â€” å¦‚æœæˆ‘ä»¬çš„åƒµå°¸æ¯å¤©éƒ½ä½œæˆ˜ï¼Œä¸åˆ°ä¸€å¹´å°±æº¢å‡ºäº†ã€‚ä½†æ˜¯ 2^16 = 65536 ï¼ˆ<code>uint16</code>ï¼‰â€”â€” é™¤éä¸€ä¸ªåƒµå°¸è¿ç»­179å¹´æ¯å¤©ä½œæˆ˜ï¼Œå¦åˆ™æˆ‘ä»¬å°±æ˜¯å®‰å…¨çš„ã€‚</p>
</blockquote>
</li>
<li><p>ç°åœ¨æˆ‘ä»¬çš„ <code>Zombie</code> ç»“æ„ä½“æœ‰äº†æ–°çš„å±æ€§ï¼Œ æˆ‘ä»¬éœ€è¦ä¿®æ”¹ <code>_createZombie()</code> ä¸­çš„å‡½æ•°å®šä¹‰ã€‚</p>
<p> ä¿®æ”¹åƒµå°¸ç”Ÿæˆå®šä¹‰ï¼Œè®©æ¯ä¸ªæ–°åƒµå°¸éƒ½æœ‰ <code>0</code> èµ¢å’Œ <code>0</code> è¾“ã€‚</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">struct Zombie {</span><br><span class="line">      string name;</span><br><span class="line">      uint dna;</span><br><span class="line">      uint32 level;</span><br><span class="line">      uint32 readyTime;</span><br><span class="line">      // 1. åœ¨è¿™é‡Œæ·»åŠ æ–°çš„å±æ€§</span><br><span class="line">      uint16 winCount;</span><br><span class="line">      uint16 lossCount;</span><br><span class="line">    }</span><br><span class="line">function _createZombie(string _name, uint _dna) internal {</span><br><span class="line">        // 2. åœ¨è¿™é‡Œä¿®æ”¹ä¿®æ”¹æ–°åƒµå°¸çš„åˆ›å»º:</span><br><span class="line">        uint id = zombies.push(Zombie(_name, _dna, 1, uint32(now + cooldownTime),0,0)) - 1;</span><br><span class="line">        zombieToOwner[id] = msg.sender;</span><br><span class="line">        ownerZombieCount[msg.sender]++;</span><br><span class="line">        NewZombie(id, _name, _dna);</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬10ç« -åƒµå°¸èƒœåˆ©äº†-ğŸ˜„"><a href="#ç¬¬10ç« -åƒµå°¸èƒœåˆ©äº†-ğŸ˜„" class="headerlink" title="ç¬¬10ç« : åƒµå°¸èƒœåˆ©äº† ğŸ˜„"></a>ç¬¬10ç« : åƒµå°¸èƒœåˆ©äº† ğŸ˜„</h3><p>æœ‰äº† <code>winCount</code> å’Œ <code>lossCount</code>ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®åƒµå°¸å“ªä¸ªåƒµå°¸èµ¢äº†æˆ˜æ–—æ¥æ›´æ–°å®ƒä»¬äº†ã€‚</p>
<p>åœ¨ç¬¬å…­ç« æˆ‘ä»¬è®¡ç®—å‡ºæ¥ä¸€ä¸ª0åˆ°100çš„éšæœºæ•°ã€‚ç°åœ¨è®©æˆ‘ä»¬ç”¨é‚£ä¸ªæ•°æ¥å†³å®šé‚£è°èµ¢äº†æˆ˜æ–—ï¼Œå¹¶ä»¥æ­¤æ›´æ–°æˆ‘ä»¬çš„çŠ¶æ€ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li><p>åˆ›å»ºä¸€ä¸ª <code>if</code> è¯­å¥æ¥æ£€æŸ¥ <code>rand</code> æ˜¯ä¸æ˜¯ *<strong>å°äºæˆ–è€…ç­‰äº*</strong> <code>attackVictoryProbability</code>ã€‚</p>
</li>
<li><p>å¦‚æœä»¥ä¸Šæ¡ä»¶ä¸º <code>true</code>ï¼Œ æˆ‘ä»¬çš„åƒµå°¸å°±èµ¢äº†ï¼æ‰€ä»¥ï¼š</p>
<p> a. å¢åŠ  <code>myZombie</code> çš„ <code>winCount</code>ã€‚</p>
<p> b. å¢åŠ  <code>myZombie</code> çš„ <code>level</code>ã€‚ (å‡çº§äº†å•¦!!!!!!!)</p>
<p> c. å¢åŠ  <code>enemyZombie</code> çš„ <code>lossCount</code>. (è¾“å®¶!!!!!! ğŸ˜« ğŸ˜« ğŸ˜«)</p>
<p> d. è¿è¡Œ <code>feedAndMultiply</code> å‡½æ•°ã€‚ åœ¨ <code>zombiefeeding.sol</code> é‡ŒæŸ¥çœ‹è°ƒç”¨å®ƒçš„è¯­å¥ã€‚ å¯¹äºç¬¬ä¸‰ä¸ªå‚æ•° (<code>_species</code>)ï¼Œä¼ å…¥å­—ç¬¦ä¸² â€œzombieâ€. ï¼ˆç°åœ¨å®ƒå®é™…ä¸Šä»€ä¹ˆéƒ½ä¸åšï¼Œä¸è¿‡åœ¨ç¨åï¼Œ å¦‚æœæˆ‘ä»¬æ„¿æ„ï¼Œå¯ä»¥æ·»åŠ é¢å¤–çš„æ–¹æ³•ï¼Œç”¨æ¥åˆ¶é€ åƒµå°¸å˜çš„åƒµå°¸ï¼‰ã€‚</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function attack(uint _zombieId, uint _targetId) external ownerOf(_zombieId) {</span><br><span class="line">    Zombie storage myZombie = zombies[_zombieId];</span><br><span class="line">    Zombie storage enemyZombie = zombies[_targetId];</span><br><span class="line">    uint rand = randMod(100);</span><br><span class="line">    // åœ¨è¿™é‡Œå¼€å§‹</span><br><span class="line">    if(rand &lt;= attackVictoryProbability){</span><br><span class="line">      myZombie.winCount++;</span><br><span class="line">      myZombie.level++;</span><br><span class="line">      enemyZombie.lossCount++;</span><br><span class="line">      feedAndMultiply(_zombieId, enemyZombie.dna, "zombie");</span><br><span class="line">    }</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬11ç« -åƒµå°¸å¤±è´¥-ğŸ˜"><a href="#ç¬¬11ç« -åƒµå°¸å¤±è´¥-ğŸ˜" class="headerlink" title="ç¬¬11ç« : åƒµå°¸å¤±è´¥ ğŸ˜"></a>ç¬¬11ç« : åƒµå°¸å¤±è´¥ ğŸ˜</h3><p>æˆ‘ä»¬å·²ç»ç¼–å†™äº†ä½ çš„åƒµå°¸èµ¢äº†ä¹‹åä¼šå‘ç”Ÿä»€ä¹ˆï¼Œ è¯¥çœ‹çœ‹ <strong>è¾“äº†</strong> çš„æ—¶å€™è¦æ€ä¹ˆåšäº†ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„æ¸¸æˆä¸­ï¼Œåƒµå°¸è¾“äº†åå¹¶ä¸ä¼šé™çº§ â€”â€” åªæ˜¯ç®€å•åœ°ç»™ <code>lossCount</code> åŠ ä¸€ï¼Œå¹¶è§¦å‘å†·å´ï¼Œç­‰å¾…ä¸€å¤©åæ‰èƒ½å†æ¬¡å‚æˆ˜ã€‚</p>
<p>è¦å®ç°è¿™ä¸ªé€»è¾‘ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª <code>else</code> è¯­å¥ã€‚</p>
<p><code>else</code> è¯­å¥å’Œ JavaScript ä»¥åŠå¾ˆå¤šå…¶ä»–è¯­è¨€çš„ else è¯­å¥ä¸€æ ·ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if (zombieCoins[msg.sender] &gt; 100000000) {</span><br><span class="line">  // ä½ å¥½æœ‰é’±!!!</span><br><span class="line">} else {</span><br><span class="line">  // æˆ‘ä»¬éœ€è¦æ›´å¤šçš„åƒµå°¸å¸...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li><p>æ·»åŠ ä¸€ä¸ª <code>else</code> è¯­å¥ã€‚ è‹¥æˆ‘ä»¬çš„åƒµå°¸è¾“äº†ï¼š</p>
<p> a. å¢åŠ  <code>myZombie</code> çš„ <code>lossCount</code>ã€‚</p>
<p> b. å¢åŠ  <code>enemyZombie</code> çš„ <code>winCount</code>ã€‚</p>
</li>
<li><p>åœ¨ <code>else</code> æœ€åï¼Œ å¯¹ <code>myZombie</code> è¿è¡Œ <code>_triggerCooldown</code> æ–¹æ³•ã€‚è¿™è®©æ¯ä¸ªåƒµå°¸æ¯å¤©åªèƒ½å‚æˆ˜ä¸€æ¬¡ã€‚</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function attack(uint _zombieId, uint _targetId) external ownerOf(_zombieId) {</span><br><span class="line">    Zombie storage myZombie = zombies[_zombieId];</span><br><span class="line">    Zombie storage enemyZombie = zombies[_targetId];</span><br><span class="line">    uint rand = randMod(100);</span><br><span class="line">    if (rand &lt;= attackVictoryProbability) {</span><br><span class="line">      myZombie.winCount++;</span><br><span class="line">      myZombie.level++;</span><br><span class="line">      enemyZombie.lossCount++;</span><br><span class="line">      feedAndMultiply(_zombieId, enemyZombie.dna, "zombie");</span><br><span class="line">    } // åœ¨è¿™é‡Œå¼€å§‹</span><br><span class="line">    else{</span><br><span class="line">      myZombie.lossCount++;</span><br><span class="line">      enemyZombie.winCount++;</span><br><span class="line">      _triggerCooldown(myZombie);</span><br><span class="line">    }</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h2 id="lesson5-ERC721-æ ‡å‡†å’ŒåŠ å¯†æ”¶è—å“"><a href="#lesson5-ERC721-æ ‡å‡†å’ŒåŠ å¯†æ”¶è—å“" class="headerlink" title="lesson5 ERC721 æ ‡å‡†å’ŒåŠ å¯†æ”¶è—å“"></a>lesson5 ERC721 æ ‡å‡†å’ŒåŠ å¯†æ”¶è—å“</h2><h3 id="ç¬¬1ç« -ä»¥å¤ªåŠä¸Šçš„ä»£å¸"><a href="#ç¬¬1ç« -ä»¥å¤ªåŠä¸Šçš„ä»£å¸" class="headerlink" title="ç¬¬1ç« : ä»¥å¤ªåŠä¸Šçš„ä»£å¸"></a>ç¬¬1ç« : ä»¥å¤ªåŠä¸Šçš„ä»£å¸</h3><p>è®©æˆ‘ä»¬æ¥èŠèŠ <strong>ä»£å¸</strong>.</p>
<p>å¦‚æœä½ å¯¹ä»¥å¤ªåŠçš„ä¸–ç•Œæœ‰ä¸€äº›äº†è§£ï¼Œä½ å¾ˆå¯èƒ½å¬è¿‡äººä»¬èŠåˆ°ä»£å¸â€”â€”å°¤å…¶æ˜¯ *<strong>ERC20 ä»£å¸*</strong>.</p>
<p>ä¸€ä¸ª <strong><em>ä»£å¸</em></strong> åœ¨ä»¥å¤ªåŠåŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªéµå¾ªä¸€äº›å…±åŒè§„åˆ™çš„æ™ºèƒ½åˆçº¦â€”â€”å³å®ƒå®ç°äº†æ‰€æœ‰å…¶ä»–ä»£å¸åˆçº¦å…±äº«çš„ä¸€ç»„æ ‡å‡†å‡½æ•°ï¼Œä¾‹å¦‚ <code>transfer(address _to, uint256 _value)</code> å’Œ <code>balanceOf(address _owner)</code>.</p>
<p>åœ¨æ™ºèƒ½åˆçº¦å†…éƒ¨ï¼Œé€šå¸¸æœ‰ä¸€ä¸ªæ˜ å°„ï¼Œ <code>mapping(address =&gt; uint256) balances</code>ï¼Œç”¨äºè¿½è¸ªæ¯ä¸ªåœ°å€è¿˜æœ‰å¤šå°‘ä½™é¢ã€‚</p>
<p>æ‰€ä»¥åŸºæœ¬ä¸Šä¸€ä¸ªä»£å¸åªæ˜¯ä¸€ä¸ªè¿½è¸ªè°æ‹¥æœ‰å¤šå°‘è¯¥ä»£å¸çš„åˆçº¦ï¼Œå’Œä¸€äº›å¯ä»¥è®©é‚£äº›ç”¨æˆ·å°†ä»–ä»¬çš„ä»£å¸è½¬ç§»åˆ°å…¶ä»–åœ°å€çš„å‡½æ•°ã€‚</p>
<p><strong>å®ƒä¸ºä»€ä¹ˆé‡è¦å‘¢ï¼Ÿ</strong></p>
<p>ç”±äºæ‰€æœ‰ ERC20 ä»£å¸å…±äº«å…·æœ‰ç›¸åŒåç§°çš„åŒä¸€ç»„å‡½æ•°ï¼Œå®ƒä»¬éƒ½å¯ä»¥ä»¥ç›¸åŒçš„æ–¹å¼è¿›è¡Œäº¤äº’ã€‚</p>
<p>è¿™æ„å‘³ç€å¦‚æœä½ æ„å»ºçš„åº”ç”¨ç¨‹åºèƒ½å¤Ÿä¸ä¸€ä¸ª ERC20 ä»£å¸è¿›è¡Œäº¤äº’ï¼Œé‚£ä¹ˆå®ƒå°±ä¹Ÿèƒ½å¤Ÿä¸ä»»ä½• ERC20 ä»£å¸è¿›è¡Œäº¤äº’ã€‚ è¿™æ ·ä¸€æ¥ï¼Œå°†æ¥ä½ å°±å¯ä»¥è½»æ¾åœ°å°†æ›´å¤šçš„ä»£å¸æ·»åŠ åˆ°ä½ çš„åº”ç”¨ä¸­ï¼Œè€Œæ— éœ€è¿›è¡Œè‡ªå®šä¹‰ç¼–ç ã€‚ ä½ å¯ä»¥ç®€å•åœ°æ’å…¥æ–°çš„ä»£å¸åˆçº¦åœ°å€ï¼Œç„¶åå“—å•¦ï¼Œä½ çš„åº”ç”¨ç¨‹åºæœ‰å¦ä¸€ä¸ªå®ƒå¯ä»¥ä½¿ç”¨çš„ä»£å¸äº†ã€‚</p>
<p>å…¶ä¸­ä¸€ä¸ªä¾‹å­å°±æ˜¯äº¤æ˜“æ‰€ã€‚ å½“äº¤æ˜“æ‰€æ·»åŠ ä¸€ä¸ªæ–°çš„ ERC20 ä»£å¸æ—¶ï¼Œå®é™…ä¸Šå®ƒåªéœ€è¦æ·»åŠ ä¸ä¹‹å¯¹è¯çš„å¦ä¸€ä¸ªæ™ºèƒ½åˆçº¦ã€‚ ç”¨æˆ·å¯ä»¥è®©é‚£ä¸ªåˆçº¦å°†ä»£å¸å‘é€åˆ°äº¤æ˜“æ‰€çš„é’±åŒ…åœ°å€ï¼Œç„¶åäº¤æ˜“æ‰€å¯ä»¥è®©åˆçº¦åœ¨ç”¨æˆ·è¦æ±‚å–æ¬¾æ—¶å°†ä»£å¸å‘é€å›ç»™ä»–ä»¬ã€‚</p>
<p>äº¤æ˜“æ‰€åªéœ€è¦å®ç°è¿™ç§è½¬ç§»é€»è¾‘ä¸€æ¬¡ï¼Œç„¶åå½“å®ƒæƒ³è¦æ·»åŠ ä¸€ä¸ªæ–°çš„ ERC20 ä»£å¸æ—¶ï¼Œåªéœ€å°†æ–°çš„åˆçº¦åœ°å€æ·»åŠ åˆ°å®ƒçš„æ•°æ®åº“å³å¯ã€‚</p>
<p><strong>å…¶ä»–ä»£å¸æ ‡å‡†</strong></p>
<p>å¯¹äºåƒè´§å¸ä¸€æ ·çš„ä»£å¸æ¥è¯´ï¼ŒERC20 ä»£å¸éå¸¸é…·ã€‚ ä½†æ˜¯è¦åœ¨æˆ‘ä»¬åƒµå°¸æ¸¸æˆä¸­ä»£è¡¨åƒµå°¸å°±å¹¶ä¸æ˜¯ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
<p>é¦–å…ˆï¼Œåƒµå°¸ä¸åƒè´§å¸å¯ä»¥åˆ†å‰² â€”â€” æˆ‘å¯ä»¥å‘ç»™ä½  0.237 ä»¥å¤ªï¼Œä½†æ˜¯è½¬ç§»ç»™ä½  0.237 çš„åƒµå°¸å¬èµ·æ¥å°±æœ‰äº›æç¬‘ã€‚</p>
<p>å…¶æ¬¡ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰åƒµå°¸éƒ½æ˜¯å¹³ç­‰çš„ã€‚ ä½ çš„2çº§åƒµå°¸â€<strong>Steve</strong>â€œå®Œå…¨ä¸èƒ½ç­‰åŒäºæˆ‘732çº§çš„åƒµå°¸â€<strong>H4XF13LD MORRIS ğŸ’¯ğŸ’¯ğŸ˜ğŸ’¯ğŸ’¯</strong>â€œã€‚ï¼ˆä½ å·®å¾—è¿œå‘¢ï¼Œ<em>Steve</em>ï¼‰ã€‚</p>
<p>æœ‰å¦ä¸€ä¸ªä»£å¸æ ‡å‡†æ›´é€‚åˆå¦‚ CryptoZombies è¿™æ ·çš„åŠ å¯†æ”¶è—å“â€”â€”å®ƒä»¬è¢«ç§°ä¸º*<strong>ERC721 ä»£å¸.*</strong></p>
<p>*<strong>ERC721 ä»£å¸*<strong>æ˜¯</strong>ä¸</strong>èƒ½äº’æ¢çš„ï¼Œå› ä¸ºæ¯ä¸ªä»£å¸éƒ½è¢«è®¤ä¸ºæ˜¯å”¯ä¸€ä¸”ä¸å¯åˆ†å‰²çš„ã€‚ ä½ åªèƒ½ä»¥æ•´ä¸ªå•ä½äº¤æ˜“å®ƒä»¬ï¼Œå¹¶ä¸”æ¯ä¸ªå•ä½éƒ½æœ‰å”¯ä¸€çš„ IDã€‚ è¿™äº›ç‰¹æ€§æ­£å¥½è®©æˆ‘ä»¬çš„åƒµå°¸å¯ä»¥ç”¨æ¥äº¤æ˜“ã€‚</p>
<blockquote>
<p>è¯·æ³¨æ„ï¼Œä½¿ç”¨åƒ ERC721 è¿™æ ·çš„æ ‡å‡†çš„ä¼˜åŠ¿å°±æ˜¯ï¼Œæˆ‘ä»¬ä¸å¿…åœ¨æˆ‘ä»¬çš„åˆçº¦ä¸­å®ç°æ‹å–æˆ–æ‰˜ç®¡é€»è¾‘ï¼Œè¿™å†³å®šäº†ç©å®¶èƒ½å¤Ÿå¦‚ä½•äº¤æ˜“ï¼å‡ºå”®æˆ‘ä»¬çš„åƒµå°¸ã€‚ å¦‚æœæˆ‘ä»¬ç¬¦åˆè§„èŒƒï¼Œå…¶ä»–äººå¯ä»¥ä¸ºåŠ å¯†å¯äº¤æ˜“çš„ ERC721 èµ„äº§æ­å»ºä¸€ä¸ªäº¤æ˜“æ‰€å¹³å°ï¼Œæˆ‘ä»¬çš„ ERC721 åƒµå°¸å°†å¯ä»¥åœ¨è¯¥å¹³å°ä¸Šä½¿ç”¨ã€‚ æ‰€ä»¥ä½¿ç”¨ä»£å¸æ ‡å‡†ç›¸è¾ƒäºä½¿ç”¨ä½ è‡ªå·±çš„äº¤æ˜“é€»è¾‘æœ‰æ˜æ˜¾çš„å¥½å¤„ã€‚</p>
</blockquote>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ç« æ·±å…¥è®¨è®ºERC721çš„å®ç°ã€‚ ä½†é¦–å…ˆï¼Œè®©æˆ‘ä»¬ä¸ºæœ¬è¯¾è®¾ç½®æˆ‘ä»¬çš„æ–‡ä»¶ç»“æ„ã€‚</p>
<p>æˆ‘ä»¬å°†æŠŠæ‰€æœ‰ERC721é€»è¾‘å­˜å‚¨åœ¨ä¸€ä¸ªå«<code>ZombieOwnership</code>çš„åˆçº¦ä¸­ã€‚</p>
<ol>
<li>åœ¨æ–‡ä»¶é¡¶éƒ¨å£°æ˜æˆ‘ä»¬<code>pragma</code>çš„ç‰ˆæœ¬ï¼ˆæ ¼å¼å‚è€ƒä¹‹å‰çš„è¯¾ç¨‹ï¼‰ã€‚</li>
<li>å°† <code>zombieattack.sol</code> <code>import</code> è¿›æ¥ã€‚</li>
<li>å£°æ˜ä¸€ä¸ªç»§æ‰¿ <code>ZombieAttack</code> çš„æ–°åˆçº¦ï¼Œ å‘½åä¸º<code>ZombieOwnership</code>ã€‚åˆçº¦çš„å…¶ä»–éƒ¨åˆ†å…ˆç•™ç©ºã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// ä»è¿™é‡Œå¼€å§‹</span><br><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">import "./zombieattack.sol";</span><br><span class="line"></span><br><span class="line">contract ZombieOwnership is ZombieAttack{</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬2ç« -ERC721-æ ‡å‡†-å¤šé‡ç»§æ‰¿"><a href="#ç¬¬2ç« -ERC721-æ ‡å‡†-å¤šé‡ç»§æ‰¿" class="headerlink" title="ç¬¬2ç« : ERC721 æ ‡å‡†, å¤šé‡ç»§æ‰¿"></a>ç¬¬2ç« : ERC721 æ ‡å‡†, å¤šé‡ç»§æ‰¿</h3><p>è®©æˆ‘ä»¬æ¥çœ‹ä¸€çœ‹ ERC721 æ ‡å‡†ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">contract ERC721 {</span><br><span class="line">  event Transfer(address indexed _from, address indexed _to, uint256 _tokenId);</span><br><span class="line">  event Approval(address indexed _owner, address indexed _approved, uint256 _tokenId);</span><br><span class="line"></span><br><span class="line">  function balanceOf(address _owner) public view returns (uint256 _balance);</span><br><span class="line">  function ownerOf(uint256 _tokenId) public view returns (address _owner);</span><br><span class="line">  function transfer(address _to, uint256 _tokenId) public;</span><br><span class="line">  function approve(address _to, uint256 _tokenId) public;</span><br><span class="line">  function takeOwnership(uint256 _tokenId) public;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ˜¯æˆ‘ä»¬éœ€è¦å®ç°çš„æ–¹æ³•åˆ—è¡¨ï¼Œæˆ‘ä»¬å°†åœ¨æ¥ä¸‹æ¥çš„ç« èŠ‚ä¸­é€ä¸ªå­¦ä¹ ã€‚</p>
<p>è™½ç„¶çœ‹èµ·æ¥å¾ˆå¤šï¼Œä½†ä¸è¦è¢«å“åˆ°äº†ï¼æˆ‘ä»¬åœ¨è¿™é‡Œå°±æ˜¯å‡†å¤‡å¸¦ç€ä½ ä¸€æ­¥ä¸€æ­¥äº†è§£å®ƒä»¬çš„ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼š ERC721ç›®å‰æ˜¯ä¸€ä¸ª <em>è‰ç¨¿</em>ï¼Œè¿˜æ²¡æœ‰æ­£å¼å•†å®šçš„å®ç°ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ OpenZeppelin åº“ä¸­çš„å½“å‰ç‰ˆæœ¬ï¼Œä½†åœ¨æœªæ¥æ­£å¼å‘å¸ƒä¹‹å‰å®ƒå¯èƒ½ä¼šæœ‰æ›´æ”¹ã€‚ æ‰€ä»¥æŠŠè¿™ <strong>ä¸€ä¸ª</strong> å¯èƒ½çš„å®ç°å½“ä½œè€ƒè™‘ï¼Œä½†ä¸è¦æŠŠå®ƒä½œä¸º ERC721 ä»£å¸çš„å®˜æ–¹æ ‡å‡†ã€‚</p>
</blockquote>
<p><strong>å®ç°ä¸€ä¸ªä»£å¸åˆçº¦</strong></p>
<p>åœ¨å®ç°ä¸€ä¸ªä»£å¸åˆçº¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬é¦–å…ˆè¦åšçš„æ˜¯å°†æ¥å£å¤åˆ¶åˆ°å®ƒè‡ªå·±çš„ Solidity æ–‡ä»¶å¹¶å¯¼å…¥å®ƒï¼Œ<code>import "./erc721.sol";</code>ã€‚ æ¥ç€ï¼Œè®©æˆ‘ä»¬çš„åˆçº¦ç»§æ‰¿å®ƒï¼Œç„¶åæˆ‘ä»¬ç”¨ä¸€ä¸ªå‡½æ•°å®šä¹‰æ¥é‡å†™æ¯ä¸ªæ–¹æ³•ã€‚</p>
<p>ä½†ç­‰ä¸€ä¸‹â€”â€” <code>ZombieOwnership</code>å·²ç»ç»§æ‰¿è‡ª <code>ZombieAttack</code>äº† â€”â€” å®ƒå¦‚ä½•èƒ½å¤Ÿä¹Ÿç»§æ‰¿äº <code>ERC721</code>å‘¢ï¼Ÿ</p>
<p>å¹¸è¿çš„æ˜¯åœ¨Solidityï¼Œä½ çš„åˆçº¦å¯ä»¥ç»§æ‰¿è‡ªå¤šä¸ªåˆçº¦ï¼Œå‚è€ƒå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">contract SatoshiNakamoto is NickSzabo, HalFinney {</span><br><span class="line">  // å•§å•§å•§ï¼Œå®‡å®™çš„å¥¥ç§˜æ³„éœ²äº†</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æ­£å¦‚ä½ æ‰€è§ï¼Œå½“ä½¿ç”¨å¤šé‡ç»§æ‰¿çš„æ—¶å€™ï¼Œä½ åªéœ€è¦ç”¨é€—å· <code>,</code> æ¥éš”å¼€å‡ ä¸ªä½ æƒ³è¦ç»§æ‰¿çš„åˆçº¦ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çš„åˆçº¦ç»§æ‰¿è‡ª <code>NickSzabo</code> å’Œ <code>HalFinney</code>ã€‚</p>
<p>æ¥è¯•è¯•å§ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬å·²ç»åœ¨ä¸Šé¢ä¸ºä½ åˆ›å»ºäº†å¸¦ç€æ¥å£çš„ <code>erc721.sol</code> ã€‚</p>
<ol>
<li>å°† <code>erc721.sol</code> å¯¼å…¥åˆ° <code>zombieownership.sol</code></li>
<li>å£°æ˜ <code>ZombieOwnership</code> ç»§æ‰¿è‡ª <code>ZombieAttack</code> å’Œ <code>ERC721</code></li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">import "./zombieattack.sol";</span><br><span class="line">// åœ¨è¿™é‡Œå¼•å…¥æ–‡ä»¶</span><br><span class="line">import "./erc721.sol";</span><br><span class="line">// åœ¨è¿™é‡Œå£°æ˜ ERC721 çš„ç»§æ‰¿</span><br><span class="line">contract ZombieOwnership is ZombieAttack, ERC721 {</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬3ç« -balanceOf-å’Œ-ownerOf"><a href="#ç¬¬3ç« -balanceOf-å’Œ-ownerOf" class="headerlink" title="ç¬¬3ç« : balanceOf å’Œ ownerOf"></a>ç¬¬3ç« : balanceOf å’Œ ownerOf</h3><p>å¤ªæ£’äº†ï¼Œæˆ‘ä»¬æ¥æ·±å…¥è®¨è®ºä¸€ä¸‹ ERC721 çš„å®ç°ã€‚</p>
<p>æˆ‘ä»¬å·²ç»æŠŠæ‰€æœ‰ä½ éœ€è¦åœ¨æœ¬è¯¾ä¸­å®ç°çš„å‡½æ•°çš„ç©ºå£³å¤åˆ¶å¥½äº†ã€‚</p>
<p>åœ¨æœ¬ç« èŠ‚ï¼Œæˆ‘ä»¬å°†å®ç°å¤´ä¸¤ä¸ªæ–¹æ³•ï¼š <code>balanceOf</code> å’Œ <code>ownerOf</code>ã€‚</p>
<p><strong><code>balanceOf</code></strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function balanceOf(address _owner) public view returns (uint256 _balance);</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ä¸ªå‡½æ•°åªéœ€è¦ä¸€ä¸ªä¼ å…¥ <code>address</code> å‚æ•°ï¼Œç„¶åè¿”å›è¿™ä¸ª <code>address</code> æ‹¥æœ‰å¤šå°‘ä»£å¸ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çš„â€œä»£å¸â€æ˜¯åƒµå°¸ã€‚ä½ è¿˜è®°å¾—åœ¨æˆ‘ä»¬ DApp çš„å“ªé‡Œå­˜å‚¨äº†ä¸€ä¸ªä¸»äººæ‹¥æœ‰å¤šå°‘åªåƒµå°¸å—ï¼Ÿ</p>
<p> <strong><code>ownerOf</code></strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function ownerOf(uint256 _tokenId) public view returns (address _owner);</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ä¸ªå‡½æ•°éœ€è¦ä¼ å…¥ä¸€ä¸ªä»£å¸ ID ä½œä¸ºå‚æ•° (æˆ‘ä»¬çš„æƒ…å†µå°±æ˜¯ä¸€ä¸ªåƒµå°¸ ID)ï¼Œç„¶åè¿”å›è¯¥ä»£å¸æ‹¥æœ‰è€…çš„ <code>address</code>ã€‚</p>
<p>åŒæ ·çš„ï¼Œå› ä¸ºåœ¨æˆ‘ä»¬çš„ DApp é‡Œå·²ç»æœ‰ä¸€ä¸ª <code>mapping</code> (æ˜ å°„) å­˜å‚¨äº†è¿™ä¸ªä¿¡æ¯ï¼Œæ‰€ä»¥å¯¹æˆ‘ä»¬æ¥è¯´è¿™ä¸ªå®ç°éå¸¸ç›´æ¥æ¸…æ™°ã€‚æˆ‘ä»¬å¯ä»¥åªç”¨ä¸€è¡Œ <code>return</code> è¯­å¥æ¥å®ç°è¿™ä¸ªå‡½æ•°ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šè¦è®°å¾—ï¼Œ <code>uint256</code> ç­‰åŒäº<code>uint</code>ã€‚æˆ‘ä»¬ä»è¯¾ç¨‹çš„å¼€å§‹ä¸€ç›´åœ¨ä»£ç ä¸­ä½¿ç”¨ <code>uint</code>ï¼Œä½†ä»ç°åœ¨å¼€å§‹æˆ‘ä»¬å°†åœ¨è¿™é‡Œç”¨ <code>uint256</code>ï¼Œå› ä¸ºæˆ‘ä»¬ç›´æ¥ä»è§„èŒƒä¸­å¤åˆ¶ç²˜è´´ã€‚</p>
</blockquote>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘å°†è®©ä½ æ¥å†³å®šå¦‚ä½•å®ç°è¿™ä¸¤ä¸ªå‡½æ•°ã€‚</p>
<p>æ¯ä¸ªå‡½æ•°çš„ä»£ç éƒ½åº”è¯¥åªæœ‰1è¡Œ <code>return</code> è¯­å¥ã€‚çœ‹çœ‹æˆ‘ä»¬åœ¨ä¹‹å‰è¯¾ç¨‹ä¸­å†™çš„ä»£ç ï¼Œæƒ³æƒ³æˆ‘ä»¬éƒ½æŠŠè¿™ä¸ªæ•°æ®å­˜å‚¨åœ¨å“ªã€‚å¦‚æœä½ è§‰å¾—æœ‰å›°éš¾ï¼Œä½ å¯ä»¥ç‚¹â€œæˆ‘è¦çœ‹ç­”æ¡ˆâ€çš„æŒ‰é’®æ¥è·å¾—å¸®åŠ©ã€‚</p>
<ol>
<li>å®ç° <code>balanceOf</code> æ¥è¿”å› <code>_owner</code> æ‹¥æœ‰çš„åƒµå°¸æ•°é‡ã€‚</li>
<li>å®ç° <code>ownerOf</code> æ¥è¿”å›æ‹¥æœ‰ ID ä¸º <code>_tokenId</code> åƒµå°¸çš„æ‰€æœ‰è€…çš„åœ°å€ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function balanceOf(address _owner) public view returns (uint256 _balance) {</span><br><span class="line">    // 1. åœ¨è¿™é‡Œè¿”å› `_owner` æ‹¥æœ‰çš„åƒµå°¸æ•°</span><br><span class="line">    return ownerZombieCount[_owner];</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  function ownerOf(uint256 _tokenId) public view returns (address _owner) {</span><br><span class="line">    // 2. åœ¨è¿™é‡Œè¿”å› `_tokenId` çš„æ‰€æœ‰è€…</span><br><span class="line">    return zombieToOwner[_tokenId];</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬4ç« -é‡æ„"><a href="#ç¬¬4ç« -é‡æ„" class="headerlink" title="ç¬¬4ç« : é‡æ„"></a>ç¬¬4ç« : é‡æ„</h3><p>å˜¿å˜¿ï¼æˆ‘ä»¬åˆšåˆšçš„ä»£ç ä¸­å…¶å®æœ‰ä¸ªé”™è¯¯ï¼Œä»¥è‡³äºå…¶æ ¹æœ¬æ— æ³•é€šè¿‡ç¼–è¯‘ï¼Œä½ å‘ç°äº†æ²¡ï¼Ÿ</p>
<p>åœ¨å‰ä¸€ä¸ªç« èŠ‚æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå« <code>ownerOf</code> çš„å‡½æ•°ã€‚ä½†å¦‚æœä½ è¿˜è®°å¾—ç¬¬4è¯¾çš„å†…å®¹ï¼Œæˆ‘ä»¬åŒæ ·åœ¨<code>zombiefeeding.sol</code> é‡Œä»¥ <code>ownerOf</code> å‘½ååˆ›å»ºäº†ä¸€ä¸ª <code>modifier</code>ï¼ˆä¿®é¥°ç¬¦ï¼‰ã€‚</p>
<p>å¦‚æœä½ å°è¯•ç¼–è¯‘è¿™æ®µä»£ç ï¼Œç¼–è¯‘å™¨ä¼šç»™ä½ ä¸€ä¸ªé”™è¯¯è¯´ä½ ä¸èƒ½æœ‰ç›¸åŒåç§°çš„ä¿®é¥°ç¬¦å’Œå‡½æ•°ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬åº”è¯¥æŠŠåœ¨ <code>ZombieOwnership</code> é‡Œçš„å‡½æ•°åç§°æ”¹æˆåˆ«çš„å—ï¼Ÿ</p>
<p>ä¸ï¼Œæˆ‘ä»¬ä¸èƒ½é‚£æ ·åšï¼ï¼ï¼è¦è®°å¾—ï¼Œæˆ‘ä»¬æ­£åœ¨ç”¨ ERC721 ä»£å¸æ ‡å‡†ï¼Œæ„å‘³ç€å…¶ä»–åˆçº¦å°†æœŸæœ›æˆ‘ä»¬çš„åˆçº¦ä»¥è¿™äº›ç¡®åˆ‡çš„åç§°æ¥å®šä¹‰å‡½æ•°ã€‚è¿™å°±æ˜¯è¿™äº›æ ‡å‡†å®ç”¨çš„åŸå› â€”â€”å¦‚æœå¦ä¸€ä¸ªåˆçº¦çŸ¥é“æˆ‘ä»¬çš„åˆçº¦ç¬¦åˆ ERC721 æ ‡å‡†ï¼Œå®ƒå¯ä»¥ç›´æ¥ä¸æˆ‘ä»¬äº¤äº’ï¼Œè€Œæ— éœ€äº†è§£ä»»ä½•å…³äºæˆ‘ä»¬å†…éƒ¨å¦‚ä½•å®ç°çš„ç»†èŠ‚ã€‚</p>
<p>æ‰€ä»¥ï¼Œé‚£æ„å‘³ç€æˆ‘ä»¬å°†å¿…é¡»é‡æ„æˆ‘ä»¬ç¬¬4è¯¾ä¸­çš„ä»£ç ï¼Œå°† <code>modifier</code> çš„åç§°æ¢æˆåˆ«çš„ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬å›åˆ°äº† <code>zombiefeeding.sol</code> ã€‚æˆ‘ä»¬å°†æŠŠ <code>modifier</code> çš„åç§°ä» <code>ownerOf</code> æ”¹æˆ <code>onlyOwnerOf</code>ã€‚</p>
<ol>
<li>æŠŠä¿®é¥°ç¬¦å®šä¹‰ä¸­çš„åç§°æ”¹æˆ <code>onlyOwnerOf</code></li>
<li>å¾€ä¸‹æ»‘åˆ°ä½¿ç”¨æ­¤ä¿®é¥°ç¬¦çš„å‡½æ•° <code>feedAndMultiply</code> ã€‚æˆ‘ä»¬ä¹Ÿéœ€è¦æ”¹è¿™é‡Œçš„åç§°ã€‚</li>
</ol>
<blockquote>
<p>æ³¨æ„ï¼šæˆ‘ä»¬åœ¨ <code>zombiehelper.sol</code> å’Œ <code>zombieattack.sol</code> é‡Œä¹Ÿä½¿ç”¨äº†è¿™ä¸ªä¿®é¥°ç¬¦ï¼Œä½†ä¸ºäº†ä¸åœ¨è¿™èŠ‚è¯¾çš„é‡æ„é‡ŒèŠ±å¤ªå¤šæ—¶é—´ï¼Œæˆ‘ä»¬å·²ç»å°†é‚£äº›æ–‡ä»¶é‡Œçš„ä¿®é¥°ç¬¦åç§°ä¸ºä½ æ”¹å¥½äº†ã€‚</p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// 1. æŠŠä¿®é¥°ç¬¦åç§°æ”¹æˆ `onlyOwnerOf`</span><br><span class="line">  modifier onlyOwnerOf(uint _zombieId) {</span><br><span class="line">    require(msg.sender == zombieToOwner[_zombieId]);</span><br><span class="line">    _;</span><br><span class="line">  }</span><br><span class="line">// 2. è¿™é‡Œä¹Ÿè¦ä¿®æ”¹ä¿®é¥°ç¬¦çš„åç§°</span><br><span class="line">  function feedAndMultiply(uint _zombieId, uint _targetDna, string _species) internal onlyOwnerOf(_zombieId) {</span><br><span class="line">    Zombie storage myZombie = zombies[_zombieId];</span><br><span class="line">    require(_isReady(myZombie));</span><br><span class="line">    _targetDna = _targetDna % dnaModulus;</span><br><span class="line">    uint newDna = (myZombie.dna + _targetDna) / 2;</span><br><span class="line">    if (keccak256(_species) == keccak256("kitty")) {</span><br><span class="line">      newDna = newDna - newDna % 100 + 99;</span><br><span class="line">    }</span><br><span class="line">    _createZombie("NoName", newDna);</span><br><span class="line">    _triggerCooldown(myZombie);</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬5ç« -ERC721-è½¬ç§»æ ‡å‡†"><a href="#ç¬¬5ç« -ERC721-è½¬ç§»æ ‡å‡†" class="headerlink" title="ç¬¬5ç« : ERC721: è½¬ç§»æ ‡å‡†"></a>ç¬¬5ç« : ERC721: è½¬ç§»æ ‡å‡†</h3><p>å¥½äº†ï¼Œæˆ‘ä»¬å°†å†²çªä¿®å¤äº†ï¼</p>
<p>ç°åœ¨æˆ‘ä»¬å°†é€šè¿‡å­¦ä¹ æŠŠæ‰€æœ‰æƒä»ä¸€ä¸ªäººè½¬ç§»ç»™å¦ä¸€ä¸ªäººæ¥ç»§ç»­æˆ‘ä»¬çš„ ERC721 è§„èŒƒçš„å®ç°ã€‚</p>
<p>æ³¨æ„ ERC721 è§„èŒƒæœ‰ä¸¤ç§ä¸åŒçš„æ–¹æ³•æ¥è½¬ç§»ä»£å¸ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function transfer(address _to, uint256 _tokenId) public;</span><br><span class="line"></span><br><span class="line">function approve(address _to, uint256 _tokenId) public;</span><br><span class="line">function takeOwnership(uint256 _tokenId) public;</span><br></pre></td></tr></tbody></table></figure>

<ol>
<li>ç¬¬ä¸€ç§æ–¹æ³•æ˜¯ä»£å¸çš„æ‹¥æœ‰è€…è°ƒç”¨<code>transfer</code> æ–¹æ³•ï¼Œä¼ å…¥ä»–æƒ³è½¬ç§»åˆ°çš„ <code>address</code> å’Œä»–æƒ³è½¬ç§»çš„ä»£å¸çš„ <code>_tokenId</code>ã€‚</li>
<li>ç¬¬äºŒç§æ–¹æ³•æ˜¯ä»£å¸æ‹¥æœ‰è€…é¦–å…ˆè°ƒç”¨ <code>approve</code>ï¼Œç„¶åä¼ å…¥ä¸ä»¥ä¸Šç›¸åŒçš„å‚æ•°ã€‚æ¥ç€ï¼Œè¯¥åˆçº¦ä¼šå­˜å‚¨è°è¢«å…è®¸æå–ä»£å¸ï¼Œé€šå¸¸å­˜å‚¨åˆ°ä¸€ä¸ª <code>mapping (uint256 =&gt; address)</code> é‡Œã€‚ç„¶åï¼Œå½“æœ‰äººè°ƒç”¨ <code>takeOwnership</code> æ—¶ï¼Œåˆçº¦ä¼šæ£€æŸ¥ <code>msg.sender</code> æ˜¯å¦å¾—åˆ°æ‹¥æœ‰è€…çš„æ‰¹å‡†æ¥æå–ä»£å¸ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™å°†ä»£å¸è½¬ç§»ç»™ä»–ã€‚</li>
</ol>
<p>ä½ æ³¨æ„åˆ°äº†å—ï¼Œ<code>transfer</code> å’Œ <code>takeOwnership</code> éƒ½å°†åŒ…å«ç›¸åŒçš„è½¬ç§»é€»è¾‘ï¼Œåªæ˜¯ä»¥ç›¸åçš„é¡ºåºã€‚ ï¼ˆä¸€ç§æƒ…å†µæ˜¯ä»£å¸çš„å‘é€è€…è°ƒç”¨å‡½æ•°ï¼›å¦ä¸€ç§æƒ…å†µæ˜¯ä»£å¸çš„æ¥æ”¶è€…è°ƒç”¨å®ƒï¼‰ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬æŠŠè¿™ä¸ªé€»è¾‘æŠ½è±¡æˆå®ƒè‡ªå·±çš„ç§æœ‰å‡½æ•° <code>_transfer</code>ï¼Œç„¶åç”±è¿™ä¸¤ä¸ªå‡½æ•°æ¥è°ƒç”¨å®ƒã€‚ è¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨å†™é‡å¤çš„ä»£ç äº†ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>è®©æˆ‘ä»¬æ¥å®šä¹‰ <code>_transfer</code> çš„é€»è¾‘ã€‚</p>
<ol>
<li><p>å®šä¹‰ä¸€ä¸ªåä¸º <code>_transfer</code>çš„å‡½æ•°ã€‚å®ƒä¼šéœ€è¦3ä¸ªå‚æ•°ï¼š<code>address _from</code>ã€<code>address _to</code>å’Œ<code>uint256 _tokenId</code>ã€‚å®ƒåº”è¯¥æ˜¯ä¸€ä¸ª <code>ç§æœ‰</code> å‡½æ•°ã€‚</p>
</li>
<li><p>æˆ‘ä»¬æœ‰2ä¸ªæ˜ å°„ä¼šåœ¨æ‰€æœ‰æƒæ”¹å˜çš„æ—¶å€™æ”¹å˜ï¼š <code>ownerZombieCount</code> ï¼ˆè®°å½•ä¸€ä¸ªæ‰€æœ‰è€…æœ‰å¤šå°‘åªåƒµå°¸ï¼‰å’Œ <code>zombieToOwner</code> ï¼ˆè®°å½•ä»€ä¹ˆäººæ‹¥æœ‰ä»€ä¹ˆï¼‰ã€‚</p>
<p> æˆ‘ä»¬çš„å‡½æ•°éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ä¸º <strong>æ¥æ”¶</strong> åƒµå°¸çš„äººï¼ˆ<code>address _to</code>ï¼‰å¢ åŠ <code>ownerZombieCount</code>ã€‚ä½¿ç”¨ <code>++</code> æ¥å¢åŠ ã€‚</p>
</li>
<li><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†éœ€è¦ä¸º <strong>å‘é€</strong> åƒµå°¸çš„äººï¼ˆ<code>address _from</code>ï¼‰<strong>å‡å°‘</strong><code>ownerZombieCount</code>ã€‚ä½¿ç”¨ <code>--</code> æ¥æ‰£å‡ã€‚</p>
</li>
<li><p>æœ€åï¼Œæˆ‘ä»¬å°†æ”¹å˜è¿™ä¸ª <code>_tokenId</code> çš„ <code>zombieToOwner</code> æ˜ å°„ï¼Œè¿™æ ·å®ƒç°åœ¨å°±ä¼šæŒ‡å‘ <code>_to</code>ã€‚</p>
</li>
<li><p>éª—ä½ çš„ï¼Œé‚£ä¸æ˜¯æœ€åä¸€æ­¥ã€‚æˆ‘ä»¬è¿˜éœ€è¦å†åšä¸€ä»¶äº‹æƒ…ã€‚</p>
<p> ERC721è§„èŒƒåŒ…å«äº†ä¸€ä¸ª <code>Transfer</code> äº‹ä»¶ã€‚è¿™ä¸ªå‡½æ•°çš„æœ€åä¸€è¡Œåº”è¯¥ç”¨æ­£ç¡®çš„å‚æ•°è§¦å‘<code>Transfer</code> â€”â€”æŸ¥çœ‹ <code>erc721.sol</code> çœ‹å®ƒæœŸæœ›ä¼ å…¥çš„å‚æ•°å¹¶åœ¨è¿™é‡Œå®ç°ã€‚</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// åœ¨è¿™é‡Œå®šä¹‰ _transfer()</span><br><span class="line">    function _transfer(address _from, address _to, uint256 _tokenId) private{</span><br><span class="line">        ownerZombieCount[_to]++;</span><br><span class="line">        ownerZombieCount[_from]--;</span><br><span class="line">        zombieToOwner[_tokenId] = _to;</span><br><span class="line">        Transfer(_from, _to, _tokenId);</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬6ç« -ERC721-è½¬ç§»-ç»­"><a href="#ç¬¬6ç« -ERC721-è½¬ç§»-ç»­" class="headerlink" title="ç¬¬6ç« : ERC721: è½¬ç§»-ç»­"></a>ç¬¬6ç« : ERC721: è½¬ç§»-ç»­</h3><p>å¤ªå¥½äº†ï¼åˆšæ‰é‚£æ˜¯æœ€éš¾çš„éƒ¨åˆ†â€”â€”ç°åœ¨å®ç°å…¬å…±çš„ <code>transfer</code> å‡½æ•°åº”è¯¥ååˆ†å®¹æ˜“ï¼Œå› ä¸ºæˆ‘ä»¬çš„ <code>_transfer</code> å‡½æ•°å‡ ä¹å·²ç»æŠŠæ‰€æœ‰çš„é‡æ´»éƒ½å¹²å®Œäº†ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li><p>æˆ‘ä»¬æƒ³ç¡®ä¿åªæœ‰ä»£å¸æˆ–åƒµå°¸çš„æ‰€æœ‰è€…å¯ä»¥è½¬ç§»å®ƒã€‚è¿˜è®°å¾—æˆ‘ä»¬å¦‚ä½•é™åˆ¶åªæœ‰æ‰€æœ‰è€…æ‰èƒ½è®¿é—®æŸä¸ªåŠŸèƒ½å—ï¼Ÿ</p>
<p> æ²¡é”™ï¼Œæˆ‘ä»¬å·²ç»æœ‰ä¸€ä¸ªä¿®é¥°ç¬¦èƒ½å¤Ÿå®Œæˆè¿™ä¸ªä»»åŠ¡äº†ã€‚æ‰€ä»¥å°†ä¿®é¥°ç¬¦ <code>onlyOwnerOf</code> æ·»åŠ åˆ°è¿™ä¸ªå‡½æ•°ä¸­ã€‚</p>
</li>
<li><p>ç°åœ¨è¯¥å‡½æ•°çš„æ­£æ–‡åªéœ€è¦ä¸€è¡Œä»£ç ã€‚å®ƒåªéœ€è¦è°ƒç”¨ <code>_transfer</code>ã€‚</p>
<p> è®°å¾—æŠŠ <code>msg.sender</code> ä½œä¸ºå‚æ•°ä¼ é€’è¿› <code>address _from</code>ã€‚</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 1. åœ¨è¿™é‡Œæ·»åŠ ä¿®é¥°ç¬¦</span><br><span class="line">  function transfer(address _to, uint256 _tokenId) public onlyOwnerOf(_tokenId){</span><br><span class="line">    // 2. åœ¨è¿™é‡Œå®šä¹‰æ–¹æ³•</span><br><span class="line">    _transfer(msg.sender, _to, _tokenId);</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬7ç« -ERC721-æ‰¹å‡†"><a href="#ç¬¬7ç« -ERC721-æ‰¹å‡†" class="headerlink" title="ç¬¬7ç« : ERC721: æ‰¹å‡†"></a>ç¬¬7ç« : ERC721: æ‰¹å‡†</h3><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥å®ç° <code>approve</code>ã€‚</p>
<p>è®°ä½ï¼Œä½¿ç”¨ <code>approve</code> æˆ–è€… <code>takeOwnership</code> çš„æ—¶å€™ï¼Œè½¬ç§»æœ‰2ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>ä½ ï¼Œä½œä¸ºæ‰€æœ‰è€…ï¼Œç”¨æ–°ä¸»äººçš„ <code>address</code> å’Œä½ å¸Œæœ›ä»–è·å–çš„ <code>_tokenId</code> æ¥è°ƒç”¨ <code>approve</code></li>
<li>æ–°ä¸»äººç”¨ <code>_tokenId</code> æ¥è°ƒç”¨ <code>takeOwnership</code>ï¼Œåˆçº¦ä¼šæ£€æŸ¥ç¡®ä¿ä»–è·å¾—äº†æ‰¹å‡†ï¼Œç„¶åæŠŠä»£å¸è½¬ç§»ç»™ä»–ã€‚</li>
</ol>
<p>å› ä¸ºè¿™å‘ç”Ÿåœ¨2ä¸ªå‡½æ•°çš„è°ƒç”¨ä¸­ï¼Œæ‰€ä»¥åœ¨å‡½æ•°è°ƒç”¨ä¹‹é—´ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ•°æ®ç»“æ„æ¥å­˜å‚¨ä»€ä¹ˆäººè¢«æ‰¹å‡†è·å–ä»€ä¹ˆã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li><p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªæ˜ å°„ <code>zombieApprovals</code>ã€‚å®ƒåº”è¯¥å°†ä¸€ä¸ª <code>uint</code> æ˜ å°„åˆ°ä¸€ä¸ª <code>address</code>ã€‚</p>
<p> è¿™æ ·ä¸€æ¥ï¼Œå½“æœ‰äººç”¨ä¸€ä¸ª <code>_tokenId</code> è°ƒç”¨ <code>takeOwnership</code> æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªæ˜ å°„æ¥å¿«é€ŸæŸ¥æ‰¾è°è¢«æ‰¹å‡†è·å–é‚£ä¸ªä»£å¸ã€‚</p>
</li>
<li><p>åœ¨å‡½æ•° <code>approve</code> ä¸Šï¼Œ æˆ‘ä»¬æƒ³è¦ç¡®ä¿åªæœ‰ä»£å¸æ‰€æœ‰è€…å¯ä»¥æ‰¹å‡†æŸäººæ¥è·å–ä»£å¸ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ·»åŠ ä¿®é¥°ç¬¦ <code>onlyOwnerOf</code> åˆ° <code>approve</code>ã€‚</p>
</li>
<li><p>å‡½æ•°çš„æ­£æ–‡éƒ¨åˆ†ï¼Œå°† <code>_tokenId</code> çš„ <code>zombieApprovals</code> è®¾ç½®ä¸ºå’Œ <code>_to</code> ç›¸ç­‰ã€‚</p>
</li>
<li><p>æœ€åï¼Œåœ¨ ERC721 è§„èŒƒé‡Œæœ‰ä¸€ä¸ª <code>Approval</code> äº‹ä»¶ã€‚æ‰€ä»¥æˆ‘ä»¬åº”è¯¥åœ¨è¿™ä¸ªå‡½æ•°çš„æœ€åè§¦å‘è¿™ä¸ªäº‹ä»¶ã€‚ï¼ˆå‚è€ƒ <code>erc721.sol</code> æ¥ç¡®è®¤ä¼ å…¥çš„å‚æ•°ï¼Œå¹¶ç¡®ä¿ <code>_owner</code> æ˜¯ <code>msg.sender</code>ï¼‰</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 1. åœ¨è¿™é‡Œå®šä¹‰æ˜ å°„</span><br><span class="line">  mapping(uint =&gt; address) zombieApprovals;</span><br><span class="line">// 2. åœ¨è¿™é‡Œæ·»åŠ æ–¹æ³•ä¿®é¥°ç¬¦</span><br><span class="line">  function approve(address _to, uint256 _tokenId) public onlyOwnerOf(_tokenId){</span><br><span class="line">    // 3. åœ¨è¿™é‡Œå®šä¹‰æ–¹æ³•</span><br><span class="line">    zombieApprovals[_tokenId] = _to;</span><br><span class="line">    Approval(msg.sender, _to, _tokenId);</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬8ç« -ERC721-takeOwnership"><a href="#ç¬¬8ç« -ERC721-takeOwnership" class="headerlink" title="ç¬¬8ç« : ERC721: takeOwnership"></a>ç¬¬8ç« : ERC721: takeOwnership</h3><p>å¤ªæ£’äº†ï¼Œç°åœ¨è®©æˆ‘ä»¬å®Œæˆæœ€åä¸€ä¸ªå‡½æ•°æ¥ç»“æŸ ERC721 çš„å®ç°ã€‚ï¼ˆåˆ«æ‹…å¿ƒï¼Œè¿™åé¢æˆ‘ä»¬è¿˜ä¼šè®²æ›´å¤šå†…å®¹ğŸ˜‰ï¼‰</p>
<p>æœ€åä¸€ä¸ªå‡½æ•° <code>takeOwnership</code>ï¼Œ åº”è¯¥åªæ˜¯ç®€å•åœ°æ£€æŸ¥ä»¥ç¡®ä¿ <code>msg.sender</code> å·²ç»è¢«æ‰¹å‡†æ¥æå–è¿™ä¸ªä»£å¸æˆ–è€…åƒµå°¸ã€‚è‹¥ç¡®è®¤ï¼Œå°±è°ƒç”¨ <code>_transfer</code>ï¼›</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li><p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦ç”¨ä¸€ä¸ª <code>require</code> å¥å¼æ¥æ£€æŸ¥ <code>_tokenId</code> çš„ <code>zombieApprovals</code> å’Œ <code>msg.sender</code> ç›¸ç­‰ã€‚</p>
<p> è¿™æ ·å¦‚æœ <code>msg.sender</code> æœªè¢«æˆæƒæ¥æå–è¿™ä¸ªä»£å¸ï¼Œå°†æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p>
</li>
<li><p>ä¸ºäº†è°ƒç”¨ <code>_transfer</code>ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ä»£å¸æ‰€æœ‰è€…çš„åœ°å€ï¼ˆå®ƒéœ€è¦ä¸€ä¸ª <code>_from</code> æ¥ä½œä¸ºå‚æ•°ï¼‰ã€‚å¹¸è¿çš„æ˜¯æˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬çš„ <code>ownerOf</code> å‡½æ•°ä¸­æ¥æ‰¾åˆ°è¿™ä¸ªå‚æ•°ã€‚</p>
<p> æ‰€ä»¥ï¼Œå®šä¹‰ä¸€ä¸ªåä¸º <code>owner</code> çš„ <code>address</code> å˜é‡ï¼Œå¹¶ä½¿å…¶ç­‰äº <code>ownerOf(_tokenId)</code>ã€‚</p>
</li>
<li><p>æœ€åï¼Œè°ƒç”¨ <code>_transfer</code>, å¹¶ä¼ å…¥æ‰€æœ‰å¿…é¡»çš„å‚æ•°ã€‚ï¼ˆåœ¨è¿™é‡Œä½ å¯ä»¥ç”¨ <code>msg.sender</code> ä½œä¸º <code>_to</code>ï¼Œ å› ä¸ºä»£å¸æ­£æ˜¯è¦å‘é€ç»™è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„äººï¼‰ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼š æˆ‘ä»¬å®Œå…¨å¯ä»¥ç”¨ä¸€è¡Œä»£ç æ¥å®ç°ç¬¬2ã€3ä¸¤æ­¥ã€‚ä½†æ˜¯åˆ†å¼€å†™ä¼šè®©ä»£ç æ›´æ˜“è¯»ã€‚ä¸€ç‚¹ä¸ªäººå»ºè®® :)</p>
</blockquote>
</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function takeOwnership(uint256 _tokenId) public {</span><br><span class="line">    // ä»è¿™é‡Œå¼€å§‹</span><br><span class="line">    require(msg.sender == zombieApprovals[_tokenId]);</span><br><span class="line">    address owner = ownerOf(_tokenId);</span><br><span class="line">    _transfer(owner, msg.sender, _tokenId);</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬9ç« -é¢„é˜²æº¢å‡º"><a href="#ç¬¬9ç« -é¢„é˜²æº¢å‡º" class="headerlink" title="ç¬¬9ç« : é¢„é˜²æº¢å‡º"></a>ç¬¬9ç« : é¢„é˜²æº¢å‡º</h3><p>æ­å–œä½ ï¼Œæˆ‘ä»¬å®Œæˆäº† ERC721 çš„å®ç°ã€‚</p>
<p>å¹¶ä¸æ˜¯å¾ˆå¤æ‚ï¼Œå¯¹å§ï¼Ÿå¾ˆå¤šç±»ä¼¼çš„ä»¥å¤ªåŠæ¦‚å¿µï¼Œå½“ä½ åªå¬äººä»¬è°ˆè®ºå®ƒä»¬çš„æ—¶å€™ï¼Œä¼šè§‰å¾—å¾ˆå¤æ‚ã€‚æ‰€ä»¥æœ€ç®€å•çš„ç†è§£æ–¹å¼å°±æ˜¯ä½ è‡ªå·±æ¥å®ç°å®ƒã€‚</p>
<p>ä¸è¿‡è¦è®°ä½é‚£åªæ˜¯æœ€ç®€å•çš„å®ç°ã€‚è¿˜æœ‰å¾ˆå¤šçš„ç‰¹æ€§æˆ‘ä»¬ä¹Ÿè®¸æƒ³åŠ å…¥åˆ°æˆ‘ä»¬çš„å®ç°ä¸­æ¥ï¼Œæ¯”å¦‚ä¸€äº›é¢å¤–çš„æ£€æŸ¥ï¼Œæ¥ç¡®ä¿ç”¨æˆ·ä¸ä¼šä¸å°å¿ƒæŠŠä»–ä»¬çš„åƒµå°¸è½¬ç§»ç»™<code>0</code> åœ°å€ï¼ˆè¿™è¢«ç§°ä½œ â€œçƒ§å¸â€, åŸºæœ¬ä¸Šå°±æ˜¯æŠŠä»£å¸è½¬ç§»åˆ°ä¸€ä¸ªè°ä¹Ÿæ²¡æœ‰ç§é’¥çš„åœ°å€ï¼Œè®©è¿™ä¸ªä»£å¸æ°¸è¿œä¹Ÿæ— æ³•æ¢å¤ï¼‰ã€‚ æˆ–è€…åœ¨ DApp ä¸­åŠ å…¥ä¸€äº›åŸºæœ¬çš„æ‹å–é€»è¾‘ã€‚ï¼ˆä½ èƒ½æƒ³å‡ºä¸€äº›å®ç°çš„æ–¹æ³•ä¹ˆï¼Ÿï¼‰</p>
<p>ä½†æ˜¯ä¸ºäº†è®©æˆ‘ä»¬çš„è¯¾ç¨‹ä¸è‡³äºç¦»é¢˜å¤ªè¿œï¼Œæ‰€ä»¥æˆ‘ä»¬åªä¸“æ³¨äºä¸€äº›åŸºç¡€å®ç°ã€‚å¦‚æœä½ æƒ³å­¦ä¹ ä¸€äº›æ›´æ·±å±‚æ¬¡çš„å®ç°ï¼Œå¯ä»¥åœ¨è¿™ä¸ªæ•™ç¨‹ç»“æŸåï¼Œå»çœ‹çœ‹ OpenZeppelin çš„ ERC721 åˆçº¦ã€‚</p>
<p><strong>åˆçº¦å®‰å…¨å¢å¼º: æº¢å‡ºå’Œä¸‹æº¢</strong></p>
<p>æˆ‘ä»¬å°†æ¥å­¦ä¹ ä½ åœ¨ç¼–å†™æ™ºèƒ½åˆçº¦çš„æ—¶å€™éœ€è¦æ³¨æ„çš„ä¸€ä¸ªä¸»è¦çš„å®‰å…¨ç‰¹æ€§ï¼šé˜²æ­¢æº¢å‡ºå’Œä¸‹æº¢ã€‚</p>
<p>ä»€ä¹ˆæ˜¯ <strong><em>æº¢å‡º</em></strong> (*<strong>overflow*</strong>)?</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª <code>uint8</code>, åªèƒ½å­˜å‚¨8 bitæ•°æ®ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬èƒ½å­˜å‚¨çš„æœ€å¤§æ•°å­—å°±æ˜¯äºŒè¿›åˆ¶ <code>11111111</code> (æˆ–è€…è¯´åè¿›åˆ¶çš„ 2^8 - 1 = 255).</p>
<p>æ¥çœ‹çœ‹ä¸‹é¢çš„ä»£ç ã€‚æœ€å <code>number</code> å°†ä¼šæ˜¯ä»€ä¹ˆå€¼ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uint8 number = 255;</span><br><span class="line">number++;</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯¼è‡´äº†æº¢å‡º â€” è™½ç„¶æˆ‘ä»¬åŠ äº†1ï¼Œ ä½†æ˜¯ <code>number</code> å‡ºä¹æ„æ–™åœ°ç­‰äº <code>0</code>äº†ã€‚ (å¦‚æœä½ ç»™äºŒè¿›åˆ¶ <code>11111111</code> åŠ 1, å®ƒå°†è¢«é‡ç½®ä¸º <code>00000000</code>ï¼Œå°±åƒé’Ÿè¡¨ä» <code>23:59</code> èµ°å‘ <code>00:00</code>)ã€‚</p>
<p>ä¸‹æº¢(<code>underflow</code>)ä¹Ÿç±»ä¼¼ï¼Œå¦‚æœä½ ä»ä¸€ä¸ªç­‰äº <code>0</code> çš„ <code>uint8</code> å‡å» <code>1</code>, å®ƒå°†å˜æˆ <code>255</code> (å› ä¸º <code>uint</code> æ˜¯æ— ç¬¦å·çš„ï¼Œå…¶ä¸èƒ½ç­‰äºè´Ÿæ•°)ã€‚</p>
<p>è™½ç„¶æˆ‘ä»¬åœ¨è¿™é‡Œä¸ä½¿ç”¨ <code>uint8</code>ï¼Œè€Œä¸”æ¯æ¬¡ç»™ä¸€ä¸ª <code>uint256</code> åŠ  <code>1</code> ä¹Ÿä¸å¤ªå¯èƒ½æº¢å‡º (2^256 çœŸçš„æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°äº†)ï¼Œåœ¨æˆ‘ä»¬çš„åˆçº¦ä¸­æ·»åŠ ä¸€äº›ä¿æŠ¤æœºåˆ¶ä¾ç„¶æ˜¯éå¸¸æœ‰å¿…è¦çš„ï¼Œä»¥é˜²æˆ‘ä»¬çš„ DApp ä»¥åå‡ºç°ä»€ä¹ˆå¼‚å¸¸æƒ…å†µã€‚</p>
<p><strong>ä½¿ç”¨ SafeMath</strong></p>
<p>ä¸ºäº†é˜²æ­¢è¿™äº›æƒ…å†µï¼ŒOpenZeppelin å»ºç«‹äº†ä¸€ä¸ªå«åš SafeMath çš„ <strong><em>åº“</em></strong>(*<strong>library*</strong>)ï¼Œé»˜è®¤æƒ…å†µä¸‹å¯ä»¥é˜²æ­¢è¿™äº›é—®é¢˜ã€‚</p>
<p>ä¸è¿‡åœ¨æˆ‘ä»¬ä½¿ç”¨ä¹‹å‰â€¦â€¦ ä»€ä¹ˆå«åšåº“?</p>
<p>ä¸€ä¸ª**<em>åº“</em>** æ˜¯ Solidity ä¸­ä¸€ç§ç‰¹æ®Šçš„åˆçº¦ã€‚å…¶ä¸­ä¸€ä¸ªæœ‰ç”¨çš„åŠŸèƒ½æ˜¯ç»™åŸå§‹æ•°æ®ç±»å‹å¢åŠ ä¸€äº›æ–¹æ³•ã€‚</p>
<p>æ¯”å¦‚ï¼Œä½¿ç”¨ SafeMath åº“çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ <code>using SafeMath for uint256</code> è¿™æ ·çš„è¯­æ³•ã€‚ SafeMath åº“æœ‰å››ä¸ªæ–¹æ³• â€” <code>add</code>ï¼Œ <code>sub</code>ï¼Œ <code>mul</code>ï¼Œ ä»¥åŠ <code>div</code>ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥è®© <code>uint256</code> è°ƒç”¨è¿™äº›æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">using SafeMath for uint256;</span><br><span class="line"></span><br><span class="line">uint256 a = 5;</span><br><span class="line">uint256 b = a.add(3); // 5 + 3 = 8</span><br><span class="line">uint256 c = a.mul(2); // 5 * 2 = 10</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ç« æ¥å­¦ä¹ è¿™äº›æ–¹æ³•ï¼Œä¸è¿‡ç°åœ¨æˆ‘ä»¬å…ˆå°† SafeMath åº“æ·»åŠ è¿›æˆ‘ä»¬çš„åˆçº¦ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬å·²ç»å¸®ä½ æŠŠ OpenZeppelin çš„ <code>SafeMath</code> åº“åŒ…å«è¿› <code>safemath.sol</code>äº†ï¼Œå¦‚æœä½ æƒ³çœ‹ä¸€ä¸‹ä»£ç çš„è¯ï¼Œç°åœ¨å¯ä»¥çœ‹çœ‹ï¼Œä¸è¿‡æˆ‘ä»¬ä¸‹ä¸€ç« å°†æ·±å…¥è¿›å»ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬æ¥å‘Šè¯‰æˆ‘ä»¬çš„åˆçº¦è¦ä½¿ç”¨ SafeMathã€‚æˆ‘ä»¬å°†åœ¨æˆ‘ä»¬çš„ <code>ZombieFactory</code> é‡Œè°ƒç”¨ï¼Œè¿™æ˜¯æˆ‘ä»¬çš„åŸºç¡€åˆçº¦ â€” è¿™æ ·å…¶ä»–æ‰€æœ‰ç»§æ‰¿å‡ºå»çš„å­åˆçº¦éƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸ªåº“äº†ã€‚</p>
<ol>
<li>å°† <code>safemath.sol</code> å¼•å…¥åˆ° <code>zombiefactory.sol</code>.</li>
<li>æ·»åŠ å®šä¹‰ï¼š <code>using SafeMath for uint256;</code>.</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 1. åœ¨è¿™é‡Œå¼•å…¥</span><br><span class="line">import "./safemath.sol";</span><br><span class="line"></span><br><span class="line">contract ZombieFactory is Ownable {</span><br><span class="line"></span><br><span class="line">  // 2. åœ¨è¿™é‡Œå®šä¹‰ using safemath </span><br><span class="line">    using SafeMath for uint256;</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬10ç« -SafeMath-ç¬¬äºŒéƒ¨åˆ†"><a href="#ç¬¬10ç« -SafeMath-ç¬¬äºŒéƒ¨åˆ†" class="headerlink" title="ç¬¬10ç« : SafeMath ç¬¬äºŒéƒ¨åˆ†"></a>ç¬¬10ç« : SafeMath ç¬¬äºŒéƒ¨åˆ†</h3><p>æ¥çœ‹çœ‹ SafeMath çš„éƒ¨åˆ†ä»£ç :</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">library SafeMath {</span><br><span class="line"></span><br><span class="line">  function mul(uint256 a, uint256 b) internal pure returns (uint256) {</span><br><span class="line">    if (a == 0) {</span><br><span class="line">      return 0;</span><br><span class="line">    }</span><br><span class="line">    uint256 c = a * b;</span><br><span class="line">    assert(c / a == b);</span><br><span class="line">    return c;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  function div(uint256 a, uint256 b) internal pure returns (uint256) {</span><br><span class="line">    // assert(b &gt; 0); // Solidity automatically throws when dividing by 0</span><br><span class="line">    uint256 c = a / b;</span><br><span class="line">    // assert(a == b * c + a % b); // There is no case in which this doesn't hold</span><br><span class="line">    return c;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  function sub(uint256 a, uint256 b) internal pure returns (uint256) {</span><br><span class="line">    assert(b &lt;= a);</span><br><span class="line">    return a - b;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  function add(uint256 a, uint256 b) internal pure returns (uint256) {</span><br><span class="line">    uint256 c = a + b;</span><br><span class="line">    assert(c &gt;= a);</span><br><span class="line">    return c;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>é¦–å…ˆæˆ‘ä»¬æœ‰äº† <code>library</code> å…³é”®å­— â€” åº“å’Œ <code>åˆçº¦</code>å¾ˆç›¸ä¼¼ï¼Œä½†æ˜¯åˆæœ‰ä¸€äº›ä¸åŒã€‚ å°±æˆ‘ä»¬çš„ç›®çš„è€Œè¨€ï¼Œåº“å…è®¸æˆ‘ä»¬ä½¿ç”¨ <code>using</code> å…³é”®å­—ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨æŠŠåº“çš„æ‰€æœ‰æ–¹æ³•æ·»åŠ ç»™ä¸€ä¸ªæ•°æ®ç±»å‹ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">using SafeMath for uint;</span><br><span class="line">// è¿™ä¸‹æˆ‘ä»¬å¯ä»¥ä¸ºä»»ä½• uint è°ƒç”¨è¿™äº›æ–¹æ³•äº†</span><br><span class="line">uint test = 2;</span><br><span class="line">test = test.mul(3); // test ç­‰äº 6 äº†</span><br><span class="line">test = test.add(5); // test ç­‰äº 11 äº†</span><br></pre></td></tr></tbody></table></figure>

<p>æ³¨æ„ <code>mul</code> å’Œ <code>add</code> å…¶å®éƒ½éœ€è¦ä¸¤ä¸ªå‚æ•°ã€‚ åœ¨æˆ‘ä»¬å£°æ˜äº† <code>using SafeMath for uint</code> åï¼Œæˆ‘ä»¬ç”¨æ¥è°ƒç”¨è¿™äº›æ–¹æ³•çš„ <code>uint</code> å°±è‡ªåŠ¨è¢«ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’è¿›å»äº†(åœ¨æ­¤ä¾‹ä¸­å°±æ˜¯ <code>test</code>)</p>
<p>æˆ‘ä»¬æ¥çœ‹çœ‹ <code>add</code> çš„æºä»£ç çœ‹ SafeMath åšäº†ä»€ä¹ˆ:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function add(uint256 a, uint256 b) internal pure returns (uint256) {</span><br><span class="line">  uint256 c = a + b;</span><br><span class="line">  assert(c &gt;= a);</span><br><span class="line">  return c;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åŸºæœ¬ä¸Š <code>add</code> åªæ˜¯åƒ <code>+</code> ä¸€æ ·å¯¹ä¸¤ä¸ª <code>uint</code> ç›¸åŠ ï¼Œ ä½†æ˜¯<u><strong>å®ƒç”¨ä¸€ä¸ª <code>assert</code> è¯­å¥æ¥ç¡®ä¿ç»“æœå¤§äº <code>a</code>ã€‚è¿™æ ·å°±é˜²æ­¢äº†æº¢å‡ºã€‚</strong></u></p>
<p><code>assert</code> å’Œ <code>require</code> ç›¸ä¼¼ï¼Œè‹¥ç»“æœä¸ºå¦å®ƒå°±ä¼šæŠ›å‡ºé”™è¯¯ã€‚ <code>assert</code> å’Œ <code>require</code> åŒºåˆ«åœ¨äºï¼Œ<u><strong><code>require</code> è‹¥å¤±è´¥åˆ™ä¼šè¿”è¿˜ç»™ç”¨æˆ·å‰©ä¸‹çš„ gasï¼Œ <code>assert</code> åˆ™ä¸ä¼š</strong></u>ã€‚æ‰€ä»¥å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä½ å†™ä»£ç çš„æ—¶å€™ä¼šæ¯”è¾ƒå–œæ¬¢ <code>require</code>ï¼Œ<code>assert</code> åªåœ¨ä»£ç å¯èƒ½å‡ºç°ä¸¥é‡é”™è¯¯çš„æ—¶å€™ä½¿ç”¨ï¼Œæ¯”å¦‚ <code>uint</code> æº¢å‡ºã€‚</p>
<p>æ‰€ä»¥ç®€è€Œè¨€ä¹‹ï¼Œ SafeMath çš„ <code>add</code>ï¼Œ <code>sub</code>ï¼Œ <code>mul</code>ï¼Œ å’Œ <code>div</code> æ–¹æ³•åªåšç®€å•çš„å››åˆ™è¿ç®—ï¼Œç„¶ååœ¨å‘ç”Ÿæº¢å‡ºæˆ–ä¸‹æº¢çš„æ—¶å€™æŠ›å‡ºé”™è¯¯ã€‚</p>
<p><strong>åœ¨æˆ‘ä»¬çš„ä»£ç é‡Œä½¿ç”¨ SafeMath</strong></p>
<p>ä¸ºäº†é˜²æ­¢æº¢å‡ºå’Œä¸‹æº¢ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬çš„ä»£ç é‡Œæ‰¾ <code>+</code>ï¼Œ <code>-</code>ï¼Œ <code>*</code>ï¼Œ æˆ– <code>/</code>ï¼Œç„¶åæ›¿æ¢ä¸º <code>add</code>, <code>sub</code>, <code>mul</code>, <code>div</code>.</p>
<p>æ¯”å¦‚ï¼Œä¸å…¶è¿™æ ·åš:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myUint++;</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬è¿™æ ·åšï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myUint = myUint.add(1);</span><br></pre></td></tr></tbody></table></figure>

<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>åœ¨ <code>ZombieOwnership</code> ä¸­æœ‰ä¸¤ä¸ªåœ°æ–¹ç”¨åˆ°äº†æ•°å­¦è¿ç®—ï¼Œæ¥æ›¿æ¢æˆ SafeMath æ–¹æ³•æŠŠã€‚</p>
<ol>
<li>å°† <code>++</code> æ›¿æ¢æˆ SafeMath æ–¹æ³•ã€‚</li>
<li>å°† <code>--</code> æ›¿æ¢æˆ SafeMath æ–¹æ³•ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function _transfer(address _from, address _to, uint256 _tokenId) private {</span><br><span class="line">    // 1. æ›¿æ¢æˆ SafeMath çš„ `add`</span><br><span class="line">    //ownerZombieCount[_to]++;</span><br><span class="line">    ownerZombieCount[_to] = ownerZombieCount[_to].add(1);</span><br><span class="line">    // 2. æ›¿æ¢æˆ SafeMath çš„ `sub`</span><br><span class="line">    //ownerZombieCount[_from]--;</span><br><span class="line">    ownerZombieCount[_from] = ownerZombieCount[_from].sub(1);</span><br><span class="line">    zombieToOwner[_tokenId] = _to;</span><br><span class="line">    Transfer(_from, _to, _tokenId);</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬11ç« -SafeMath-ç¬¬ä¸‰éƒ¨åˆ†"><a href="#ç¬¬11ç« -SafeMath-ç¬¬ä¸‰éƒ¨åˆ†" class="headerlink" title="ç¬¬11ç« : SafeMath ç¬¬ä¸‰éƒ¨åˆ†"></a>ç¬¬11ç« : SafeMath ç¬¬ä¸‰éƒ¨åˆ†</h3><p>å¤ªå¥½äº†ï¼Œè¿™ä¸‹æˆ‘ä»¬çš„ ERC721 å®ç°ä¸ä¼šæœ‰æº¢å‡ºæˆ–è€…ä¸‹æº¢äº†ã€‚</p>
<p>å›å¤´çœ‹çœ‹æˆ‘ä»¬åœ¨ä¹‹å‰è¯¾ç¨‹å†™çš„ä»£ç ï¼Œè¿˜æœ‰å…¶ä»–å‡ ä¸ªåœ°æ–¹ä¹Ÿæœ‰å¯èƒ½å¯¼è‡´æº¢å‡ºæˆ–ä¸‹æº¢ã€‚</p>
<p>æ¯”å¦‚ï¼Œ åœ¨ ZombieAttack é‡Œé¢æˆ‘ä»¬æœ‰ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myZombie.winCount++;</span><br><span class="line">myZombie.level++;</span><br><span class="line">enemyZombie.lossCount++;</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬åŒæ ·åº”è¯¥åœ¨è¿™äº›åœ°æ–¹é˜²æ­¢æº¢å‡ºã€‚ï¼ˆé€šå¸¸æƒ…å†µä¸‹ï¼Œæ€»æ˜¯ä½¿ç”¨ SafeMath è€Œä¸æ˜¯æ™®é€šæ•°å­¦è¿ç®—æ˜¯ä¸ªå¥½ä¸»æ„ï¼Œä¹Ÿè®¸åœ¨ä»¥å Solidity çš„æ–°ç‰ˆæœ¬é‡Œè¿™ç‚¹ä¼šè¢«é»˜è®¤å®ç°ï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬å¾—è‡ªå·±åœ¨ä»£ç é‡Œå®ç°è¿™äº›é¢å¤–çš„å®‰å…¨æªæ–½ï¼‰ã€‚</p>
<p>ä¸è¿‡æˆ‘ä»¬é‡åˆ°ä¸ªå°é—®é¢˜ â€” <code>winCount</code> å’Œ <code>lossCount</code> æ˜¯ <code>uint16</code>ï¼Œ è€Œ <code>level</code> æ˜¯ <code>uint32</code>ã€‚ æ‰€ä»¥å¦‚æœæˆ‘ä»¬ç”¨è¿™äº›ä½œä¸ºå‚æ•°ä¼ å…¥ SafeMath çš„ <code>add</code> æ–¹æ³•ã€‚ å®ƒå®é™…ä¸Šå¹¶ä¸ä¼šé˜²æ­¢æº¢å‡ºï¼Œå› ä¸ºå®ƒä¼šæŠŠè¿™äº›å˜é‡éƒ½è½¬æ¢æˆ <code>uint256</code>:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function add(uint256 a, uint256 b) internal pure returns (uint256) {</span><br><span class="line">  uint256 c = a + b;</span><br><span class="line">  assert(c &gt;= a);</span><br><span class="line">  return c;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">// å¦‚æœæˆ‘ä»¬åœ¨`uint8` ä¸Šè°ƒç”¨ `.add`ã€‚å®ƒå°†ä¼šè¢«è½¬æ¢æˆ `uint256`.</span><br><span class="line">// æ‰€ä»¥å®ƒä¸ä¼šåœ¨ 2^8 æ—¶æº¢å‡ºï¼Œå› ä¸º 256 æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ `uint256`.</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™å°±æ„å‘³ç€ï¼Œæˆ‘ä»¬éœ€è¦å†å®ç°ä¸¤ä¸ªåº“æ¥é˜²æ­¢ <code>uint16</code> å’Œ <code>uint32</code> æº¢å‡ºæˆ–ä¸‹æº¢ã€‚æˆ‘ä»¬å¯ä»¥å°†å…¶å‘½åä¸º <code>SafeMath16</code> å’Œ <code>SafeMath32</code>ã€‚</p>
<p>ä»£ç å°†å’Œ SafeMath å®Œå…¨ç›¸åŒï¼Œé™¤äº†æ‰€æœ‰çš„ <code>uint256</code> å®ä¾‹éƒ½å°†è¢«æ›¿æ¢æˆ <code>uint32</code> æˆ– <code>uint16</code>ã€‚</p>
<p>æˆ‘ä»¬å·²ç»å°†è¿™äº›ä»£ç å¸®ä½ å†™å¥½äº†ï¼Œæ‰“å¼€ <code>safemath.sol</code> åˆçº¦çœ‹çœ‹ä»£ç å§ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬éœ€è¦åœ¨ ZombieFactory é‡Œä½¿ç”¨å®ƒä»¬ã€‚</p>
<p><strong>Putting it to the Test</strong></p>
<p>åˆ†é…ï¼š</p>
<ol>
<li>å£°æ˜æˆ‘ä»¬å°†ä¸º <code>uint32</code> ä½¿ç”¨<code>SafeMath32</code>ã€‚</li>
<li>å£°æ˜æˆ‘ä»¬å°†ä¸º <code>uint16</code> ä½¿ç”¨<code>SafeMath16</code>ã€‚</li>
<li>åœ¨ ZombieFactory é‡Œè¿˜æœ‰ä¸€å¤„æˆ‘ä»¬ä¹Ÿåº”è¯¥ä½¿ç”¨ SafeMath çš„æ–¹æ³•ï¼Œ æˆ‘ä»¬å·²ç»åœ¨é‚£é‡Œç•™äº†æ³¨é‡Šæé†’ä½ ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">contract ZombieFactory is Ownable {</span><br><span class="line"></span><br><span class="line">  using SafeMath for uint256;</span><br><span class="line">  // 1. ä¸º uint32 å£°æ˜ ä½¿ç”¨ SafeMath32</span><br><span class="line">  // 2. ä¸º uint16 å£°æ˜ ä½¿ç”¨ SafeMath16</span><br><span class="line">  using SafeMath32 for uint32;</span><br><span class="line">  using SafeMath16 for uint16;</span><br><span class="line">  â€¦â€¦â€¦â€¦â€¦â€¦</span><br><span class="line">  function _createZombie(string _name, uint _dna) internal {</span><br><span class="line">    // æ³¨æ„: æˆ‘ä»¬é€‰æ‹©ä¸å¤„ç†2038å¹´é—®é¢˜ï¼Œæ‰€ä»¥ä¸ç”¨æ‹…å¿ƒ readyTime çš„æº¢å‡º</span><br><span class="line">    // åæ­£åœ¨2038å¹´æˆ‘ä»¬çš„APPæ—©å®Œè›‹äº†</span><br><span class="line">    uint id = zombies.push(Zombie(_name, _dna, 1, uint32(now + cooldownTime), 0, 0)) - 1;</span><br><span class="line">    zombieToOwner[id] = msg.sender;</span><br><span class="line">    // 3. åœ¨è¿™é‡Œä½¿ç”¨ SafeMath çš„ `add` æ–¹æ³•:</span><br><span class="line">    //ownerZombieCount[msg.sender]++;</span><br><span class="line">    ownerZombieCount[msg.sender] = ownerZombieCount[msg.sender].add(1);</span><br><span class="line">    NewZombie(id, _name, _dna);</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬12ç« -SafeMath-ç¬¬4éƒ¨åˆ†"><a href="#ç¬¬12ç« -SafeMath-ç¬¬4éƒ¨åˆ†" class="headerlink" title="ç¬¬12ç« : SafeMath ç¬¬4éƒ¨åˆ†"></a>ç¬¬12ç« : SafeMath ç¬¬4éƒ¨åˆ†</h3><p>çœŸæ£’ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»ä¸ºæˆ‘ä»¬çš„ DApp é‡Œé¢ç”¨åˆ°çš„ <code>uint</code> æ•°æ®ç±»å‹éƒ½å®ç°äº† SafeMath äº†ã€‚</p>
<p>è®©æˆ‘ä»¬æŠŠ <code>ZombieAttack</code> é‡Œæ‰€æœ‰æ½œåœ¨çš„é—®é¢˜éƒ½ä¿®å¤äº†å§ã€‚ ï¼ˆå…¶å®åœ¨ <code>ZombieHelper</code> é‡Œä¹Ÿæœ‰ä¸€å¤„ <code>zombies[_zombieId].level++;</code> éœ€è¦ä¿®å¤ï¼Œä¸è¿‡æˆ‘ä»¬å·²ç»å¸®ä½ åšå¥½äº†ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨å†æ¥ä¸€ç« äº† ğŸ˜‰ï¼‰ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æ”¾å¿ƒå¤§èƒ†å»å¯¹ <code>ZombieAttack</code> é‡Œæ‰€æœ‰çš„ <code>++</code> æ“ä½œéƒ½ä½¿ç”¨ SafeMath æ–¹æ³•å§ã€‚ä¸ºäº†æ–¹ä¾¿ä½ æ‰¾ï¼Œæˆ‘ä»¬å·²ç»åœ¨ç›¸åº”çš„åœ°æ–¹ç•™äº†æ³¨é‡Šç»™ä½ ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">import "./zombiehelper.sol";</span><br><span class="line"></span><br><span class="line">contract ZombieBattle is ZombieHelper {</span><br><span class="line">  uint randNonce = 0;</span><br><span class="line">  uint attackVictoryProbability = 70;</span><br><span class="line"></span><br><span class="line">  function randMod(uint _modulus) internal returns(uint) {</span><br><span class="line">    // è¿™å„¿æœ‰ä¸€ä¸ª</span><br><span class="line">    //randNonce++;</span><br><span class="line">    randNonce = randNonce.add(1);</span><br><span class="line">    return uint(keccak256(now, msg.sender, randNonce)) % _modulus;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  function attack(uint _zombieId, uint _targetId) external onlyOwnerOf(_zombieId) {</span><br><span class="line">    Zombie storage myZombie = zombies[_zombieId];</span><br><span class="line">    Zombie storage enemyZombie = zombies[_targetId];</span><br><span class="line">    uint rand = randMod(100);</span><br><span class="line">    if (rand &lt;= attackVictoryProbability) {</span><br><span class="line">      // è¿™é‡Œæœ‰ä¸‰ä¸ª</span><br><span class="line">      //myZombie.winCount++;</span><br><span class="line">      myZombie.winCount = myZombie.winCount.add(1);</span><br><span class="line">      //myZombie.level++;</span><br><span class="line">      myZombie.level = myZombie.level.add(1);</span><br><span class="line">      //enemyZombie.lossCount++;</span><br><span class="line">      enemyZombie.lossCount = enemyZombie.lossCount.add(1);</span><br><span class="line">      feedAndMultiply(_zombieId, enemyZombie.dna, "zombie");</span><br><span class="line">    } else {</span><br><span class="line">      // è¿™å„¿è¿˜æœ‰ä¿©å“¦</span><br><span class="line">      //myZombie.lossCount++;</span><br><span class="line">        myZombie.lossCount = myZombie.lossCount.add(1);</span><br><span class="line">      //enemyZombie.winCount++;</span><br><span class="line">        enemyZombie.winCount = enemyZombie.winCount.add(1);</span><br><span class="line">      _triggerCooldown(myZombie);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬13ç« -æ³¨é‡Š"><a href="#ç¬¬13ç« -æ³¨é‡Š" class="headerlink" title="ç¬¬13ç« : æ³¨é‡Š"></a>ç¬¬13ç« : æ³¨é‡Š</h3><p>åƒµå°¸æ¸¸æˆçš„ Solidity ä»£ç ç»ˆäºå®Œæˆå•¦ã€‚</p>
<p>åœ¨ä»¥åçš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•å°†æ¸¸æˆéƒ¨ç½²åˆ°ä»¥å¤ªåŠï¼Œä»¥åŠå¦‚ä½•å’Œ Web3.js äº¤äº’ã€‚</p>
<p>ä¸è¿‡åœ¨ä½ ç¦»å¼€ç¬¬äº”è¯¾ä¹‹å‰ï¼Œæˆ‘ä»¬æ¥è°ˆè°ˆå¦‚ä½• <strong>ç»™ä½ çš„ä»£ç æ·»åŠ æ³¨é‡Š</strong>.</p>
<p><strong>æ³¨é‡Šè¯­æ³•</strong></p>
<p>Solidity é‡Œçš„æ³¨é‡Šå’Œ JavaScript ç›¸åŒã€‚åœ¨æˆ‘ä»¬çš„è¯¾ç¨‹ä¸­ä½ å·²ç»çœ‹åˆ°äº†ä¸å°‘å•è¡Œæ³¨é‡Šäº†ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// è¿™æ˜¯ä¸€ä¸ªå•è¡Œæ³¨é‡Šï¼Œå¯ä»¥ç†è§£ä¸ºç»™è‡ªå·±æˆ–è€…åˆ«äººçœ‹çš„ç¬”è®°</span><br></pre></td></tr></tbody></table></figure>

<p>åªè¦åœ¨ä»»ä½•åœ°æ–¹æ·»åŠ ä¸€ä¸ª <code>//</code> å°±æ„å‘³ç€ä½ åœ¨æ³¨é‡Šã€‚å¦‚æ­¤ç®€å•æ‰€ä»¥ä½ åº”è¯¥ç»å¸¸è¿™ä¹ˆåšã€‚</p>
<p>ä¸è¿‡æˆ‘ä»¬ä¹ŸçŸ¥é“ä½ çš„æƒ³æ³•ï¼šæœ‰æ—¶å€™å•è¡Œæ³¨é‡Šæ˜¯ä¸å¤Ÿçš„ã€‚æ¯•ç«Ÿä½ ç”Ÿæ¥è¯ç—¨ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬æœ‰äº†å¤šè¡Œæ³¨é‡Šï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">contract CryptoZombies {</span><br><span class="line">  /* è¿™æ˜¯ä¸€ä¸ªå¤šè¡Œæ³¨é‡Šã€‚æˆ‘æƒ³å¯¹æ‰€æœ‰èŠ±æ—¶é—´æ¥å°è¯•è¿™ä¸ªç¼–ç¨‹è¯¾ç¨‹çš„äººè¯´å£°è°¢è°¢ã€‚</span><br><span class="line">  å®ƒæ˜¯å…è´¹çš„ï¼Œå¹¶å°†æ°¸è¿œå…è´¹ã€‚ä½†æ˜¯æˆ‘ä»¬ä¾ç„¶å€¾æ³¨äº†æˆ‘ä»¬çš„å¿ƒè¡€æ¥è®©å®ƒå˜å¾—æ›´å¥½ã€‚</span><br><span class="line"></span><br><span class="line">   è¦çŸ¥é“è¿™ä¾ç„¶åªæ˜¯åŒºå—é“¾å¼€å‘çš„å¼€å§‹è€Œå·²ï¼Œè™½ç„¶æˆ‘ä»¬å·²ç»èµ°äº†å¾ˆè¿œï¼Œ</span><br><span class="line">   ä»ç„¶æœ‰å¾ˆå¤šç§æ–¹å¼æ¥è®©æˆ‘ä»¬çš„ç¤¾åŒºå˜å¾—æ›´å¥½ã€‚</span><br><span class="line">   å¦‚æœæˆ‘ä»¬åœ¨å“ªä¸ªåœ°æ–¹å‡ºäº†é”™ï¼Œæ¬¢è¿åœ¨æˆ‘ä»¬çš„ github æäº¤ PR æˆ–è€… issue æ¥å¸®åŠ©æˆ‘ä»¬æ”¹è¿›ï¼š</span><br><span class="line">    https://github.com/loomnetwork/cryptozombie-lessons</span><br><span class="line"></span><br><span class="line">    æˆ–è€…ï¼Œå¦‚æœä½ æœ‰ä»»ä½•çš„æƒ³æ³•ã€å»ºè®®ç”šè‡³ä»…ä»…æƒ³å’Œæˆ‘ä»¬æ‰“å£°æ‹›å‘¼ï¼Œæ¬¢è¿æ¥æˆ‘ä»¬çš„ç”µæŠ¥ç¾¤ï¼š</span><br><span class="line">     https://t.me/loomnetworkdev</span><br><span class="line">  */</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç‰¹åˆ«æ˜¯ï¼Œæœ€å¥½ä¸ºä½ åˆçº¦ä¸­æ¯ä¸ªæ–¹æ³•æ·»åŠ æ³¨é‡Šæ¥è§£é‡Šå®ƒçš„é¢„æœŸè¡Œä¸ºã€‚è¿™æ ·å…¶ä»–å¼€å‘è€…ï¼ˆæˆ–è€…ä½ è‡ªå·±ï¼Œåœ¨6ä¸ªæœˆä»¥åå†å›åˆ°è¿™ä¸ªé¡¹ç›®ä¸­ï¼‰å¯ä»¥å¾ˆå¿«åœ°ç†è§£ä½ çš„ä»£ç è€Œä¸éœ€è¦é€è¡Œé˜…è¯»æ‰€æœ‰ä»£ç ã€‚</p>
<p>Solidity ç¤¾åŒºæ‰€ä½¿ç”¨çš„ä¸€ä¸ªæ ‡å‡†æ˜¯ä½¿ç”¨ä¸€ç§è¢«ç§°ä½œ *<strong>natspec*</strong> çš„æ ¼å¼ï¼Œçœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/// @title ä¸€ä¸ªç®€å•çš„åŸºç¡€è¿ç®—åˆçº¦</span><br><span class="line">/// @author H4XF13LD MORRIS ğŸ’¯ğŸ’¯ğŸ˜ğŸ’¯ğŸ’¯</span><br><span class="line">/// @notice ç°åœ¨ï¼Œè¿™ä¸ªåˆçº¦åªæ·»åŠ ä¸€ä¸ªä¹˜æ³•</span><br><span class="line">contract Math {</span><br><span class="line">  /// @notice ä¸¤ä¸ªæ•°ç›¸ä¹˜</span><br><span class="line">  /// @param x ç¬¬ä¸€ä¸ª uint</span><br><span class="line">  /// @param y  ç¬¬äºŒä¸ª uint</span><br><span class="line">  /// @return z  (x * y) çš„ç»“æœ</span><br><span class="line">  /// @dev ç°åœ¨è¿™ä¸ªæ–¹æ³•ä¸æ£€æŸ¥æº¢å‡º</span><br><span class="line">  function multiply(uint x, uint y) returns (uint z) {</span><br><span class="line">    // è¿™åªæ˜¯ä¸ªæ™®é€šçš„æ³¨é‡Šï¼Œä¸ä¼šè¢« natspec è§£é‡Š</span><br><span class="line">    z = x * y;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><code>@title</code>ï¼ˆæ ‡é¢˜ï¼‰ å’Œ <code>@author</code> ï¼ˆä½œè€…ï¼‰å¾ˆç›´æ¥äº†.</p>
<p><code>@notice</code> ï¼ˆé¡»çŸ¥ï¼‰å‘ <strong>ç”¨æˆ·</strong> è§£é‡Šè¿™ä¸ªæ–¹æ³•æˆ–è€…åˆçº¦æ˜¯åšä»€ä¹ˆçš„ã€‚ <code>@dev</code> ï¼ˆå¼€å‘è€…ï¼‰ æ˜¯å‘å¼€å‘è€…è§£é‡Šæ›´å¤šçš„ç»†èŠ‚ã€‚</p>
<p><code>@param</code> ï¼ˆå‚æ•°ï¼‰å’Œ <code>@return</code> ï¼ˆè¿”å›ï¼‰ ç”¨æ¥æè¿°è¿™ä¸ªæ–¹æ³•éœ€è¦ä¼ å…¥ä»€ä¹ˆå‚æ•°ä»¥åŠè¿”å›ä»€ä¹ˆå€¼ã€‚</p>
<p>æ³¨æ„ä½ å¹¶ä¸éœ€è¦æ¯æ¬¡éƒ½ç”¨ä¸Šæ‰€æœ‰çš„æ ‡ç­¾ï¼Œå®ƒä»¬éƒ½æ˜¯å¯é€‰çš„ã€‚ä¸è¿‡æœ€å°‘ï¼Œå†™ä¸‹ä¸€ä¸ª <code>@dev</code> æ³¨é‡Šæ¥è§£é‡Šæ¯ä¸ªæ–¹æ³•æ˜¯åšä»€ä¹ˆçš„ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>å¦‚æœä½ è¿˜æ²¡æ³¨æ„åˆ°ï¼šCryptoZombies çš„ç­”æ¡ˆæ£€æŸ¥å™¨åœ¨å·¥ä½œçš„æ—¶å€™å°†å¿½ç•¥æ‰€æœ‰çš„æ³¨é‡Šã€‚æ‰€ä»¥è¿™ä¸€ç« æˆ‘ä»¬å…¶å®æ— æ³•æ£€æŸ¥ä½ çš„ natspec æ³¨é‡Šäº†ã€‚å…¨é ä½ è‡ªå·±å’¯ã€‚</p>
<p>è¯è¯´å›æ¥ï¼Œåˆ°ç°åœ¨ä½ åº”è¯¥å·²ç»æ˜¯ä¸€ä¸ª Solidity å°èƒ½æ‰‹äº†ã€‚æˆ‘ä»¬å°±å‡å®šä½ å·²ç»å­¦ä¼šè¿™äº›äº†ã€‚</p>
<p>å¤§èƒ†å»åšäº›å°è¯•æŠŠï¼Œç»™ <code>ZombieOwnership</code> åŠ ä¸Šä¸€äº› natspec æ ‡ç­¾:</p>
<ol>
<li><code>@title</code> â€” ä¾‹å¦‚ï¼šä¸€ä¸ªç®¡ç†è½¬ç§»åƒµå°¸æ‰€æœ‰æƒçš„åˆçº¦</li>
<li><code>@author</code> â€” ä½ çš„åå­—</li>
<li><code>@dev</code> â€” ä¾‹å¦‚ï¼šç¬¦åˆ OpenZeppelin å¯¹ ERC721 æ ‡å‡†è‰æ¡ˆçš„å®ç°</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.19;</span><br><span class="line"></span><br><span class="line">import "./zombieattack.sol";</span><br><span class="line">import "./erc721.sol";</span><br><span class="line">import "./safemath.sol";</span><br><span class="line"></span><br><span class="line">/// TODO: æŠŠè¿™é‡Œå˜æˆ natspec æ ‡å‡†çš„æ³¨é‡ŠæŠŠ</span><br><span class="line">/// @title ä¸€ä¸ªç®¡ç†è½¬ç§»åƒµå°¸æ‰€æœ‰æƒçš„åˆçº¦</span><br><span class="line">/// @author 0xMx1@0</span><br><span class="line">/// @dev ç¬¦åˆ OpenZeppelin å¯¹ ERC721 æ ‡å‡†è‰æ¡ˆçš„å®ç°</span><br></pre></td></tr></tbody></table></figure>

<h4 id="æ€»ç»“ä¸€ä¸‹"><a href="#æ€»ç»“ä¸€ä¸‹" class="headerlink" title="æ€»ç»“ä¸€ä¸‹"></a>æ€»ç»“ä¸€ä¸‹</h4><p>è¿™èŠ‚è¯¾é‡Œé¢æˆ‘ä»¬å­¦åˆ°äº†</p>
<ul>
<li>ä»£å¸, ERC721 æ ‡å‡†ï¼Œä»¥åŠå¯äº¤æ˜“çš„ç‰©ä»¶/åƒµå°¸</li>
<li>åº“ä»¥åŠå¦‚ä½•ä½¿ç”¨åº“</li>
<li>å¦‚ä½•åˆ©ç”¨ SafeMath æ¥é˜²æ­¢æº¢å‡ºå’Œä¸‹æº¢</li>
<li>ä»£ç æ³¨é‡Šå’Œ natspec æ ‡å‡†</li>
</ul>
<p>åœ¨æ¥ä¸‹æ¥çš„ä¸¤èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•å°†æ¸¸æˆéƒ¨ç½²åˆ°ä»¥å¤ªåŠä»¥åŠå’Œ *<strong>web3.js*</strong> äº¤äº’ ï¼ˆè¿™æ ·ä½ å°±èƒ½ä¸ºä½ çš„ DApp æ‰“é€ ä¸€ä¸ªç•Œé¢äº† ï¼‰ã€‚</p>
<h2 id="lesson6-åº”ç”¨å‰ç«¯å’Œ-Web3-js"><a href="#lesson6-åº”ç”¨å‰ç«¯å’Œ-Web3-js" class="headerlink" title="lesson6 åº”ç”¨å‰ç«¯å’Œ Web3.js"></a>lesson6 åº”ç”¨å‰ç«¯å’Œ Web3.js</h2><h3 id="ç¬¬1ç« -ä»‹ç»-Web3-js"><a href="#ç¬¬1ç« -ä»‹ç»-Web3-js" class="headerlink" title="ç¬¬1ç« : ä»‹ç» Web3.js"></a>ç¬¬1ç« : ä»‹ç» Web3.js</h3><p>å®Œæˆç¬¬äº”è¯¾ä»¥åï¼Œæˆ‘ä»¬çš„åƒµå°¸ DApp çš„ Solidity åˆçº¦éƒ¨åˆ†å°±å®Œæˆäº†ã€‚ç°åœ¨æˆ‘ä»¬æ¥åšä¸€ä¸ªåŸºæœ¬çš„ç½‘é¡µå¥½è®©ä½ çš„ç”¨æˆ·èƒ½ç©å®ƒã€‚ è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥å¤ªåŠåŸºé‡‘å‘å¸ƒçš„ JavaScript åº“ â€”â€” *<strong>Web3.js*</strong>.</p>
<p><strong>ä»€ä¹ˆæ˜¯ Web3.js?</strong></p>
<p>è¿˜è®°å¾—ä¹ˆï¼Ÿä»¥å¤ªåŠç½‘ç»œæ˜¯ç”±èŠ‚ç‚¹ç»„æˆçš„ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«äº†åŒºå—é“¾çš„ä¸€ä»½æ‹·è´ã€‚å½“ä½ æƒ³è¦è°ƒç”¨ä¸€ä»½æ™ºèƒ½åˆçº¦çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä½ éœ€è¦ä»å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ä¸­æŸ¥æ‰¾å¹¶å‘Šè¯‰å®ƒ:</p>
<ol>
<li>æ™ºèƒ½åˆçº¦çš„åœ°å€</li>
<li>ä½ æƒ³è°ƒç”¨çš„æ–¹æ³•ï¼Œä»¥åŠ</li>
<li>ä½ æƒ³ä¼ å…¥é‚£ä¸ªæ–¹æ³•çš„å‚æ•°</li>
</ol>
<p>ä»¥å¤ªåŠèŠ‚ç‚¹åªèƒ½è¯†åˆ«ä¸€ç§å«åš <u>*<strong>JSON-RPC*</strong></u> çš„è¯­è¨€ã€‚è¿™ç§è¯­è¨€ç›´æ¥è¯»èµ·æ¥å¹¶ä¸å¥½æ‡‚ã€‚å½“ä½ ä½ æƒ³è°ƒç”¨ä¸€ä¸ªåˆçº¦çš„æ–¹æ³•çš„æ—¶å€™ï¼Œéœ€è¦å‘é€çš„æŸ¥è¯¢è¯­å¥å°†ä¼šæ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å“ˆâ€¦â€¦ç¥ä½ å†™æ‰€æœ‰è¿™æ ·çš„å‡½æ•°è°ƒç”¨çš„æ—¶å€™éƒ½ä¸€æ¬¡é€šè¿‡</span></span><br><span class="line"><span class="comment">// å¾€å³è¾¹æ‹‰â€¦â€¦ ==&gt;</span></span><br><span class="line"><span class="punctuation">{</span><span class="attr">"jsonrpc"</span><span class="punctuation">:</span><span class="string">"2.0"</span><span class="punctuation">,</span><span class="attr">"method"</span><span class="punctuation">:</span><span class="string">"eth_sendTransaction"</span><span class="punctuation">,</span><span class="attr">"params"</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">{</span><span class="attr">"from"</span><span class="punctuation">:</span><span class="string">"0xb60e8dd61c5d32be8058bb8eb970870f07233155"</span><span class="punctuation">,</span><span class="attr">"to"</span><span class="punctuation">:</span><span class="string">"0xd46e8dd67c5d32be8058bb8eb970870f07244567"</span><span class="punctuation">,</span><span class="attr">"gas"</span><span class="punctuation">:</span><span class="string">"0x76c0"</span><span class="punctuation">,</span><span class="attr">"gasPrice"</span><span class="punctuation">:</span><span class="string">"0x9184e72a000"</span><span class="punctuation">,</span><span class="attr">"value"</span><span class="punctuation">:</span><span class="string">"0x9184e72a"</span><span class="punctuation">,</span><span class="attr">"data"</span><span class="punctuation">:</span><span class="string">"0xd46e8dd67c5d32be8d46e8dd67c5d32be8058bb8eb970870f072445675058bb8eb970870f072445675"</span><span class="punctuation">}</span><span class="punctuation">]</span><span class="punctuation">,</span><span class="attr">"id"</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">}</span></span><br></pre></td></tr></tbody></table></figure>

<p>å¹¸è¿çš„æ˜¯ Web3.js æŠŠè¿™äº›ä»¤äººè®¨åŒçš„æŸ¥è¯¢è¯­å¥éƒ½éšè—èµ·æ¥äº†ï¼Œ æ‰€ä»¥ä½ åªéœ€è¦ä¸æ–¹ä¾¿æ˜“æ‡‚çš„ JavaScript ç•Œé¢è¿›è¡Œäº¤äº’å³å¯ã€‚</p>
<p>ä½ ä¸éœ€è¦æ„å»ºä¸Šé¢çš„æŸ¥è¯¢è¯­å¥ï¼Œåœ¨ä½ çš„ä»£ç ä¸­è°ƒç”¨ä¸€ä¸ªå‡½æ•°çœ‹èµ·æ¥å°†æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CryptoZombies.methods.createRandomZombie("Vitalik Nakamoto ğŸ¤”")</span><br><span class="line">  .send({ from: "0xb60e8dd61c5d32be8058bb8eb970870f07233155", gas: "3000000" })</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬å°†åœ¨æ¥ä¸‹æ¥çš„å‡ ç« è¯¦ç»†è§£é‡Šè¿™äº›è¯­å¥ï¼Œä¸è¿‡é¦–å…ˆæˆ‘ä»¬æ¥æŠŠ Web3.js ç¯å¢ƒæ­å»ºèµ·æ¥ã€‚</p>
<p><strong>å‡†å¤‡å¥½äº†ä¹ˆï¼Ÿ</strong></p>
<p>å–å†³äºä½ çš„é¡¹ç›®å·¥ä½œæµç¨‹å’Œä½ çš„çˆ±å¥½ï¼Œä½ å¯ä»¥ç”¨ä¸€äº›å¸¸ç”¨å·¥å…·æŠŠ Web3.js æ·»åŠ è¿›æ¥ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// ç”¨ NPM</span><br><span class="line">npm install web3</span><br><span class="line"></span><br><span class="line">// ç”¨ Yarn</span><br><span class="line">yarn add web3</span><br><span class="line"></span><br><span class="line">// ç”¨ Bower</span><br><span class="line">bower install web3</span><br><span class="line"></span><br><span class="line">// ...æˆ–è€…å…¶ä»–ã€‚</span><br></pre></td></tr></tbody></table></figure>

<p>ç”šè‡³ï¼Œä½ å¯ä»¥ä» <a target="_blank" rel="noopener" href="https://github.com/ethereum/web3.js/blob/1.0/dist/web3.min.js">github</a> ç›´æ¥ä¸‹è½½å‹ç¼©åçš„ <code>.js</code> æ–‡ä»¶ ç„¶ååŒ…å«åˆ°ä½ çš„é¡¹ç›®æ–‡ä»¶ä¸­ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script language=<span class="string">"javascript"</span> type=<span class="string">"text/javascript"</span> src=<span class="string">"web3.min.js"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>å› ä¸ºæˆ‘ä»¬ä¸æƒ³è®©ä½ èŠ±å¤ªå¤šåœ¨é¡¹ç›®ç¯å¢ƒæ­å»ºä¸Šï¼Œåœ¨æœ¬æ•™ç¨‹ä¸­æˆ‘ä»¬å°†ä½¿ç”¨ä¸Šé¢çš„ <code>script</code> æ ‡ç­¾æ¥å°† Web3.js å¼•å…¥ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬ä¸ºä½ å»ºç«‹äº†ä¸€ä¸ªHTML é¡¹ç›®ç©ºå£³ â€”â€” <code>index.html</code>ã€‚å‡è®¾åœ¨å’Œ <code>index.html</code> åŒä¸ªæ–‡ä»¶å¤¹é‡Œæœ‰ä¸€ä»½ <code>web3.min.js</code></p>
<ol>
<li>ä½¿ç”¨ä¸Šé¢çš„ <code>script</code> æ ‡ç­¾ä»£ç æŠŠ <code>web3.js</code> æ·»åŠ è¿›å»ä»¥å¤‡æ¥ä¸‹æ¥ä½¿ç”¨ã€‚</li>
</ol>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>CryptoZombies front-end<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">"javascript"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- Include web3.js here --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">"javascript"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"web3.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬2ç« -Web3-æä¾›è€…"><a href="#ç¬¬2ç« -Web3-æä¾›è€…" class="headerlink" title="ç¬¬2ç« : Web3 æä¾›è€…"></a>ç¬¬2ç« : Web3 æä¾›è€…</h3><p>å¤ªæ£’äº†ã€‚ç°åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­æœ‰äº†Web3.js, æ¥åˆå§‹åŒ–å®ƒç„¶åå’ŒåŒºå—é“¾å¯¹è¯å§ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ *<strong>Web3 Provider*</strong>.</p>
<p>è¦è®°ä½ï¼Œä»¥å¤ªåŠæ˜¯ç”±å…±äº«åŒä¸€ä»½æ•°æ®çš„ç›¸åŒæ‹·è´çš„ <strong><em>èŠ‚ç‚¹</em></strong> æ„æˆçš„ã€‚ åœ¨ Web3.js é‡Œè®¾ç½® Web3 çš„ <code>Provider</code>ï¼ˆæä¾›è€…ï¼‰ å‘Šè¯‰æˆ‘ä»¬çš„ä»£ç åº”è¯¥å’Œ <strong>å“ªä¸ªèŠ‚ç‚¹</strong> äº¤äº’æ¥å¤„ç†æˆ‘ä»¬çš„è¯»å†™ã€‚è¿™å°±å¥½åƒåœ¨ä¼ ç»Ÿçš„ Web åº”ç”¨ç¨‹åºä¸­ä¸ºä½ çš„ API è°ƒç”¨è®¾ç½®è¿œç¨‹ Web æœåŠ¡å™¨çš„ç½‘å€ã€‚</p>
<p>ä½ å¯ä»¥è¿è¡Œä½ è‡ªå·±çš„ä»¥å¤ªåŠèŠ‚ç‚¹æ¥ä½œä¸º Providerã€‚ ä¸è¿‡ï¼Œæœ‰ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„æœåŠ¡ï¼Œå¯ä»¥è®©ä½ çš„ç”Ÿæ´»å˜å¾—è½»æ¾ç‚¹ï¼Œè®©ä½ ä¸å¿…ä¸ºäº†ç»™ä½ çš„ç”¨æˆ·æä¾›DAppè€Œç»´æŠ¤ä¸€ä¸ªä»¥å¤ªåŠèŠ‚ç‚¹â€” *<strong>Infura*</strong>.</p>
<p><strong>Infura</strong></p>
<p><a target="_blank" rel="noopener" href="https://infura.io/">Infura</a> æ˜¯ä¸€ä¸ªæœåŠ¡ï¼Œå®ƒç»´æŠ¤äº†å¾ˆå¤šä»¥å¤ªåŠèŠ‚ç‚¹å¹¶æä¾›äº†ä¸€ä¸ªç¼“å­˜å±‚æ¥å®ç°é«˜é€Ÿè¯»å–ã€‚ä½ å¯ä»¥ç”¨ä»–ä»¬çš„ API æ¥å…è´¹è®¿é—®è¿™ä¸ªæœåŠ¡ã€‚ ç”¨ Infura ä½œä¸ºèŠ‚ç‚¹æä¾›è€…ï¼Œä½ å¯ä»¥ä¸ç”¨è‡ªå·±è¿è¥èŠ‚ç‚¹å°±èƒ½å¾ˆå¯é åœ°å‘ä»¥å¤ªåŠå‘é€ã€æ¥æ”¶ä¿¡æ¯ã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡è¿™æ ·æŠŠ Infura ä½œä¸ºä½ çš„ Web3 èŠ‚ç‚¹æä¾›è€…ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var web3 = new Web3(new Web3.providers.WebsocketProvider("wss://mainnet.infura.io/ws"));</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸è¿‡ï¼Œå› ä¸ºæˆ‘ä»¬çš„ DApp å°†è¢«å¾ˆå¤šäººä½¿ç”¨ï¼Œè¿™äº›ç”¨æˆ·ä¸å•ä¼šä»åŒºå—é“¾è¯»å–ä¿¡æ¯ï¼Œè¿˜ä¼šå‘åŒºå—é“¾ <strong><em>å†™</em></strong> å…¥ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ä¸€ä¸ªæ–¹æ³•è®©ç”¨æˆ·å¯ä»¥ç”¨ä»–ä»¬çš„ç§é’¥ç»™äº‹åŠ¡ç­¾åã€‚</p>
<blockquote>
<p>æ³¨æ„: ä»¥å¤ªåŠ (ä»¥åŠé€šå¸¸æ„ä¹‰ä¸Šçš„ blockchains )ä½¿ç”¨ä¸€ä¸ªå…¬é’¥/ç§é’¥å¯¹æ¥å¯¹ç»™äº‹åŠ¡åšæ•°å­—ç­¾åã€‚æŠŠå®ƒæƒ³æˆä¸€ä¸ªæ•°å­—ç­¾åçš„å¼‚å¸¸å®‰å…¨çš„å¯†ç ã€‚è¿™æ ·å½“æˆ‘ä¿®æ”¹åŒºå—é“¾ä¸Šçš„æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘å¯ä»¥ç”¨æˆ‘çš„å…¬é’¥æ¥ <strong>è¯æ˜</strong> æˆ‘å°±æ˜¯ç­¾åçš„é‚£ä¸ªã€‚ä½†æ˜¯å› ä¸ºæ²¡äººçŸ¥é“æˆ‘çš„ç§é’¥ï¼Œæ‰€ä»¥æ²¡äººèƒ½ä¼ªé€ æˆ‘çš„äº‹åŠ¡ã€‚</p>
</blockquote>
<p>åŠ å¯†å­¦éå¸¸å¤æ‚ï¼Œæ‰€ä»¥é™¤éä½ æ˜¯ä¸ªä¸“å®¶å¹¶ä¸”çš„ç¡®çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆï¼Œä½ æœ€å¥½ä¸è¦åœ¨ä½ åº”ç”¨çš„å‰ç«¯ä¸­ç®¡ç†ä½ ç”¨æˆ·çš„ç§é’¥ã€‚</p>
<p>ä¸è¿‡å¹¸è¿çš„æ˜¯ï¼Œä½ å¹¶ä¸éœ€è¦ï¼Œå·²ç»æœ‰å¯ä»¥å¸®ä½ å¤„ç†è¿™ä»¶äº‹çš„æœåŠ¡äº†ï¼š *<strong>Metamask*</strong>.</p>
<p><strong>Metamask</strong></p>
<p><a target="_blank" rel="noopener" href="https://metamask.io/">Metamask</a> æ˜¯ Chrome å’Œ Firefox çš„æµè§ˆå™¨æ‰©å±•ï¼Œ å®ƒèƒ½è®©ç”¨æˆ·å®‰å…¨åœ°ç»´æŠ¤ä»–ä»¬çš„ä»¥å¤ªåŠè´¦æˆ·å’Œç§é’¥ï¼Œ å¹¶ç”¨ä»–ä»¬çš„è´¦æˆ·å’Œä½¿ç”¨ Web3.js çš„ç½‘ç«™äº’åŠ¨ï¼ˆå¦‚æœä½ è¿˜æ²¡ç”¨è¿‡å®ƒï¼Œä½ è‚¯å®šä¼šæƒ³å»å®‰è£…çš„â€”â€”è¿™æ ·ä½ çš„æµè§ˆå™¨å°±èƒ½ä½¿ç”¨ Web3.js äº†ï¼Œç„¶åä½ å°±å¯ä»¥å’Œä»»ä½•ä¸ä»¥å¤ªåŠåŒºå—é“¾é€šä¿¡çš„ç½‘ç«™äº¤äº’äº†ï¼‰</p>
<p>ä½œä¸ºå¼€å‘è€…ï¼Œå¦‚æœä½ æƒ³è®©ç”¨æˆ·ä»ä»–ä»¬çš„æµè§ˆå™¨é‡Œé€šè¿‡ç½‘ç«™å’Œä½ çš„DAppäº¤äº’ï¼ˆå°±åƒæˆ‘ä»¬åœ¨ CryptoZombies æ¸¸æˆé‡Œä¸€æ ·ï¼‰ï¼Œä½ è‚¯å®šä¼šæƒ³è¦å…¼å®¹ Metamask çš„ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong>: Metamask é»˜è®¤ä½¿ç”¨ Infura çš„æœåŠ¡å™¨åšä¸º web3 æä¾›è€…ã€‚ å°±åƒæˆ‘ä»¬ä¸Šé¢åšçš„é‚£æ ·ã€‚ä¸è¿‡å®ƒè¿˜ä¸ºç”¨æˆ·æä¾›äº†é€‰æ‹©ä»–ä»¬è‡ªå·± Web3 æä¾›è€…çš„é€‰é¡¹ã€‚æ‰€ä»¥ä½¿ç”¨ Metamask çš„ web3 æä¾›è€…ï¼Œä½ å°±ç»™äº†ç”¨æˆ·é€‰æ‹©æƒï¼Œè€Œè‡ªå·±æ— éœ€æ“å¿ƒè¿™ä¸€å—ã€‚</p>
</blockquote>
<p><strong>ä½¿ç”¨ Metamask çš„ web3 æä¾›è€…</strong></p>
<p>Metamask æŠŠå®ƒçš„ web3 æä¾›è€…æ³¨å…¥åˆ°æµè§ˆå™¨çš„å…¨å±€ JavaScriptå¯¹è±¡<code>web3</code>ä¸­ã€‚æ‰€ä»¥ä½ çš„åº”ç”¨å¯ä»¥æ£€æŸ¥ <code>web3</code> æ˜¯å¦å­˜åœ¨ã€‚è‹¥å­˜åœ¨å°±ä½¿ç”¨ <code>web3.currentProvider</code> ä½œä¸ºå®ƒçš„æä¾›è€…ã€‚</p>
<p>è¿™é‡Œæ˜¯ä¸€äº› Metamask æä¾›çš„ç¤ºä¾‹ä»£ç ï¼Œç”¨æ¥æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å®‰è£…äº†MetaMaskï¼Œå¦‚æœæ²¡æœ‰å®‰è£…å°±å‘Šè¯‰ç”¨æˆ·éœ€è¦å®‰è£…MetaMaskæ¥ä½¿ç”¨æˆ‘ä»¬çš„åº”ç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener('load', function() {</span><br><span class="line"></span><br><span class="line">  // æ£€æŸ¥web3æ˜¯å¦å·²ç»æ³¨å…¥åˆ°(Mist/MetaMask)</span><br><span class="line">  if (typeof web3 !== 'undefined') {</span><br><span class="line">    // ä½¿ç”¨ Mist/MetaMask çš„æä¾›è€…</span><br><span class="line">    web3js = new Web3(web3.currentProvider);</span><br><span class="line">  } else {</span><br><span class="line">    // å¤„ç†ç”¨æˆ·æ²¡å®‰è£…çš„æƒ…å†µï¼Œ æ¯”å¦‚æ˜¾ç¤ºä¸€ä¸ªæ¶ˆæ¯</span><br><span class="line">    // å‘Šè¯‰ä»–ä»¬è¦å®‰è£… MetaMask æ¥ä½¿ç”¨æˆ‘ä»¬çš„åº”ç”¨</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  // ç°åœ¨ä½ å¯ä»¥å¯åŠ¨ä½ çš„åº”ç”¨å¹¶è‡ªç”±è®¿é—® Web3.js:</span><br><span class="line">  startApp()</span><br><span class="line"></span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>ä½ å¯ä»¥åœ¨ä½ æ‰€æœ‰çš„åº”ç”¨ä¸­ä½¿ç”¨è¿™æ®µæ ·æ¿ä»£ç ï¼Œå¥½æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å®‰è£…ä»¥åŠå‘Šè¯‰ç”¨æˆ·å®‰è£… MetaMaskã€‚</p>
<blockquote>
<p>æ³¨æ„: é™¤äº†MetaMaskï¼Œä½ çš„ç”¨æˆ·ä¹Ÿå¯èƒ½åœ¨ä½¿ç”¨å…¶ä»–ä»–çš„ç§é’¥ç®¡ç†åº”ç”¨ï¼Œæ¯”å¦‚ <strong>Mist</strong> æµè§ˆå™¨ã€‚ä¸è¿‡ï¼Œå®ƒä»¬éƒ½å®ç°äº†ç›¸åŒçš„æ¨¡å¼æ¥æ³¨å…¥ <code>web3</code> å˜é‡ã€‚æ‰€ä»¥æˆ‘è¿™é‡Œæè¿°çš„æ–¹æ³•å¯¹ä¸¤è€…æ˜¯é€šç”¨çš„ã€‚</p>
</blockquote>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬åœ¨HTMLæ–‡ä»¶ä¸­çš„ <code>&lt;/body&gt;</code> æ ‡ç­¾å‰é¢æ”¾ç½®äº†ä¸€ä¸ªç©ºçš„ <code>script</code> æ ‡ç­¾ã€‚å¯ä»¥æŠŠè¿™èŠ‚è¯¾çš„ JavaScript ä»£ç å†™åœ¨é‡Œé¢ã€‚</p>
<ol>
<li>æŠŠä¸Šé¢ç”¨æ¥æ£€æµ‹ MetaMask æ˜¯å¦å®‰è£…çš„æ¨¡æ¿ä»£ç ç²˜è´´è¿›æ¥ã€‚è¯·ç²˜è´´åˆ°ä»¥ <code>window.addEventListener</code> å¼€å¤´çš„ä»£ç å—ä¸­ã€‚</li>
</ol>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>CryptoZombies front-end<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">"javascript"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">"javascript"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"web3.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// Start here</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">'load'</span>, <span class="keyword">function</span>(<span class="params"></span>) {</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// æ£€æŸ¥web3æ˜¯å¦å·²ç»æ³¨å…¥åˆ°(Mist/MetaMask)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> (<span class="keyword">typeof</span> web3 !== <span class="string">'undefined'</span>) {</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// ä½¿ç”¨ Mist/MetaMask çš„æä¾›è€…</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        web3js = <span class="keyword">new</span> <span class="title class_">Web3</span>(web3.<span class="property">currentProvider</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      } <span class="keyword">else</span> {</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// å¤„ç†ç”¨æˆ·æ²¡å®‰è£…çš„æƒ…å†µï¼Œ æ¯”å¦‚æ˜¾ç¤ºä¸€ä¸ªæ¶ˆæ¯</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// å‘Šè¯‰ä»–ä»¬è¦å®‰è£… MetaMask æ¥ä½¿ç”¨æˆ‘ä»¬çš„åº”ç”¨</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      }</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// ç°åœ¨ä½ å¯ä»¥å¯åŠ¨ä½ çš„åº”ç”¨å¹¶è‡ªç”±è®¿é—® Web3.js:</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">startApp</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    })</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬3ç« -å’Œåˆçº¦å¯¹è¯"><a href="#ç¬¬3ç« -å’Œåˆçº¦å¯¹è¯" class="headerlink" title="ç¬¬3ç« : å’Œåˆçº¦å¯¹è¯"></a>ç¬¬3ç« : å’Œåˆçº¦å¯¹è¯</h3><p>ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»ç”¨ MetaMask çš„ Web3 æä¾›è€…åˆå§‹åŒ–äº† Web3.jsã€‚æ¥ä¸‹æ¥å°±è®©å®ƒå’Œæˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦å¯¹è¯å§ã€‚</p>
<p>Web3.js éœ€è¦ä¸¤ä¸ªä¸œè¥¿æ¥å’Œä½ çš„åˆçº¦å¯¹è¯: å®ƒçš„ <strong><em>åœ°å€</em></strong> å’Œå®ƒçš„ ***ABI***ã€‚</p>
<p><strong>åˆçº¦åœ°å€</strong></p>
<p>åœ¨ä½ å†™å®Œäº†ä½ çš„æ™ºèƒ½åˆçº¦åï¼Œä½ éœ€è¦ç¼–è¯‘å®ƒå¹¶æŠŠå®ƒéƒ¨ç½²åˆ°ä»¥å¤ªåŠã€‚æˆ‘ä»¬å°†åœ¨<strong>ä¸‹ä¸€è¯¾</strong>ä¸­è¯¦è¿°<strong>éƒ¨ç½²</strong>ï¼Œå› ä¸ºå®ƒå’Œå†™ä»£ç æ˜¯æˆªç„¶ä¸åŒçš„è¿‡ç¨‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å†³å®šæ‰“ä¹±é¡ºåºï¼Œå…ˆæ¥è®² Web3.jsã€‚</p>
<p>åœ¨ä½ éƒ¨ç½²æ™ºèƒ½åˆçº¦ä»¥åï¼Œå®ƒå°†è·å¾—ä¸€ä¸ªä»¥å¤ªåŠä¸Šçš„æ°¸ä¹…åœ°å€ã€‚å¦‚æœä½ è¿˜è®°å¾—ç¬¬äºŒè¯¾ï¼ŒCryptoKitties åœ¨ä»¥å¤ªåŠä¸Šçš„åœ°å€æ˜¯ <code>0x06012c8cf97BEaD5deAe237070F9587f8E7A266d</code>ã€‚</p>
<p>ä½ éœ€è¦åœ¨éƒ¨ç½²åå¤åˆ¶è¿™ä¸ªåœ°å€ä»¥æ¥å’Œä½ çš„æ™ºèƒ½åˆçº¦å¯¹è¯ã€‚</p>
<p><strong>åˆçº¦ ABI</strong></p>
<p>å¦ä¸€ä¸ª Web3.js ä¸ºäº†è¦å’Œä½ çš„æ™ºèƒ½åˆçº¦å¯¹è¯è€Œéœ€è¦çš„ä¸œè¥¿æ˜¯ ***ABI***ã€‚</p>
<p>ABI æ„ä¸ºåº”ç”¨äºŒè¿›åˆ¶æ¥å£ï¼ˆApplication Binary Interfaceï¼‰ã€‚ åŸºæœ¬ä¸Šï¼Œå®ƒæ˜¯ä»¥ JSON æ ¼å¼è¡¨ç¤ºåˆçº¦çš„æ–¹æ³•ï¼Œå‘Šè¯‰ Web3.js å¦‚ä½•ä»¥åˆåŒç†è§£çš„æ–¹å¼æ ¼å¼åŒ–å‡½æ•°è°ƒç”¨ã€‚</p>
<p>å½“ä½ ç¼–è¯‘ä½ çš„åˆçº¦å‘ä»¥å¤ªåŠéƒ¨ç½²æ—¶(æˆ‘ä»¬å°†åœ¨ç¬¬ä¸ƒè¯¾è¯¦è¿°)ï¼Œ Solidity ç¼–è¯‘å™¨ä¼šç»™ä½  ABIï¼Œæ‰€ä»¥é™¤äº†åˆçº¦åœ°å€ï¼Œä½ è¿˜éœ€è¦æŠŠè¿™ä¸ªä¹Ÿå¤åˆ¶ä¸‹æ¥ã€‚</p>
<p>å› ä¸ºæˆ‘ä»¬è¿™ä¸€è¯¾ä¸ä¼šè®²è¿°éƒ¨ç½²ï¼Œæ‰€ä»¥ç°åœ¨æˆ‘ä»¬å·²ç»å¸®ä½ ç¼–è¯‘äº† ABI å¹¶æ”¾åœ¨äº†åä¸º<code>cryptozombies_abi.js</code>ï¼Œæ–‡ä»¶ä¸­ï¼Œä¿å­˜åœ¨ä¸€ä¸ªåä¸º <code>cryptoZombiesABI</code> çš„å˜é‡ä¸­ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬å°†<code>cryptozombies_abi.js</code> åŒ…å«è¿›æˆ‘ä»¬çš„é¡¹ç›®ï¼Œæˆ‘ä»¬å°±èƒ½é€šè¿‡é‚£ä¸ªå˜é‡è®¿é—® CryptoZombies ABI ã€‚</p>
<p><strong>å®ä¾‹åŒ– Web3.js</strong></p>
<p>ä¸€æ—¦ä½ æœ‰äº†åˆçº¦çš„åœ°å€å’Œ ABIï¼Œä½ å¯ä»¥åƒè¿™æ ·æ¥å®ä¾‹åŒ– Web3.jsã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// å®ä¾‹åŒ– myContract</span><br><span class="line">var myContract = new web3js.eth.Contract(myABI, myContractAddress);</span><br></pre></td></tr></tbody></table></figure>

<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<ol>
<li>åœ¨æ–‡ä»¶çš„ <code>&lt;head&gt;</code> æ ‡ç­¾å—ä¸­ï¼Œç”¨ <code>script</code> æ ‡ç­¾å¼•å…¥<code>cryptozombies_abi.js</code>ï¼Œå¥½æŠŠ ABI çš„å®šä¹‰å¼•å…¥é¡¹ç›®ã€‚</li>
<li>åœ¨ <code>&lt;body&gt;</code> é‡Œçš„ <code>&lt;script&gt;</code> å¼€å¤´ , å®šä¹‰ä¸€ä¸ª<code>var</code>ï¼Œå–å <code>cryptoZombies</code>ï¼Œ ä¸è¿‡ä¸è¦å¯¹å…¶èµ‹å€¼ï¼Œç¨åæˆ‘ä»¬å°†ç”¨è¿™ä¸ªè¿™ä¸ªå˜é‡æ¥å­˜å‚¨æˆ‘ä»¬å®ä¾‹åŒ–åˆçº¦ã€‚</li>
<li>æ¥ä¸‹æ¥ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º <code>startApp()</code> çš„ <code>function</code>ã€‚ æ¥ä¸‹æ¥ä¸¤æ­¥æ¥å®Œæˆè¿™ä¸ªæ–¹æ³•ã€‚</li>
<li><code>startApp()</code> é‡Œåº”è¯¥åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯å®šä¹‰ä¸€ä¸ªåä¸º<code>cryptoZombiesAddress</code> çš„å˜é‡å¹¶èµ‹å€¼ä¸º<code>"ä½ çš„åˆçº¦åœ°å€"</code> (è¿™æ˜¯ä½ çš„åˆçº¦åœ¨ä»¥å¤ªåŠä¸»ç½‘ä¸Šçš„åœ°å€)ã€‚</li>
<li>æœ€åï¼Œæ¥å®ä¾‹åŒ–æˆ‘ä»¬çš„åˆçº¦ã€‚æ¨¡ä»¿æˆ‘ä»¬ä¸Šé¢çš„ä»£ç ï¼Œå°† <code>cryptoZombies</code> èµ‹å€¼ä¸º <code>new</code> <code>web3js.eth.Contract</code> (ä½¿ç”¨æˆ‘ä»¬ä¸Šé¢ä»£ç ä¸­é€šè¿‡ <code>script</code> å¼•å…¥çš„ <code>cryptoZombiesABI</code> å’Œ <code>cryptoZombiesAddress</code>)ã€‚</li>
</ol>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>CryptoZombies front-end<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">"javascript"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">"javascript"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"web3.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 1. Include cryptozombies_abi.js here --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">"javascript"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"cryptozombies_abi.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 2. Start code here</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">var</span> cryptoZombies;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">function</span> <span class="title function_">startApp</span>(<span class="params"></span>){</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">var</span> cryptoZombiesAddress = <span class="string">"ä½ çš„åˆçº¦åœ°å€"</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        cryptoZombies = <span class="keyword">new</span> web3js.<span class="property">eth</span>.<span class="title class_">Contract</span>(cryptoZombiesABI, cryptoZombiesAddress);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      }</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">'load'</span>, <span class="keyword">function</span>(<span class="params"></span>) {</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// Checking if Web3 has been injected by the browser (Mist/MetaMask)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> (<span class="keyword">typeof</span> web3 !== <span class="string">'undefined'</span>) {</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// Use Mist/MetaMask's provider</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          web3js = <span class="keyword">new</span> <span class="title class_">Web3</span>(web3.<span class="property">currentProvider</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        } <span class="keyword">else</span> {</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// Handle the case where the user doesn't have Metamask installed</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// Probably show them a message prompting them to install Metamask</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        }</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// Now you can start your app &amp; access web3 freely:</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">startApp</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      })</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬4ç« -è°ƒç”¨å’Œåˆçº¦å‡½æ•°"><a href="#ç¬¬4ç« -è°ƒç”¨å’Œåˆçº¦å‡½æ•°" class="headerlink" title="ç¬¬4ç« : è°ƒç”¨å’Œåˆçº¦å‡½æ•°"></a>ç¬¬4ç« : è°ƒç”¨å’Œåˆçº¦å‡½æ•°</h3><p>æˆ‘ä»¬çš„åˆçº¦é…ç½®å¥½äº†ï¼ç°åœ¨æ¥ç”¨ Web3.js å’Œå®ƒå¯¹è¯ã€‚</p>
<p>Web3.js æœ‰ä¸¤ä¸ªæ–¹æ³•æ¥è°ƒç”¨æˆ‘ä»¬åˆçº¦çš„å‡½æ•°: <code>call</code> and <code>send</code>.</p>
<p><strong>Call</strong></p>
<p><code>call</code> ç”¨æ¥è°ƒç”¨ <code>view</code> å’Œ <code>pure</code> å‡½æ•°ã€‚å®ƒåªè¿è¡Œåœ¨æœ¬åœ°èŠ‚ç‚¹ï¼Œä¸ä¼šåœ¨åŒºå—é“¾ä¸Šåˆ›å»ºäº‹åŠ¡ã€‚</p>
<blockquote>
<p><strong>å¤ä¹ :</strong> <code>view</code> å’Œ <code>pure</code> å‡½æ•°æ˜¯åªè¯»çš„å¹¶ä¸ä¼šæ”¹å˜åŒºå—é“¾çš„çŠ¶æ€ã€‚å®ƒä»¬ä¹Ÿä¸ä¼šæ¶ˆè€—ä»»ä½•gasã€‚ç”¨æˆ·ä¹Ÿä¸ä¼šè¢«è¦æ±‚ç”¨MetaMaskå¯¹äº‹åŠ¡ç­¾åã€‚</p>
</blockquote>
<p>ä½¿ç”¨ Web3.jsï¼Œä½ å¯ä»¥å¦‚ä¸‹ <code>call</code> ä¸€ä¸ªåä¸º<code>myMethod</code>çš„æ–¹æ³•å¹¶ä¼ å…¥ä¸€ä¸ª <code>123</code> ä½œä¸ºå‚æ•°ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myContract.<span class="property">methods</span>.<span class="title function_">myMethod</span>(<span class="number">123</span>).<span class="title function_">call</span>()</span><br></pre></td></tr></tbody></table></figure>

<p><strong>Send</strong></p>
<p><code>send</code> å°†åˆ›å»ºä¸€ä¸ªäº‹åŠ¡å¹¶æ”¹å˜åŒºå—é“¾ä¸Šçš„æ•°æ®ã€‚ä½ éœ€è¦ç”¨ <code>send</code> æ¥è°ƒç”¨ä»»ä½•é <code>view</code> æˆ–è€… <code>pure</code> çš„å‡½æ•°ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„:</strong> <code>send</code> ä¸€ä¸ªäº‹åŠ¡å°†è¦æ±‚ç”¨æˆ·æ”¯ä»˜gasï¼Œå¹¶ä¼šè¦æ±‚å¼¹å‡ºå¯¹è¯æ¡†è¯·æ±‚ç”¨æˆ·ä½¿ç”¨ Metamask å¯¹äº‹åŠ¡ç­¾åã€‚åœ¨æˆ‘ä»¬ä½¿ç”¨ Metamask ä½œä¸ºæˆ‘ä»¬çš„ web3 æä¾›è€…çš„æ—¶å€™ï¼Œæ‰€æœ‰è¿™ä¸€åˆ‡éƒ½ä¼šåœ¨æˆ‘ä»¬è°ƒç”¨ <code>send()</code> çš„æ—¶å€™è‡ªåŠ¨å‘ç”Ÿã€‚è€Œæˆ‘ä»¬è‡ªå·±æ— éœ€åœ¨ä»£ç ä¸­æ“å¿ƒè¿™ä¸€åˆ‡ï¼ŒæŒºçˆ½çš„å§ã€‚</p>
</blockquote>
<p>ä½¿ç”¨ Web3.js, ä½ å¯ä»¥åƒè¿™æ · <code>send</code> ä¸€ä¸ªäº‹åŠ¡è°ƒç”¨<code>myMethod</code> å¹¶ä¼ å…¥ <code>123</code> ä½œä¸ºå‚æ•°ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myContract.<span class="property">methods</span>.<span class="title function_">myMethod</span>(<span class="number">123</span>).<span class="title function_">send</span>()</span><br></pre></td></tr></tbody></table></figure>

<p>è¯­æ³•å‡ ä¹ <code>call()</code>ä¸€æ¨¡ä¸€æ ·ã€‚</p>
<p><strong>è·å–åƒµå°¸æ•°æ®</strong></p>
<p>æ¥çœ‹ä¸€ä¸ªä½¿ç”¨ <code>call</code> è¯»å–æˆ‘ä»¬åˆçº¦æ•°æ®çš„çœŸå®ä¾‹å­</p>
<p>å›å¿†ä¸€ä¸‹ï¼Œæˆ‘ä»¬å®šä¹‰æˆ‘ä»¬çš„åƒµå°¸æ•°ç»„ä¸º <code>å…¬å¼€</code>(public):</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Zombie[] public zombies;</span><br></pre></td></tr></tbody></table></figure>

<p><u><strong>åœ¨ Solidity é‡Œï¼Œå½“ä½ å®šä¹‰ä¸€ä¸ª <code>public</code>å˜é‡çš„æ—¶å€™ï¼Œ å®ƒå°†è‡ªåŠ¨å®šä¹‰ä¸€ä¸ªå…¬å¼€çš„ â€œgetterâ€ åŒåæ–¹æ³•</strong></u>ï¼Œ æ‰€ä»¥å¦‚æœä½ åƒè¦æŸ¥çœ‹ id ä¸º <code>15</code> çš„åƒµå°¸ï¼Œä½ å¯ä»¥åƒä¸€ä¸ªå‡½æ•°ä¸€æ ·è°ƒç”¨å®ƒï¼š <code>zombies(15)</code>.</p>
<p>è¿™æ˜¯å¦‚ä½•åœ¨å¤–é¢çš„å‰ç«¯ç•Œé¢ä¸­å†™ä¸€ä¸ª JavaScript æ–¹æ³•æ¥ä¼ å…¥ä¸€ä¸ªåƒµå°¸ idï¼Œåœ¨æˆ‘ä»¬çš„åˆåŒä¸­æŸ¥è¯¢é‚£ä¸ªåƒµå°¸å¹¶è¿”å›ç»“æœ</p>
<blockquote>
<p>æ³¨æ„: æœ¬è¯¾ä¸­æ‰€æœ‰çš„ç¤ºä¾‹ä»£ç éƒ½ä½¿ç”¨ Web3.js çš„ <strong>1.0 ç‰ˆ</strong>ï¼Œæ­¤ç‰ˆæœ¬ä½¿ç”¨çš„æ˜¯ Promises è€Œä¸æ˜¯å›è°ƒå‡½æ•°ã€‚ä½ åœ¨çº¿ä¸Šçœ‹åˆ°çš„å…¶ä»–æ•™ç¨‹å¯èƒ½è¿˜åœ¨ä½¿ç”¨è€ç‰ˆçš„ Web3.jsã€‚åœ¨1.0ç‰ˆä¸­ï¼Œè¯­æ³•æ”¹å˜äº†ä¸å°‘ã€‚å¦‚æœä½ ä»å…¶ä»–æ•™ç¨‹ä¸­å¤åˆ¶ä»£ç ï¼Œå…ˆç¡®ä¿ä½ ä»¬ä½¿ç”¨çš„æ˜¯ç›¸åŒç‰ˆæœ¬çš„Web3.jsã€‚</p>
</blockquote>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getZombieDetails</span>(<span class="params">id</span>) {</span><br><span class="line">  <span class="keyword">return</span> cryptoZombies.<span class="property">methods</span>.<span class="title function_">zombies</span>(id).<span class="title function_">call</span>()</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨å‡½æ•°å¹¶åšä¸€äº›å…¶ä»–äº‹æƒ…</span></span><br><span class="line"><span class="title function_">getZombieDetails</span>(<span class="number">15</span>)</span><br><span class="line">.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">result</span>) {</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"Zombie 15: "</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(result));</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬æ¥çœ‹çœ‹è¿™é‡Œéƒ½åšäº†ä»€ä¹ˆ</p>
<p><code>cryptoZombies.methods.zombies(id).call()</code> å°†å’Œ Web3 æä¾›è€…èŠ‚ç‚¹é€šä¿¡ï¼Œå‘Šè¯‰å®ƒè¿”å›ä»æˆ‘ä»¬çš„åˆçº¦ä¸­çš„ <code>Zombie[] public zombies</code>ï¼Œ<code>id</code>ä¸ºä¼ å…¥å‚æ•°çš„åƒµå°¸ä¿¡æ¯ã€‚</p>
<p>æ³¨æ„è¿™æ˜¯ <strong>å¼‚æ­¥çš„</strong>ï¼Œå°±åƒä»å¤–éƒ¨æœåŠ¡å™¨ä¸­è°ƒç”¨APIã€‚æ‰€ä»¥ Web3 åœ¨è¿™é‡Œè¿”å›äº†ä¸€ä¸ª Promises. (å¦‚æœä½ å¯¹ JavaScriptçš„ Promises ä¸äº†è§£ï¼Œæœ€å¥½å…ˆå»å­¦ä¹ ä¸€ä¸‹è¿™æ–¹é¢çŸ¥è¯†å†ç»§ç»­)ã€‚</p>
<p>ä¸€æ—¦é‚£ä¸ª <code>promise</code> è¢« <code>resolve</code>, (æ„å‘³ç€æˆ‘ä»¬ä» Web3 æä¾›è€…é‚£é‡Œè·å¾—äº†å“åº”)ï¼Œæˆ‘ä»¬çš„ä¾‹å­ä»£ç å°†æ‰§è¡Œ <code>then</code> è¯­å¥ä¸­çš„ä»£ç ï¼Œåœ¨æ§åˆ¶å°æ‰“å‡º <code>result</code>ã€‚</p>
<p><code>result</code> æ˜¯ä¸€ä¸ªåƒè¿™æ ·çš„ JavaScript å¯¹è±¡ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"H4XF13LD MORRIS'S COOLER OLDER BROTHER"</span>,</span><br><span class="line">  <span class="string">"dna"</span>: <span class="string">"1337133713371337"</span>,</span><br><span class="line">  <span class="string">"level"</span>: <span class="string">"9999"</span>,</span><br><span class="line">  <span class="string">"readyTime"</span>: <span class="string">"1522498671"</span>,</span><br><span class="line">  <span class="string">"winCount"</span>: <span class="string">"999999999"</span>,</span><br><span class="line">  <span class="string">"lossCount"</span>: <span class="string">"0"</span> <span class="comment">// Obviously.</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬å¯ä»¥ç”¨ä¸€äº›å‰ç«¯é€»è¾‘ä»£ç æ¥è§£æè¿™ä¸ªå¯¹è±¡å¹¶åœ¨å‰ç«¯ç•Œé¢å‹å¥½å±•ç¤ºã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬å·²ç»å¸®ä½ æŠŠ <code>getZombieDetails</code> å¤åˆ¶è¿›äº†ä»£ç ã€‚</p>
<ol>
<li><p>å…ˆä¸º<code>zombieToOwner</code> åˆ›å»ºä¸€ä¸ªç±»ä¼¼çš„å‡½æ•°ã€‚å¦‚æœä½ è¿˜è®°å¾— <code>ZombieFactory.sol</code>ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªé•¿è¿™æ ·çš„æ˜ å°„ï¼š</p>
 <figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mapping (uint =&gt; address) public zombieToOwner;</span><br></pre></td></tr></tbody></table></figure>

<p> å®šä¹‰ä¸€ä¸ª JavaScript æ–¹æ³•ï¼Œèµ·åä¸º <code>zombieToOwner</code>ã€‚å’Œä¸Šé¢çš„ <code>getZombieDetails</code> ç±»ä¼¼ï¼Œ å®ƒå°†æ¥æ”¶ä¸€ä¸ª<code>id</code> ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª Web3.js <code>call</code> æˆ‘ä»¬åˆçº¦é‡Œçš„<code>zombieToOwner</code> ã€‚</p>
</li>
<li><p>ä¹‹ååœ¨ä¸‹é¢ï¼Œä¸º <code>getZombiesByOwner</code> å®šä¹‰ä¸€ä¸ªæ–¹æ³•ã€‚å¦‚æœä½ è¿˜èƒ½è®°èµ· <code>ZombieHelper.sol</code>ï¼Œè¿™ä¸ªæ–¹æ³•å®šä¹‰åƒè¿™æ ·ï¼š</p>
 <figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function getZombiesByOwner(address _owner)</span><br></pre></td></tr></tbody></table></figure>

<p> æˆ‘ä»¬çš„ <code>getZombiesByOwner</code> æ–¹æ³•å°†æ¥æ”¶ <code>owner</code> ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¯¹æˆ‘ä»¬å‡½æ•° <code>getZombiesByOwner</code>çš„ Web3.js <code>call</code></p>
</li>
</ol>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. Define `zombieToOwner` here</span></span><br><span class="line">     <span class="keyword">function</span> <span class="title function_">zombieToOwner</span>(<span class="params">id</span>){</span><br><span class="line">       <span class="keyword">return</span> cryptoZombies.<span class="property">methods</span>.<span class="title function_">zombieToOwner</span>(id).<span class="title function_">call</span>()</span><br><span class="line">     }</span><br><span class="line">     <span class="comment">// 2. Define `getZombiesByOwner` here</span></span><br><span class="line">     <span class="keyword">function</span> <span class="title function_">getZombiesByOwner</span>(<span class="params">owner</span>){</span><br><span class="line">       <span class="keyword">return</span> cryptoZombies.<span class="property">methods</span>.<span class="title function_">getZombiesByOwner</span>(owner).<span class="title function_">call</span>()</span><br><span class="line">     }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="ç¬¬5ç« -MetaMask-å’Œè´¦æˆ·"><a href="#ç¬¬5ç« -MetaMask-å’Œè´¦æˆ·" class="headerlink" title="ç¬¬5ç« : MetaMask å’Œè´¦æˆ·"></a>ç¬¬5ç« : MetaMask å’Œè´¦æˆ·</h3><p>å¤ªæ£’äº†ï¼ä½ æˆåŠŸåœ°å†™äº†ä¸€äº›å‰ç«¯ä»£ç æ¥å’Œä½ çš„ç¬¬ä¸€ä¸ªæ™ºèƒ½åˆçº¦äº¤äº’ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ç»¼åˆä¸€ä¸‹â€”â€”æ¯”å¦‚æˆ‘ä»¬æƒ³è®©æˆ‘ä»¬åº”ç”¨çš„é¦–é¡µæ˜¾ç¤ºç”¨æˆ·çš„æ•´ä¸ªåƒµå°¸å¤§å†›ã€‚</p>
<p>æ¯«æ— ç–‘é—®æˆ‘ä»¬é¦–å…ˆéœ€è¦ç”¨ <code>getZombiesByOwner(owner)</code> æ¥æŸ¥è¯¢å½“å‰ç”¨æˆ·çš„æ‰€æœ‰åƒµå°¸IDã€‚</p>
<p>ä½†æ˜¯æˆ‘ä»¬çš„ Solidity åˆçº¦éœ€è¦ <code>owner</code> ä½œä¸º Solidity <code>address</code>ã€‚æˆ‘ä»¬å¦‚ä½•èƒ½çŸ¥é“åº”ç”¨ç”¨æˆ·çš„åœ°å€å‘¢ï¼Ÿ</p>
<p><strong>è·å¾— MetaMaskä¸­çš„ç”¨æˆ·è´¦æˆ·</strong></p>
<p>MetaMask å…è®¸ç”¨æˆ·åœ¨æ‰©å±•ä¸­ç®¡ç†å¤šä¸ªè´¦æˆ·ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™æ ·æ¥è·å– <code>web3</code> å˜é‡ä¸­æ¿€æ´»çš„å½“å‰è´¦æˆ·ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> userAccount = web3.<span class="property">eth</span>.<span class="property">accounts</span>[<span class="number">0</span>]</span><br></pre></td></tr></tbody></table></figure>

<p>å› ä¸ºç”¨æˆ·å¯ä»¥éšæ—¶åœ¨ MetaMask ä¸­åˆ‡æ¢è´¦æˆ·ï¼Œæˆ‘ä»¬çš„åº”ç”¨éœ€è¦ç›‘æ§è¿™ä¸ªå˜é‡ï¼Œä¸€æ—¦æ”¹å˜å°±è¦ç›¸åº”æ›´æ–°ç•Œé¢ã€‚ä¾‹å¦‚ï¼Œè‹¥ç”¨æˆ·çš„é¦–é¡µå±•ç¤ºå®ƒä»¬çš„åƒµå°¸å¤§å†›ï¼Œå½“ä»–ä»¬åœ¨ MetaMask ä¸­åˆ‡æ¢äº†è´¦å·ï¼Œæˆ‘ä»¬å°±éœ€è¦æ›´æ–°é¡µé¢æ¥å±•ç¤ºæ–°é€‰æ‹©çš„è´¦æˆ·çš„åƒµå°¸å¤§å†›ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>setInterval</code> æ–¹æ³•æ¥åš:</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> accountInterval = <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="comment">// æ£€æŸ¥è´¦æˆ·æ˜¯å¦åˆ‡æ¢</span></span><br><span class="line">  <span class="keyword">if</span> (web3.<span class="property">eth</span>.<span class="property">accounts</span>[<span class="number">0</span>] !== userAccount) {</span><br><span class="line">    userAccount = web3.<span class="property">eth</span>.<span class="property">accounts</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="comment">// è°ƒç”¨ä¸€äº›æ–¹æ³•æ¥æ›´æ–°ç•Œé¢</span></span><br><span class="line">    <span class="title function_">updateInterface</span>();</span><br><span class="line">  }</span><br><span class="line">}, <span class="number">100</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ®µä»£ç åšçš„æ˜¯ï¼Œæ¯100æ¯«ç§’æ£€æŸ¥ä¸€æ¬¡ <code>userAccount</code> æ˜¯å¦è¿˜ç­‰äº <code>web3.eth.accounts[0]</code> (æ¯”å¦‚ï¼šç”¨æˆ·æ˜¯å¦è¿˜æ¿€æ´»äº†é‚£ä¸ªè´¦æˆ·)ã€‚è‹¥ä¸ç­‰ï¼Œåˆ™å°† å½“å‰æ¿€æ´»ç”¨æˆ·èµ‹å€¼ç»™ <code>userAccount</code>ï¼Œç„¶åè°ƒç”¨ä¸€ä¸ªå‡½æ•°æ¥æ›´æ–°ç•Œé¢ã€‚</p>
<p><strong>å®æˆ˜æ¼”ä¹ </strong></p>
<p>æˆ‘ä»¬æ¥è®©åº”ç”¨åœ¨é¡µé¢ç¬¬ä¸€æ¬¡åŠ è½½çš„æ—¶å€™æ˜¾ç¤ºç”¨æˆ·çš„åƒµå°¸å¤§å†›ï¼Œç›‘æ§å½“å‰ MetaMask ä¸­çš„æ¿€æ´»è´¦æˆ·ï¼Œå¹¶åœ¨è´¦æˆ·å‘ç”Ÿæ”¹å˜çš„æ—¶å€™åˆ·æ–°æ˜¾ç¤ºã€‚</p>
<ol>
<li><p>å®šä¹‰ä¸€ä¸ªåä¸º<code>userAccount</code>çš„å˜é‡ï¼Œä¸ç»™ä»»ä½•åˆå§‹å€¼ã€‚</p>
</li>
<li><p>åœ¨ <code>startApp()</code>å‡½æ•°çš„æœ€åï¼Œå¤åˆ¶ç²˜è´´ä¸Šé¢æ ·æ¿ä»£ç ä¸­çš„ <code>accountInterval</code> æ–¹æ³•è¿›å»ã€‚</p>
</li>
<li><p>å°† <code>updateInterface();</code>æ›¿æ¢æˆä¸€ä¸ª <code>getZombiesByOwner</code> çš„ <code>call</code> å‡½æ•°ï¼Œå¹¶ä¼ å…¥ <code>userAccount</code>ã€‚</p>
</li>
<li><p>åœ¨ <code>getZombiesByOwner</code> åé¢é“¾å¼è°ƒç”¨<code>then</code> è¯­å¥ï¼Œå¹¶å°†è¿”å›çš„ç»“æœä¼ å…¥åä¸º <code>displayZombies</code> çš„å‡½æ•°ã€‚ (è¯­å¥åƒè¿™æ ·: <code>.then(displayZombies);</code>).</p>
<p> æˆ‘ä»¬è¿˜æ²¡æœ‰ <code>displayZombies</code> å‡½æ•°ï¼Œå°†äºä¸‹ä¸€ç« å®ç°ã€‚</p>
</li>
</ol>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. declare `userAccount` here</span></span><br><span class="line">      <span class="keyword">var</span> userAccount;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">startApp</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="keyword">var</span> cryptoZombiesAddress = <span class="string">"YOUR_CONTRACT_ADDRESS"</span>;</span><br><span class="line">        cryptoZombies = <span class="keyword">new</span> web3js.<span class="property">eth</span>.<span class="title class_">Contract</span>(cryptoZombiesABI, cryptoZombiesAddress);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. Create `setInterval` code here</span></span><br><span class="line">        <span class="keyword">var</span> accountInterval = <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="comment">// æ£€æŸ¥è´¦æˆ·æ˜¯å¦åˆ‡æ¢</span></span><br><span class="line">        <span class="keyword">if</span> (web3.<span class="property">eth</span>.<span class="property">accounts</span>[<span class="number">0</span>] !== userAccount) {</span><br><span class="line">          userAccount = web3.<span class="property">eth</span>.<span class="property">accounts</span>[<span class="number">0</span>];</span><br><span class="line">          <span class="comment">// è°ƒç”¨ä¸€äº›æ–¹æ³•æ¥æ›´æ–°ç•Œé¢</span></span><br><span class="line">          <span class="title function_">getZombiesByOwner</span>(userAccount).<span class="title function_">then</span>(displayZombies);</span><br><span class="line">        }</span><br><span class="line">      }, <span class="number">100</span>);</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>



















































<h2 id="openzeppelinæ”»é˜²æŒ‘æˆ˜"><a href="#openzeppelinæ”»é˜²æŒ‘æˆ˜" class="headerlink" title="openzeppelinæ”»é˜²æŒ‘æˆ˜"></a>openzeppelinæ”»é˜²æŒ‘æˆ˜</h2><h3 id="1-Hello-Ethernaut"><a href="#1-Hello-Ethernaut" class="headerlink" title="1 Hello Ethernaut"></a>1 Hello Ethernaut</h3><p>è¿™é“é¢˜ï¼Œä¸»è¦è€ƒå¯Ÿçš„æ˜¯æ§åˆ¶å°æ‰§è¡Œå‡½æ•°è°ƒç”¨ï¼Œé€šè¿‡è¯­å¥<code>contract.å‡½æ•°å</code>æ¥è¿›è¡Œå‡½æ•°çš„è°ƒç”¨ï¼Œä»è€ŒæŸ¥çœ‹å‡½æ•°çš„è¿”å›å€¼ï¼Œç„¶åè¿›å…¥ä¸‹ä¸€ä¸ªå†…å®¹ï¼Œå±‚å±‚é€’è¿›ï¼Œæœ€ç»ˆå®Œæˆåˆçº¦äº¤äº’ï¼Œæäº¤æœ€ç»ˆçš„å®ä¾‹ã€‚</p>
<p><strong>ç”Ÿæˆçš„å®ä¾‹æ˜¯çœŸå®éƒ¨ç½²åˆ°æµ‹è¯•ç½‘çš„åˆçº¦</strong></p>
<p>æ‰§è¡Œæµç¨‹</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">contract.info()</span><br><span class="line">contract.info1()</span><br><span class="line">contract.info2("hello")</span><br><span class="line">contract.infoNum()</span><br><span class="line">contract.info42()</span><br><span class="line">contract.theMethodName()</span><br><span class="line">contract.method7123949()</span><br><span class="line">contract.password()</span><br><span class="line">contract.authenticate("ethern0")</span><br></pre></td></tr></tbody></table></figure>

<p>åˆçº¦æºç ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract Instance {</span><br><span class="line">    string public password;</span><br><span class="line">    uint8 public infoNum = 42;</span><br><span class="line">    string public theMethodName = "The method name is method7123949.";</span><br><span class="line">    bool private cleared = false;</span><br><span class="line"></span><br><span class="line">    // constructor</span><br><span class="line">    constructor(string memory _password) {</span><br><span class="line">        password = _password;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function info() public pure returns (string memory) {</span><br><span class="line">        return "You will find what you need in info1().";</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function info1() public pure returns (string memory) {</span><br><span class="line">        return 'Try info2(), but with "hello" as a parameter.';</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function info2(string memory param) public pure returns (string memory) {</span><br><span class="line">        if (keccak256(abi.encodePacked(param)) == keccak256(abi.encodePacked("hello"))) {</span><br><span class="line">            return "The property infoNum holds the number of the next info method to call.";</span><br><span class="line">        }</span><br><span class="line">        return "Wrong parameter.";</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function info42() public pure returns (string memory) {</span><br><span class="line">        return "theMethodName is the name of the next method.";</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function method7123949() public pure returns (string memory) {</span><br><span class="line">        return "If you know the password, submit it to authenticate().";</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function authenticate(string memory passkey) public {</span><br><span class="line">        if (keccak256(abi.encodePacked(passkey)) == keccak256(abi.encodePacked(password))) {</span><br><span class="line">            cleared = true;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function getCleared() public view returns (bool) {</span><br><span class="line">        return cleared;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h3 id="2-Fallback"><a href="#2-Fallback" class="headerlink" title="2 Fallback"></a>2 Fallback</h3><blockquote>
<p>ä»”ç»†çœ‹ä¸‹é¢çš„åˆçº¦ä»£ç .</p>
<p>é€šè¿‡è¿™å…³ä½ éœ€è¦</p>
<ol>
<li>è·å¾—è¿™ä¸ªåˆçº¦çš„æ‰€æœ‰æƒ</li>
<li>æŠŠä»–çš„ä½™é¢å‡åˆ°0</li>
</ol>
<p> è¿™å¯èƒ½æœ‰å¸®åŠ©</p>
<ul>
<li>å¦‚ä½•é€šè¿‡ä¸ABIäº’åŠ¨å‘é€ether</li>
<li>å¦‚ä½•åœ¨ABIä¹‹å¤–å‘é€ether</li>
<li>è½¬æ¢ wei/ether å•ä½ (å‚è§ <code>help()</code> å‘½ä»¤)</li>
<li>Fallback æ–¹æ³•</li>
</ul>
</blockquote>
<p>åˆçº¦æºç ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract Fallback {</span><br><span class="line">    mapping(address =&gt; uint256) public contributions;</span><br><span class="line">    address public owner;</span><br><span class="line"></span><br><span class="line">    constructor() {			//æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–æ“ä½œ</span><br><span class="line">        owner = msg.sender;</span><br><span class="line">        contributions[msg.sender] = 1000 * (1 ether);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    modifier onlyOwner() {		//å‡½æ•°ä¿®é¥°ç¬¦ï¼Œå‡½æ•°æ‰§è¡Œå‰å…ˆæ‰§è¡Œä¿®é¥°ç¬¦å†…çš„å†…å®¹</span><br><span class="line">        require(msg.sender == owner, "caller is not the owner");	//éªŒè¯è°ƒç”¨è€…æ˜¯å¦ä¸ºä¸»äºº</span><br><span class="line">        _;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function contribute() public payable {</span><br><span class="line">        require(msg.value &lt; 0.001 ether);</span><br><span class="line">        contributions[msg.sender] += msg.value;</span><br><span class="line">        if (contributions[msg.sender] &gt; contributions[owner]) {//å¦‚æœè´¡çŒ®å€¼å¤§äºä¸»äººï¼Œé‚£ä¹ˆå°±æˆä¸ºä¸»äºº</span><br><span class="line">            owner = msg.sender;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function getContribution() public view returns (uint256) {	//æŸ¥è¯¢è´¡çŒ®å€¼</span><br><span class="line">        return contributions[msg.sender];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function withdraw() public onlyOwner {		//æå‡ºæ‰€æœ‰ä½™é¢</span><br><span class="line">        payable(owner).transfer(address(this).balance);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    receive() external payable {</span><br><span class="line">        require(msg.value &gt; 0 &amp;&amp; contributions[msg.sender] &gt; 0);</span><br><span class="line">        owner = msg.sender;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>æ¼æ´ç‚¹</strong>ï¼š</p>
<ul>
<li><code>receive()</code> å‡½æ•°åœ¨æ¥æ”¶ ETH æ—¶ï¼Œè‹¥è°ƒç”¨è€…æœ‰è´¡çŒ®è®°å½•ï¼ˆ<code>contributions[msg.sender] &gt; 0</code>ï¼‰ï¼Œä¼šå°†å…¶è®¾ä¸º <code>owner</code>ã€‚</li>
</ul>
<p><strong>æ”»å‡»æ­¥éª¤ï¼š</strong></p>
<ol>
<li>è°ƒç”¨ <code>contribute()</code> å­˜å…¥å°‘é‡ ETH</li>
</ol>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> contract.<span class="title function_">contribute</span>({<span class="attr">value</span>: web3.<span class="property">utils</span>.<span class="title function_">toWei</span>(<span class="string">'0.0001'</span>)});</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>ä½œç”¨</strong>ï¼šæ»¡è¶³ <code>contributions[msg.sender] &gt; 0</code> çš„æ¡ä»¶ã€‚</li>
<li><strong>å…³é”®é™åˆ¶</strong>ï¼šå¿…é¡»å‘é€ <code>&lt; 0.001 ETH</code>ï¼ˆå›  <code>contribute()</code> ä¸­æœ‰æ•°å€¼æ£€æŸ¥ï¼‰ã€‚</li>
</ul>
<ol start="2">
<li>ç›´æ¥å‘é€ ETH è§¦å‘ <code>receive()</code></li>
</ol>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> contract.<span class="title function_">sendTransaction</span>({<span class="attr">value</span>: web3.<span class="property">utils</span>.<span class="title function_">toWei</span>(<span class="string">'0.0001'</span>)});</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>åŸç†</strong>ï¼š<ul>
<li>ç›´æ¥å‘åˆçº¦åœ°å€è½¬è´¦ï¼ˆæ—  calldataï¼‰ä¼šè§¦å‘ <code>receive()</code>ã€‚</li>
<li>ç”±äºæ”»å‡»è€…å·²é€šè¿‡ <code>contribute()</code> å­˜å…¥è¿‡ ETHï¼Œæ»¡è¶³ <code>contributions[msg.sender] &gt; 0</code>ï¼Œæ­¤æ—¶ <code>owner</code> è¢«ä¿®æ”¹ä¸ºæ”»å‡»è€…åœ°å€ã€‚</li>
</ul>
</li>
</ul>
<ol start="3">
<li>è°ƒç”¨ <code>withdraw()</code> æå–æ‰€æœ‰ ETH</li>
</ol>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> contract.<span class="title function_">withdraw</span>();</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>å‰æ</strong>ï¼šæ”»å‡»è€…å·²æˆä¸º <code>owner</code>ï¼ˆé€šè¿‡ <code>receive()</code> ç¯¡æ”¹æˆåŠŸï¼‰ã€‚</li>
<li><strong>ç»“æœ</strong>ï¼šåˆçº¦ä½™é¢è¢«å…¨éƒ¨è½¬ç§»åˆ°æ”»å‡»è€…åœ°å€ã€‚</li>
</ul>
<p><strong>ä¿®å¤å»ºè®®</strong></p>
<ol>
<li><p><strong>åˆ†ç¦» ETH æ¥æ”¶å’Œæƒé™ç®¡ç†</strong>ï¼š</p>
 <figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">receive() external payable {</span><br><span class="line">    contributions[msg.sender] += msg.value; // ä»…æ›´æ–°è´¡çŒ®å€¼</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><strong>ä½¿ç”¨æ˜ç¡®çš„æƒé™è½¬ç§»å‡½æ•°</strong>ï¼š</p>
 <figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function transferOwnership(address newOwner) public onlyOwner {</span><br><span class="line">    owner = newOwner;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><strong>æ·»åŠ äº‹ä»¶æ—¥å¿—</strong>ï¼š</p>
 <figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event OwnershipTransferred(address oldOwner, address newOwner);</span><br></pre></td></tr></tbody></table></figure></li>
</ol>
<h3 id="3-Fallout"><a href="#3-Fallout" class="headerlink" title="3 Fallout"></a>3 Fallout</h3><blockquote>
<p>è·å¾—ä»¥ä¸‹åˆçº¦çš„æ‰€æœ‰æƒæ¥å®Œæˆè¿™ä¸€å…³.</p>
<p> è¿™å¯èƒ½æœ‰å¸®åŠ©</p>
<ul>
<li>Solidity Remix IDE</li>
</ul>
</blockquote>
<p>åˆçº¦æºç ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.6.0;</span><br><span class="line"></span><br><span class="line">import "openzeppelin-contracts-06/math/SafeMath.sol";</span><br><span class="line"></span><br><span class="line">contract Fallout {</span><br><span class="line">    using SafeMath for uint256;</span><br><span class="line"></span><br><span class="line">    mapping(address =&gt; uint256) allocations;</span><br><span class="line">    address payable public owner;</span><br><span class="line"></span><br><span class="line">    //constructor</span><br><span class="line">    function Fal1out() public payable {</span><br><span class="line">        owner = msg.sender;</span><br><span class="line">        allocations[owner] = msg.value;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    modifier onlyOwner() {</span><br><span class="line">        require(msg.sender == owner, "caller is not the owner");</span><br><span class="line">        _;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function allocate() public payable {</span><br><span class="line">        allocations[msg.sender] = allocations[msg.sender].add(msg.value);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function sendAllocation(address payable allocator) public {</span><br><span class="line">        require(allocations[allocator] &gt; 0);</span><br><span class="line">        allocator.transfer(allocations[allocator]);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function collectAllocations() public onlyOwner {</span><br><span class="line">        msg.sender.transfer(address(this).balance);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    function allocatorBalance(address allocator) public view returns (uint256) {</span><br><span class="line">        return allocations[allocator];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>







<h2 id="8æœˆ13æ—¥"><a href="#8æœˆ13æ—¥" class="headerlink" title="8æœˆ13æ—¥"></a>8æœˆ13æ—¥</h2><table>
<thead>
<tr>
<th>ä»Šæ—¥å­¦ä¹ å†…å®¹</th>
</tr>
</thead>
<tbody><tr>
<td>æ™ºèƒ½åˆçº¦å¼€å‘</td>
</tr>
<tr>
<td></td>
</tr>
<tr>
<td></td>
</tr>
<tr>
<td></td>
</tr>
</tbody></table>
<h3 id="æ™ºèƒ½åˆçº¦å¼€å‘-1"><a href="#æ™ºèƒ½åˆçº¦å¼€å‘-1" class="headerlink" title="æ™ºèƒ½åˆçº¦å¼€å‘"></a>æ™ºèƒ½åˆçº¦å¼€å‘</h3><h4 id="Dapp-æ¶æ„å’Œå¼€å‘æµç¨‹-1"><a href="#Dapp-æ¶æ„å’Œå¼€å‘æµç¨‹-1" class="headerlink" title="Dapp æ¶æ„å’Œå¼€å‘æµç¨‹"></a>Dapp æ¶æ„å’Œå¼€å‘æµç¨‹</h4><p>Dappï¼šå»ä¸­å¿ƒåŒ–åº”ç”¨ï¼Œè¿è¡Œåœ¨åŒºå—é“¾æˆ–åˆ†å¸ƒå¼ç½‘ç»œä¸Šï¼Œåº”ç”¨çš„é€»è¾‘å’Œæ•°æ®æ˜¯ç”±å¤šä¸ªå‚ä¸è€…å…±åŒç»´æŠ¤ã€‚</p>
<h5 id="Dapp-æ¶æ„-1"><a href="#Dapp-æ¶æ„-1" class="headerlink" title="Dapp æ¶æ„"></a>Dapp æ¶æ„</h5><p>ä¸‰ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼š</p>
<ol>
<li><strong>å‰ç«¯ï¼ˆUser Interfaceï¼‰</strong>ï¼š</li>
</ol>
<ul>
<li>å‰ç«¯æ˜¯ Dapp ä¸ç”¨æˆ·äº¤äº’çš„ç•Œé¢ï¼Œé€šå¸¸ç”± HTMLã€CSS å’Œ JavaScriptï¼ˆå¦‚ Reactã€Vue ç­‰æ¡†æ¶ï¼‰æ„å»ºã€‚ä¸ä¼ ç»Ÿ Web åº”ç”¨ä¸åŒï¼ŒDapp å‰ç«¯ä¼šè¿æ¥åŒºå—é“¾æ¥è°ƒç”¨æ™ºèƒ½åˆçº¦ï¼Œå‘ˆç°æ•°æ®å’Œæ‰§è¡Œäº¤æ˜“ã€‚</li>
<li>å‰ç«¯è¿˜éœ€è¦é›†æˆåŒºå—é“¾é’±åŒ…ï¼ˆå¦‚ MetaMaskï¼‰æ¥è¿›è¡Œèº«ä»½éªŒè¯å’Œç­¾ç½²äº¤æ˜“ï¼Œç¡®ä¿ç”¨æˆ·çš„éšç§å’Œå®‰å…¨ã€‚</li>
</ul>
<ol start="2">
<li><strong>æ™ºèƒ½åˆçº¦ï¼ˆSmart Contractsï¼‰</strong>ï¼š</li>
</ol>
<ul>
<li>æ™ºèƒ½åˆçº¦æ˜¯ Dapp çš„æ ¸å¿ƒï¼Œå®ƒå®šä¹‰äº†åº”ç”¨çš„ä¸šåŠ¡é€»è¾‘ï¼Œå¹¶éƒ¨ç½²åœ¨åŒºå—é“¾ä¸Šã€‚æ™ºèƒ½åˆçº¦é€šè¿‡æ‰§è¡Œè‡ªåŠ¨åŒ–çš„è§„åˆ™æ¥ç¡®ä¿äº¤æ˜“å’Œæ“ä½œçš„é€æ˜æ€§ä¸ä¸å¯ç¯¡æ”¹æ€§ã€‚</li>
<li>åœ¨ä»¥å¤ªåŠå¹³å°ä¸Šï¼Œæ™ºèƒ½åˆçº¦é€šå¸¸ä½¿ç”¨ <strong>Solidity</strong> ç¼–ç¨‹è¯­è¨€ç¼–å†™ï¼Œå¹¶é€šè¿‡ <strong>Ethereum Virtual Machine (EVM)</strong> æ‰§è¡Œã€‚</li>
</ul>
<ol start="3">
<li><strong>æ•°æ®æ£€ç´¢å™¨ï¼ˆIndexerï¼‰</strong>ï¼š</li>
</ol>
<ul>
<li>æ™ºèƒ½åˆçº¦é€šå¸¸ä»¥ <code>Event</code> å½¢å¼é‡Šæ”¾æ—¥å¿—äº‹ä»¶ï¼Œæ¯”å¦‚é‡Šæ”¾ä»£è¡¨ NFT è½¬ç§»çš„ <code>Transfer</code> äº‹ä»¶ï¼Œæ•°æ®æ£€ç´¢å™¨ä¼šæ£€ç´¢è¿™äº›æ•°æ®å¹¶å°†å…¶å†™å…¥åˆ° PostgreSQL ç­‰ä¼ ç»Ÿæ•°æ®åº“ä¸­</li>
<li>Dapp åœ¨å‰ç«¯è¿›è¡Œæ•°æ®å±•ç¤ºæ—¶éœ€è¦æ£€ç´¢å™¨å†…çš„æ•°æ®ã€‚ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹æ˜¯æŸ NFT é¡¹ç›®éœ€è¦å±•ç¤ºç”¨æˆ·æŒæœ‰çš„æ‰€æœ‰ NFTï¼Œä½†æ˜¯ NFT åˆçº¦å¹¶ä¸ä¼šæä¾›é€šè¿‡è¾“å…¥åœ°å€å‚æ•°è¿”å›è¯¥åœ°å€ä¸‹çš„æ‰€æœ‰ NFT çš„å‡½æ•°ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥è¿è¡Œæ•°æ®æ£€ç´¢å™¨å°† <code>Transfer</code> äº‹ä»¶è¯»å–åå†™å…¥ä¼ ç»Ÿæ•°æ®åº“å†…ï¼Œå‰ç«¯å¯ä»¥åœ¨ä¼ ç»Ÿæ•°æ®åº“å†…æ£€ç´¢ç”¨æˆ·æŒæœ‰çš„ NFT æ•°æ®</li>
</ul>
<ol start="4">
<li><strong>åŒºå—é“¾å’Œå»ä¸­å¿ƒåŒ–å­˜å‚¨ï¼ˆBlockchain &amp; Decentralized Storageï¼‰</strong>ï¼š</li>
</ol>
<ul>
<li>åŒºå—é“¾ç”¨äºå­˜å‚¨æ™ºèƒ½åˆçº¦çš„çŠ¶æ€æ•°æ®åŠäº¤æ˜“è®°å½•ã€‚å»ä¸­å¿ƒåŒ–å­˜å‚¨å¦‚ <strong>IPFS</strong>ï¼ˆInterPlanetary File Systemï¼‰æˆ– <strong>Arweave</strong>ï¼Œç”¨äºå­˜å‚¨å¤§è§„æ¨¡çš„éç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚å›¾ç‰‡ã€æ–‡æ¡£ç­‰ï¼‰ï¼Œç¡®ä¿æ•°æ®ä¸æ˜“ä¸¢å¤±å’Œç¯¡æ”¹ã€‚</li>
<li>é€šè¿‡ä½¿ç”¨å»ä¸­å¿ƒåŒ–å­˜å‚¨ï¼ŒDapp ç¡®ä¿æ‰€æœ‰æ•°æ®åœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šå¤‡ä»½ï¼Œä¿è¯æ•°æ®çš„æŒä¹…æ€§å’Œå»ä¸­å¿ƒåŒ–ç‰¹æ€§ã€‚</li>
</ul>
<h5 id="Dapp-å¼€å‘æµç¨‹-1"><a href="#Dapp-å¼€å‘æµç¨‹-1" class="headerlink" title="Dapp å¼€å‘æµç¨‹"></a>Dapp å¼€å‘æµç¨‹</h5><ol>
<li><p><strong>éœ€æ±‚åˆ†æä¸è§„åˆ’</strong></p>
<p> åœ¨å¼€å‘ Dapp ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦è¿›è¡Œéœ€æ±‚åˆ†æå’Œè§„åˆ’ï¼Œæ˜ç¡®åº”ç”¨çš„ç›®æ ‡å’ŒåŠŸèƒ½ã€‚æ­¤é˜¶æ®µåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ç¡®å®šåŠŸèƒ½éœ€æ±‚</strong>ï¼šéœ€è¦å®šä¹‰ç”¨æˆ·å¯ä»¥è¿›è¡Œçš„æ“ä½œï¼Œæ¯”å¦‚è½¬è´¦ã€æŸ¥è¯¢ä½™é¢ã€åˆ›å»ºæŠ•ç¥¨ç­‰ã€‚</li>
<li><strong>é€‰æ‹©åŒºå—é“¾å¹³å°</strong>ï¼šå†³å®šåœ¨å“ªä¸ªå¹³å°ä¸Šæ„å»º Dappï¼ˆå¦‚ä»¥å¤ªåŠã€Solanaã€Polygon ç­‰ï¼‰ï¼Œè¿™é€šå¸¸å–å†³äºç›®æ ‡ç”¨æˆ·ç¾¤ã€äº¤æ˜“æˆæœ¬ã€å¯æ‰©å±•æ€§ç­‰å› ç´ ã€‚</li>
<li><strong>è®¾è®¡ç”¨æˆ·ä½“éªŒï¼ˆUXï¼‰</strong>ï¼šå®šä¹‰ Dapp çš„ç•Œé¢è®¾è®¡å’Œäº¤äº’æµç¨‹ï¼Œç¡®ä¿ç”¨æˆ·èƒ½å¤Ÿè½»æ¾ä½¿ç”¨åº”ç”¨å¹¶ä¸åŒºå—é“¾äº¤äº’ã€‚</li>
</ul>
</li>
<li><p><strong>æ™ºèƒ½åˆçº¦å¼€å‘</strong></p>
<p> æ™ºèƒ½åˆçº¦æ˜¯ Dapp çš„æ ¸å¿ƒï¼Œè´Ÿè´£æ‰§è¡Œå»ä¸­å¿ƒåŒ–çš„ä¸šåŠ¡é€»è¾‘å’Œå­˜å‚¨é‡è¦çš„æ•°æ®ã€‚åœ¨è¿™ä¸€é˜¶æ®µï¼Œå¼€å‘è€…éœ€è¦ï¼š</p>
<ul>
<li><strong>ç¼–å†™æ™ºèƒ½åˆçº¦</strong>ï¼šä½¿ç”¨ <strong>Solidity</strong> æˆ–å…¶ä»–æ™ºèƒ½åˆçº¦è¯­è¨€ç¼–å†™åˆçº¦ï¼Œç¡®ä¿åˆçº¦çš„åŠŸèƒ½æ»¡è¶³éœ€æ±‚åˆ†æä¸­å®šä¹‰çš„è¦æ±‚ã€‚</li>
<li><strong>ç¼–å†™æµ‹è¯•ç”¨ä¾‹</strong>ï¼šä¸ºæ™ºèƒ½åˆçº¦ç¼–å†™å•å…ƒæµ‹è¯•ï¼Œç¡®ä¿åˆçº¦é€»è¾‘æ­£ç¡®ã€æ— æ¼æ´ã€‚</li>
<li><strong>å®¡è®¡å’Œä¼˜åŒ–</strong>ï¼šå¯¹åˆçº¦è¿›è¡Œå®‰å…¨å®¡è®¡ï¼Œç¡®ä¿åˆçº¦çš„å®‰å…¨æ€§ï¼Œé¿å…å¸¸è§æ¼æ´ï¼ˆå¦‚é‡å…¥æ”»å‡»ã€æ•´æ•°æº¢å‡ºç­‰ï¼‰ã€‚</li>
</ul>
</li>
<li><p><strong>æ£€ç´¢å™¨å¼€å‘</strong></p>
<p> æ£€ç´¢å™¨æ˜¯<u><strong>è·å–é“¾ä¸Šæ•°æ®çš„æ ¸å¿ƒ</strong></u>ï¼Œ<u><strong>è´Ÿè´£æ•è·æ™ºèƒ½åˆçº¦é‡Šæ”¾çš„äº‹ä»¶å¹¶ä»¥åˆç†çš„æ–¹å¼å°†å…¶å­˜å…¥æ•°æ®åº“</strong></u>çš„ä¸åŒçš„è¡¨å†…éƒ¨ã€‚åœ¨è¿™ä¸€é˜¶æ®µï¼Œå¼€å‘è€…éœ€è¦:</p>
<ul>
<li><strong>ç¡®å®šåŠŸèƒ½éœ€è¦çš„æ•°æ®å†…å®¹</strong>: å‰ç«¯ä½¿ç”¨çš„æ•°æ®å¤§éƒ¨ä»½éƒ½ç›´æ¥æ¥è‡ªæ£€ç´¢å™¨ï¼Œæ‰€ä»¥å¼€å‘è€…éœ€è¦ç¡®å®šå‰ç«¯å·¥ç¨‹å¸ˆæ‰€éœ€è¦çš„æ•°æ®</li>
<li><strong>ç¼–å†™æ£€ç´¢å™¨ç¨‹åº</strong>: ç›®å‰ä¸»æµçš„æ£€ç´¢å™¨æ¡†æ¶ï¼Œå¦‚ ponder å’Œ subgraph éƒ½æ˜¯ç”¨äº† TypeScript è¯­è¨€ä½œä¸ºæ£€ç´¢å™¨çš„ç¨‹åºç¼–å†™è¯­è¨€ï¼Œå¼€å‘è€…ä¸»è¦ç¼–å†™äº‹ä»¶æ•°æ®æ¸…ç†ä»¥åŠäº‹ä»¶æ•°æ®å†™å…¥æ•°æ®åº“çš„ä»£ç </li>
<li><strong>éƒ¨ç½²å’Œè¿ç»´</strong>: ç¼–å†™ç¨‹åºå®Œæˆåï¼Œä¸€èˆ¬ä½¿ç”¨ Docker éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä¸­ï¼Œå½“ç„¶ç›®å‰å¾ˆå¤šæ£€ç´¢å™¨æ¡†æ¶ä¹Ÿæä¾› SaaS æœåŠ¡ï¼ŒåŒæ—¶æ£€ç´¢å™¨ä½œä¸ºä¸€ä¸ªå¸¸è§„çš„æ•°æ®åº“åº”ç”¨éœ€è¦è¿ç»´</li>
</ul>
</li>
<li><p><strong>å‰ç«¯å¼€å‘</strong></p>
<p> å‰ç«¯æ˜¯ç”¨æˆ·ä¸ Dapp äº¤äº’çš„ä¸»è¦ç•Œé¢ï¼Œå› æ­¤å¼€å‘å‰ç«¯æ—¶éœ€è¦ï¼š</p>
<ul>
<li><strong>é€‰æ‹©å‰ç«¯æ¡†æ¶</strong>ï¼šå¯ä»¥ä½¿ç”¨ç°ä»£å‰ç«¯æ¡†æ¶ï¼ˆå¦‚ <strong>React</strong>ã€<strong>Vue</strong>ï¼‰æ¥æ„å»º UIã€‚å‰ç«¯å°†é€šè¿‡ JavaScript ä¸æ™ºèƒ½åˆçº¦è¿›è¡Œäº¤äº’ã€‚</li>
<li><strong>è¿æ¥é’±åŒ…</strong>ï¼šé€šè¿‡é›†æˆ <strong>MetaMask</strong> ç­‰ Web3 é’±åŒ…ï¼Œç”¨æˆ·å¯ä»¥è¿æ¥åˆ° Dappï¼Œå¹¶æˆæƒå…¶ä¸æ™ºèƒ½åˆçº¦äº¤äº’ã€‚</li>
<li><strong>æ˜¾ç¤ºåŒºå—é“¾æ•°æ®</strong>ï¼šå‰ç«¯éœ€è¦ä»åŒºå—é“¾å’Œæ£€ç´¢å™¨å†…è·å–æ•°æ®ï¼ˆå¦‚è´¦æˆ·ä½™é¢ã€äº¤æ˜“è®°å½•ï¼‰ï¼Œå¹¶é€šè¿‡ç”¨æˆ·ç•Œé¢å±•ç¤ºã€‚</li>
<li><strong>å¤„ç†äº¤æ˜“ç­¾åä¸ç¡®è®¤</strong>ï¼šå½“ç”¨æˆ·å‘èµ·äº¤æ˜“æ—¶ï¼Œå‰ç«¯éœ€è¦ä¸é’±åŒ…è¿›è¡Œäº¤äº’ï¼Œè·å–ç”¨æˆ·çš„ç­¾åå¹¶å°†äº¤æ˜“å‘é€åˆ°åŒºå—é“¾ã€‚</li>
</ul>
</li>
<li><p><strong>ä¸åŒºå—é“¾äº¤äº’</strong></p>
<p> å‰ç«¯å’Œæ™ºèƒ½åˆçº¦é€šè¿‡ <strong>Viem</strong>ï¼ˆæ¨èï¼‰ã€<strong>Ethers.js</strong> æˆ– <strong>Wagmi</strong> ç­‰ç°ä»£åŒ–åº“è¿›è¡Œäº¤äº’ã€‚è¿™äº›åº“æä¾›æ›´å¥½çš„ TypeScript æ”¯æŒå’Œæ€§èƒ½ä¼˜åŒ–ï¼š</p>
<ul>
<li><strong>è¯»å–æ•°æ®</strong>ï¼šå‰ç«¯é€šè¿‡æ™ºèƒ½åˆçº¦çš„å…¬å…±å‡½æ•°è¯»å–åŒºå—é“¾ä¸Šçš„çŠ¶æ€æ•°æ®ï¼ˆå¦‚ä½™é¢ã€åˆçº¦ä¿¡æ¯ï¼‰ã€‚</li>
<li><strong>å‘é€äº¤æ˜“</strong>ï¼šå½“ç”¨æˆ·å‘èµ·äº¤æ˜“æ—¶ï¼Œå‰ç«¯éœ€è¦é€šè¿‡é’±åŒ…ç­¾ç½²äº¤æ˜“å¹¶å‘é€åˆ°åŒºå—é“¾ï¼Œæ‰§è¡Œåˆçº¦ä¸­çš„æŸä¸ªåŠŸèƒ½ï¼ˆå¦‚è½¬è´¦ï¼‰ã€‚</li>
</ul>
</li>
<li><p><strong>éƒ¨ç½²ä¸ä¸Šçº¿</strong></p>
<p> ä¸€æ—¦å¼€å‘å®Œæˆï¼ŒDapp è¿›å…¥éƒ¨ç½²é˜¶æ®µã€‚å…·ä½“æ­¥éª¤åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>éƒ¨ç½²æ™ºèƒ½åˆçº¦</strong>ï¼šæ¨èä½¿ç”¨ <strong>Hardhat</strong> æˆ– <strong>Foundry</strong>ï¼ˆç°ä»£åŒ–å¼€å‘å·¥å…·ï¼‰å°†æ™ºèƒ½åˆçº¦éƒ¨ç½²åˆ°æµ‹è¯•ç½‘ï¼ˆå¦‚ <strong>Sepolia</strong>ã€<strong>Holesky</strong>ï¼‰æˆ–ä¸»ç½‘ã€‚</li>
<li><strong>å‰ç«¯éƒ¨ç½²</strong>ï¼šå°†å‰ç«¯åº”ç”¨éƒ¨ç½²åˆ°å»ä¸­å¿ƒåŒ–å¹³å°ï¼ˆå¦‚ <strong>IPFS</strong>ï¼‰æˆ–ä¼ ç»Ÿçš„ Web æœåŠ¡ï¼ˆVercelï¼‰ã€‚</li>
<li><strong>å‘å¸ƒå’Œç»´æŠ¤</strong>ï¼šå°† Dapp ä¸Šçº¿ï¼Œè¿›è¡Œç”¨æˆ·åé¦ˆæ”¶é›†ï¼Œå®šæœŸæ›´æ–°åˆçº¦å’Œå‰ç«¯ï¼Œä¿®å¤æ½œåœ¨é—®é¢˜ã€‚</li>
</ul>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      
      
      
      
      
      
      
      
      

    </footer>
  </div>
  
  <nav id="article-nav" data-aos="fade-up">
    
      
      <div class="article-nav-link-wrap article-nav-link-left">
        
          
          
            <img data-src="/covers/9.jpg" data-sizes="auto" alt="ç£çŸ³è¡ŒåŠ¨CTF" class="lazyload">
          
        
        <a href="/2025/08/06/pan-shi-xing-dong-ctf/"></a>
        <div class="article-nav-caption">Prev</div>
        <h3 class="article-nav-title">
          
            ç£çŸ³è¡ŒåŠ¨CTF
          
        </h3>
      </div>
    
    
    
    <div class="article-nav-link-wrap article-nav-link-right">
      
        
        
          <img data-src="/covers/11.jpg" data-sizes="auto" alt="ä»¥å¤ªåŠå­¦ä¹ " class="lazyload">
        
      
      <a href="/2025/08/01/yi-tai-fang-xue-xi/"></a>
      <div class="article-nav-caption">Next</div>
      <h3 class="article-nav-title">
        
          ä»¥å¤ªåŠå­¦ä¹ 
        
      </h3>
    </div>
    
  </nav>


</article>










</section>
        </div>
        <footer id="footer">
  <div style="width: 100%; overflow: hidden">
    <div class="footer-line"></div>
  </div>
  <div id="footer-info">
    
    <div>
      <span class="icon-copyright"></span>
      
      
      
        2024-2025
      
      <span class="footer-info-sep "></span>
      mX1@0
    </div>
    
      <div>
        Powered by&nbsp;<a href="https://hexo.io/" rel="noopener external nofollow noreferrer" target="_blank">Hexo</a>&nbsp;
        Theme.<a href="https://github.com/D-Sketon/hexo-theme-reimu" rel="noopener external nofollow noreferrer" target="_blank">Reimu</a>
      </div>
    
    
      <div>
        <span class="icon-brush"></span>
        260.3k
        &nbsp;|&nbsp;
        <span class="icon-coffee"></span>
        16:08
      </div>
    
    
    
    
    
      <div>
        <span class="icon-eye"></span>
        <span id="busuanzi_container_site_pv">Number of visits&nbsp;<span id="busuanzi_value_site_pv"></span></span>
        &nbsp;|&nbsp;
        <span class="icon-user"></span>
        <span id="busuanzi_container_site_uv">Number of visitors&nbsp;<span id="busuanzi_value_site_uv"></span></span>
      </div>
    
  </div>
</footer>

        
          <div class="sidebar-top">
            <div class="sidebar-top-taichi rotate"></div>
            <div class="arrow-up"></div>
          </div>
        
        <div id="mask" class="hide"></div>
      </div>
      <nav id="mobile-nav">
  <div class="sidebar-wrap">
    
      
        <div class="sidebar-toc-sidebar"><div class="sidebar-toc">
  <h3 class="toc-title">Contents</h3>
  <div class="sidebar-toc-wrapper toc-div-class" >
      
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Web3-%E5%AE%9E%E4%B9%A0%E8%AE%A1%E5%88%92-2025-%E5%A4%8F%E5%AD%A3"><span class="toc-text">Web3 å®ä¹ è®¡åˆ’ - 2025 å¤å­£</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E6%9C%884%E6%97%A5"><span class="toc-text">8æœˆ4æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%BA%E5%9D%97%E9%93%BE%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5"><span class="toc-text">åŒºå—é“¾åŸºç¡€æ¦‚å¿µ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BA%E5%9D%97%E9%93%BE%E4%BB%8B%E7%BB%8D"><span class="toc-text">åŒºå—é“¾ä»‹ç»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BA%E5%9D%97%E9%93%BE%E7%89%B9%E6%80%A7"><span class="toc-text">åŒºå—é“¾ç‰¹æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E6%A0%B8%E5%BF%83%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="toc-text">åŒºå—é“¾çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%BB%E4%B8%AD%E5%BF%83%E5%8C%96%E7%9A%84%E7%BD%91%E7%BB%9C%E5%92%8C%E5%8C%BA%E5%9D%97%E9%93%BE"><span class="toc-text">å»ä¸­å¿ƒåŒ–çš„ç½‘ç»œå’ŒåŒºå—é“¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%B4%E6%8C%81%E7%BD%91%E7%BB%9C%E8%BF%90%E8%A1%8C%E7%9A%84%E4%BB%A3%E5%B8%81%E6%BF%80%E5%8A%B1"><span class="toc-text">ç»´æŒç½‘ç»œè¿è¡Œçš„ä»£å¸æ¿€åŠ±</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AC%E9%93%BE-%E7%A7%81%E9%93%BE-%E8%81%94%E7%9B%9F%E9%93%BE"><span class="toc-text">å…¬é“¾ ç§é“¾ è”ç›Ÿé“¾</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AC%E9%93%BE%EF%BC%88Public-Blockchain%EF%BC%89"><span class="toc-text">å…¬é“¾ï¼ˆPublic Blockchainï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A7%81%E9%93%BE%EF%BC%88Private-Blockchain%EF%BC%89"><span class="toc-text">ç§é“¾ï¼ˆPrivate Blockchainï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%81%94%E7%9B%9F%E9%93%BE%EF%BC%88Consortium-Blockchain%EF%BC%89"><span class="toc-text">è”ç›Ÿé“¾ï¼ˆConsortium Blockchainï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E6%AF%94%E6%80%BB%E7%BB%93"><span class="toc-text">å¯¹æ¯”æ€»ç»“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E4%BE%9D%E6%8D%AE"><span class="toc-text">é€‰æ‹©ä¾æ®</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E6%9C%885%E6%97%A5"><span class="toc-text">8æœˆ5æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E5%9D%8A%E6%A6%82%E8%A7%88"><span class="toc-text">ä»¥å¤ªåŠæ¦‚è§ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E5%9D%8A%E4%BB%8B%E7%BB%8D"><span class="toc-text">ä»¥å¤ªåŠä»‹ç»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ethereum-%E4%B8%8E-Bitcoin-%E7%9A%84%E5%B7%AE%E5%BC%82"><span class="toc-text">Ethereum ä¸ Bitcoin çš„å·®å¼‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E5%9D%8A%E7%9A%84%E5%AE%9A%E4%BD%8D%E4%B8%8E%E6%BC%94%E8%BF%9B"><span class="toc-text">ä»¥å¤ªåŠçš„å®šä½ä¸æ¼”è¿›</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E5%9D%8A1-0%EF%BC%88PoW%E9%98%B6%E6%AE%B5%EF%BC%89"><span class="toc-text">ä»¥å¤ªåŠ1.0ï¼ˆPoWé˜¶æ®µï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E5%9D%8A2-0%E4%B8%8EThe-Merge%EF%BC%9A%E4%BB%8E%E5%8F%8C%E9%93%BE%E5%B9%B6%E8%A1%8C%E5%88%B0%E5%AE%8C%E7%BE%8E%E5%90%88%E5%B9%B6"><span class="toc-text">ä»¥å¤ªåŠ2.0ä¸The Mergeï¼šä»åŒé“¾å¹¶è¡Œåˆ°å®Œç¾åˆå¹¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%AA%E6%9D%A5%E5%8D%87%E7%BA%A7%E8%B7%AF%E7%BA%BF"><span class="toc-text">æœªæ¥å‡çº§è·¯çº¿</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E5%9D%8A%E7%94%9F%E6%80%81%E6%A6%82%E8%A7%88%EF%BC%9AL1%E3%80%81L2%E3%80%81Sidechains-%E7%AD%89"><span class="toc-text">ä»¥å¤ªåŠç”Ÿæ€æ¦‚è§ˆï¼šL1ã€L2ã€Sidechains ç­‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E5%9D%8A%E6%96%87%E5%8C%96%E4%B8%8E%E4%BB%B7%E5%80%BC%E8%A7%82"><span class="toc-text">ä»¥å¤ªåŠæ–‡åŒ–ä¸ä»·å€¼è§‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E5%9D%8A%E6%A0%B8%E5%BF%83%E6%9C%BA%E5%88%B6%EF%BC%9A%E4%BB%8E%E8%B4%A6%E6%88%B7%E5%88%B0%E6%89%A7%E8%A1%8C%E7%9A%84%E5%AE%8C%E6%95%B4%E9%93%BE%E8%B7%AF"><span class="toc-text">ä»¥å¤ªåŠæ ¸å¿ƒæœºåˆ¶ï¼šä»è´¦æˆ·åˆ°æ‰§è¡Œçš„å®Œæ•´é“¾è·¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unphishable%E9%92%93%E9%B1%BC%E6%94%BB%E9%98%B2%E6%8C%91%E6%88%98"><span class="toc-text">Unphishableé’“é±¼æ”»é˜²æŒ‘æˆ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E7%BA%A7"><span class="toc-text">åˆçº§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0001-Web3-%E9%92%B1%E5%8C%85%E8%AE%BE%E7%BD%AE%E6%8C%87%E5%8D%97"><span class="toc-text">No.0x0001 Web3 é’±åŒ…è®¾ç½®æŒ‡å—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0002-%E9%92%B1%E5%8C%85%E6%81%A2%E5%A4%8D%E5%8A%A9%E6%89%8B"><span class="toc-text">No.0x0002 é’±åŒ…æ¢å¤åŠ©æ‰‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0003-USDC-Permit-%E9%92%93%E9%B1%BC%E6%A8%A1%E6%8B%9F"><span class="toc-text">No.0x0003 USDC Permit é’“é±¼æ¨¡æ‹Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0004-%E4%B8%93%E5%B1%9E%E4%BB%A3%E5%B8%81%E7%A9%BA%E6%8A%95"><span class="toc-text">No.0x0004 ä¸“å±ä»£å¸ç©ºæŠ•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0005-USDT-%E6%8E%88%E6%9D%83%E9%92%93%E9%B1%BC%E6%A8%A1%E6%8B%9F"><span class="toc-text">No.0x0005 USDT æˆæƒé’“é±¼æ¨¡æ‹Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0006-%E5%81%87%E5%86%92%E4%BB%A3%E5%B8%81%E7%A9%BA%E6%8A%95%E9%92%93%E9%B1%BC%E6%94%BB%E5%87%BB"><span class="toc-text">No.0x0006 å‡å†’ä»£å¸ç©ºæŠ•é’“é±¼æ”»å‡»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0007-%E8%B6%85%E9%AB%98%E6%94%B6%E7%9B%8A%E8%B4%A8%E6%8A%BC%E5%B9%B3%E5%8F%B0"><span class="toc-text">No.0x0007 è¶…é«˜æ”¶ç›Šè´¨æŠ¼å¹³å°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0008-Telegram-%E4%BB%A3%E5%B8%81%E9%92%93%E9%B1%BC%E6%8C%91%E6%88%98"><span class="toc-text">No.0x0008 Telegram ä»£å¸é’“é±¼æŒ‘æˆ˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0009-Punycode-%E9%92%93%E9%B1%BC%E6%94%BB%E5%87%BB"><span class="toc-text">No.0x0009 Punycode é’“é±¼æ”»å‡»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-Punycode%EF%BC%9F"><span class="toc-text">ä»€ä¹ˆæ˜¯ Punycodeï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0010-%E5%89%AA%E8%B4%B4%E6%9D%BF%E9%92%93%E9%B1%BC%E6%8C%91%E6%88%98"><span class="toc-text">No.0x0010 å‰ªè´´æ¿é’“é±¼æŒ‘æˆ˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0011-Google-%E6%90%9C%E7%B4%A2%E5%B9%BF%E5%91%8A%E9%92%93%E9%B1%BC%E6%94%BB%E5%87%BB"><span class="toc-text">No.0x0011 Google æœç´¢å¹¿å‘Šé’“é±¼æ”»å‡»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0012-Microsoft-Teams-%E9%92%93%E9%B1%BC%E6%94%BB%E5%87%BB"><span class="toc-text">No.0x0012 Microsoft Teams é’“é±¼æ”»å‡»</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Microsoft-Teams-%E9%92%93%E9%B1%BC%E6%94%BB%E5%87%BB%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-text">Microsoft Teams é’“é±¼æ”»å‡»çš„å·¥ä½œåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0037-%E8%99%9A%E5%81%87%E6%89%A9%E5%B1%95%E7%A8%8B%E5%BA%8F%E9%92%93%E9%B1%BC"><span class="toc-text">No.0x0037 è™šå‡æ‰©å±•ç¨‹åºé’“é±¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E7%BA%A7"><span class="toc-text">ä¸­çº§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-0x0013-TransferFrom-%E9%9B%B6%E5%80%BC%E8%BD%AC%E8%B4%A6%E9%92%93%E9%B1%BC%E6%8C%91%E6%88%98"><span class="toc-text">No.0x0013 TransferFrom é›¶å€¼è½¬è´¦é’“é±¼æŒ‘æˆ˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%88%E9%AA%97%E8%80%85%E5%88%A9%E7%94%A8%E2%80%9C%E9%9B%B6%E5%80%BC%E8%BD%AC%E8%B4%A6%E2%80%9D%E4%BC%AA%E9%80%A0%E4%BA%A4%E6%98%93%E5%8E%86%E5%8F%B2%E7%9A%84%E5%8E%9F%E7%90%86%E5%8F%8A%E9%98%B2%E8%8C%83%E6%8E%AA%E6%96%BD"><span class="toc-text">è¯ˆéª—è€…åˆ©ç”¨â€œé›¶å€¼è½¬è´¦â€ä¼ªé€ äº¤æ˜“å†å²çš„åŸç†åŠé˜²èŒƒæªæ–½</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%94%BB%E5%87%BB%E5%8E%9F%E7%90%86"><span class="toc-text">1. æ”»å‡»åŸç†</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E6%9C%886%E6%97%A5"><span class="toc-text">8æœˆ6æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#MyFirstLayer2"><span class="toc-text">MyFirstLayer2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%85%AC%E9%93%BE%E7%93%B6%E9%A2%88"><span class="toc-text">1 å…¬é“¾ç“¶é¢ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1%E6%94%B9%E8%BF%9B%E5%B0%9D%E8%AF%95"><span class="toc-text">1.1æ”¹è¿›å°è¯•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-%E5%8C%BA%E5%9D%97%E9%93%BE%E4%B8%89%E9%9A%BE%E5%9B%B0%E5%A2%83"><span class="toc-text">1.2 åŒºå—é“¾ä¸‰éš¾å›°å¢ƒ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-Layer-2"><span class="toc-text">1.3 Layer 2</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Layer-2%E5%8F%91%E5%B1%95%E5%8F%B2"><span class="toc-text">2 Layer 2å‘å±•å²</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E7%8A%B6%E6%80%81%E9%80%9A%E9%81%93%EF%BC%88State-channel%EF%BC%89"><span class="toc-text">2.1 çŠ¶æ€é€šé“ï¼ˆState channelï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E4%BE%A7%E9%93%BE%EF%BC%88Sidechain%EF%BC%89"><span class="toc-text">2.2 ä¾§é“¾ï¼ˆSidechainï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-Plasma"><span class="toc-text">2.3 Plasma</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-Rollup"><span class="toc-text">2.4 Rollup</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E%EF%BC%88Zero-Knowledge-Proof-ZKP%EF%BC%89%E8%AF%A6%E8%A7%A3"><span class="toc-text">é›¶çŸ¥è¯†è¯æ˜ï¼ˆZero-Knowledge Proof, ZKPï¼‰è¯¦è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E%E7%9A%84%E4%B8%89%E5%A4%A7%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7"><span class="toc-text">1. é›¶çŸ¥è¯†è¯æ˜çš„ä¸‰å¤§æ ¸å¿ƒç‰¹æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%BB%8F%E5%85%B8%E7%B1%BB%E6%AF%94%EF%BC%9A%E6%B4%9E%E7%A9%B4%E5%AF%93%E8%A8%80"><span class="toc-text">2. ç»å…¸ç±»æ¯”ï¼šæ´ç©´å¯“è¨€</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E%E7%9A%84%E4%B8%A4%E7%A7%8D%E4%B8%BB%E8%A6%81%E7%B1%BB%E5%9E%8B"><span class="toc-text">3. é›¶çŸ¥è¯†è¯æ˜çš„ä¸¤ç§ä¸»è¦ç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%8C%BA%E5%9D%97%E9%93%BE%E4%B8%AD%E7%9A%84-ZKP-%E6%8A%80%E6%9C%AF"><span class="toc-text">4. åŒºå—é“¾ä¸­çš„ ZKP æŠ€æœ¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E%E7%9A%84%E5%8C%BA%E5%9D%97%E9%93%BE%E5%BA%94%E7%94%A8"><span class="toc-text">5. é›¶çŸ¥è¯†è¯æ˜çš„åŒºå—é“¾åº”ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-text">6. é›¶çŸ¥è¯†è¯æ˜çš„ä¼˜ç¼ºç‚¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-Layer-2-%E5%AF%B9%E6%AF%94"><span class="toc-text">2.5 Layer 2 å¯¹æ¯”</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Rollup%E8%AF%A6%E6%83%85"><span class="toc-text">3 Rollupè¯¦æƒ…</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-%E5%A6%82%E4%BD%95%E5%8E%8B%E7%BC%A9"><span class="toc-text">3.1 å¦‚ä½•å‹ç¼©</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E8%BF%9B%E4%B8%80%E6%AD%A5%E5%8E%8B%E7%BC%A9"><span class="toc-text">3.2 è¿›ä¸€æ­¥å‹ç¼©</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-Optimistic-Rollup"><span class="toc-text">3.3 Optimistic Rollup</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-Zero-Knowledge-Proof"><span class="toc-text">3.4 Zero-Knowledge Proof</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-ZK-%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86-STARK-vs-SNARK"><span class="toc-text">3.5 ZK æŠ€æœ¯åŸç† STARK vs SNARK</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#SNARK"><span class="toc-text">SNARK</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#STARK"><span class="toc-text">STARK</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-6-ZK-%E5%8F%91%E5%B1%95%E8%B7%AF%E7%BA%BF-ZK-VM-vs-ZK-EVM"><span class="toc-text">3.6 ZK å‘å±•è·¯çº¿ ZK-VM vs ZK-EVM</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#ZK-VM%EF%BC%9A%E4%BB%8E%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E%E7%9A%84%E8%A7%92%E5%BA%A6%E5%87%BA%E5%8F%91"><span class="toc-text">ZK-VMï¼šä»é›¶çŸ¥è¯†è¯æ˜çš„è§’åº¦å‡ºå‘</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ZK-EVM%EF%BC%9A%E4%BB%8E-EVM-%E5%85%BC%E5%AE%B9%E6%80%A7%E7%9A%84%E8%A7%92%E5%BA%A6%E5%87%BA%E5%8F%91"><span class="toc-text">ZK-EVMï¼šä» EVM å…¼å®¹æ€§çš„è§’åº¦å‡ºå‘</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%9C%AA%E6%9D%A5%E5%B1%95%E6%9C%9B"><span class="toc-text">4 æœªæ¥å±•æœ›</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-%E5%85%B6%E5%AE%83%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%EF%BC%9AValidium-%E5%92%8C-Volition"><span class="toc-text">4.1 å…¶å®ƒè§£å†³æ–¹æ¡ˆï¼šValidium å’Œ Volition</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Validium"><span class="toc-text">Validium</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Volition"><span class="toc-text">Volition</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-Deneb-%E6%9B%B4%E6%96%B0%E4%B8%8E-Layer-2"><span class="toc-text">4.2 Deneb æ›´æ–°ä¸ Layer 2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-%E8%B4%A6%E6%88%B7%E6%8A%BD%E8%B1%A1%E4%B8%8E%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%BA%94%E7%94%A8"><span class="toc-text">4.3 è´¦æˆ·æŠ½è±¡ä¸å¤§è§„æ¨¡åº”ç”¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%BA%E5%9D%97%E9%93%BE%E5%B2%97%E4%BD%8D%E5%85%A8%E6%99%AF%E5%9B%BE"><span class="toc-text">åŒºå—é“¾å²—ä½å…¨æ™¯å›¾</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%8A%80%E6%9C%AF%E5%B2%97"><span class="toc-text">ä¸€ã€æŠ€æœ¯å²—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88"><span class="toc-text">1. å‰ç«¯å·¥ç¨‹å¸ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%90%8E%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88"><span class="toc-text">2. åç«¯å·¥ç¨‹å¸ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%B7%A5%E7%A8%8B%E5%B8%88"><span class="toc-text">3. æ™ºèƒ½åˆçº¦å·¥ç¨‹å¸ˆ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E9%9D%9E%E6%8A%80%E6%9C%AF%E5%B2%97"><span class="toc-text">äºŒã€éæŠ€æœ¯å²—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BA%A7%E5%93%81%E4%B8%8E%E8%BF%90%E8%90%A5"><span class="toc-text">1. äº§å“ä¸è¿è¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%A4%BE%E5%8C%BA%E7%AE%A1%E7%90%86"><span class="toc-text">2. ç¤¾åŒºç®¡ç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E7%A0%94%E7%A9%B6%E5%88%86%E6%9E%90"><span class="toc-text">3. ç ”ç©¶åˆ†æ</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E6%9C%887%E6%97%A5"><span class="toc-text">8æœˆ7æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%8C%E4%B8%9A%E8%B5%9B%E9%81%93%E5%85%A8%E8%A7%88"><span class="toc-text">è¡Œä¸šèµ›é“å…¨è§ˆ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E6%9C%888%E6%97%A5"><span class="toc-text">8æœˆ8æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#CryptoZombiesx%E7%9A%84solidity%E5%AD%A6%E4%B9%A0"><span class="toc-text">CryptoZombiesxçš„solidityå­¦ä¹ </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Solidity-Beginner-to-Intermediate-Smart-Contracts"><span class="toc-text">Solidity: Beginner to Intermediate Smart Contracts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lesson1-%E6%90%AD%E5%BB%BA%E5%83%B5%E5%B0%B8%E5%B7%A5%E5%8E%82"><span class="toc-text">lesson1 æ­å»ºåƒµå°¸å·¥å‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC2%E7%AB%A0-%E5%90%88%E7%BA%A6"><span class="toc-text">ç¬¬2ç« : åˆçº¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC3%E7%AB%A0-%E7%8A%B6%E6%80%81%E5%8F%98%E9%87%8F%E5%92%8C%E6%95%B4%E6%95%B0"><span class="toc-text">ç¬¬3ç« : çŠ¶æ€å˜é‡å’Œæ•´æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC4%E7%AB%A0-%E6%95%B0%E5%AD%A6%E8%BF%90%E7%AE%97"><span class="toc-text">ç¬¬4ç« : æ•°å­¦è¿ç®—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC5%E7%AB%A0-%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text">ç¬¬5ç« : ç»“æ„ä½“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC6%E7%AB%A0-%E6%95%B0%E7%BB%84"><span class="toc-text">ç¬¬6ç« : æ•°ç»„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC7%E7%AB%A0-%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-text">ç¬¬7ç« : å®šä¹‰å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC8%E7%AB%A0-%E4%BD%BF%E7%94%A8%E7%BB%93%E6%9E%84%E4%BD%93%E5%92%8C%E6%95%B0%E7%BB%84"><span class="toc-text">ç¬¬8ç« : ä½¿ç”¨ç»“æ„ä½“å’Œæ•°ç»„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC9%E7%AB%A0-%E7%A7%81%E6%9C%89-%E5%85%AC%E5%85%B1%E5%87%BD%E6%95%B0"><span class="toc-text">ç¬¬9ç« : ç§æœ‰ &#x2F; å…¬å…±å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC10%E7%AB%A0-%E5%87%BD%E6%95%B0%E7%9A%84%E6%9B%B4%E5%A4%9A%E5%B1%9E%E6%80%A7"><span class="toc-text">ç¬¬10ç« : å‡½æ•°çš„æ›´å¤šå±æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC11%E7%AB%A0-Keccak256-%E5%92%8C-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">ç¬¬11ç« : Keccak256 å’Œ ç±»å‹è½¬æ¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC12%E7%AB%A0-%E6%94%BE%E5%9C%A8%E4%B8%80%E8%B5%B7"><span class="toc-text">ç¬¬12ç« : æ”¾åœ¨ä¸€èµ·</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC13%E7%AB%A0-%E4%BA%8B%E4%BB%B6"><span class="toc-text">ç¬¬13ç« : äº‹ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC14%E7%AB%A0-Web3-js"><span class="toc-text">ç¬¬14ç« : Web3.js</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E6%9C%889%E6%97%A5"><span class="toc-text">8æœˆ9æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Chainlink%E9%A2%84%E8%A8%80%E6%9C%BA%E7%9A%84solidity%E8%AF%BE%E7%A8%8B"><span class="toc-text">Chainlinké¢„è¨€æœºçš„solidityè¯¾ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#solidity%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E3%80%81%E5%87%BD%E6%95%B0%E3%80%81%E5%AD%98%E5%82%A8%E6%A8%A1%E5%BC%8F%E3%80%81%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">solidityæ•°æ®ç±»å‹ã€å‡½æ•°ã€å­˜å‚¨æ¨¡å¼ã€æ•°æ®ç»“æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#solidity%E7%9A%84%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="toc-text">solidityçš„å·¥å‚æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E4%BB%8B%E7%BB%8D"><span class="toc-text">å·¥å‚æ¨¡å¼ä»‹ç»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E5%90%88%E7%BA%A6%E6%96%B9%E5%BC%8F"><span class="toc-text">å¼•å…¥åˆçº¦æ–¹å¼</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E6%9C%8810%E6%97%A5"><span class="toc-text">8æœˆ10æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#CryptoZombiesx%E7%9A%84solidity%E5%AD%A6%E4%B9%A0-1"><span class="toc-text">CryptoZombiesxçš„solidityå­¦ä¹ </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Solidity-Beginner-to-Intermediate-Smart-Contracts-1"><span class="toc-text">Solidity: Beginner to Intermediate Smart Contracts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lesson2-%E5%83%B5%E5%B0%B8%E6%94%BB%E5%87%BB%E4%BA%BA%E7%B1%BB"><span class="toc-text">lesson2 åƒµå°¸æ”»å‡»äººç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC2%E7%AB%A0-%E6%98%A0%E5%B0%84%EF%BC%88Mapping%EF%BC%89%E5%92%8C%E5%9C%B0%E5%9D%80%EF%BC%88Address%EF%BC%89"><span class="toc-text">ç¬¬2ç« : æ˜ å°„ï¼ˆMappingï¼‰å’Œåœ°å€ï¼ˆAddressï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC3%E7%AB%A0-Msg-sender"><span class="toc-text">ç¬¬3ç« : Msg.sender</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC4%E7%AB%A0-Require"><span class="toc-text">ç¬¬4ç« : Require</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC5%E7%AB%A0-%E7%BB%A7%E6%89%BF%EF%BC%88Inheritance%EF%BC%89"><span class="toc-text">ç¬¬5ç« : ç»§æ‰¿ï¼ˆInheritanceï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC6%E7%AB%A0-%E5%BC%95%E5%85%A5%EF%BC%88Import%EF%BC%89"><span class="toc-text">ç¬¬6ç« : å¼•å…¥ï¼ˆImportï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC7%E7%AB%A0-Storage%E4%B8%8EMemory"><span class="toc-text">ç¬¬7ç« : Storageä¸Memory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC8%E7%AB%A0-%E5%83%B5%E5%B0%B8%E7%9A%84DNA"><span class="toc-text">ç¬¬8ç« : åƒµå°¸çš„DNA</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC9%E7%AB%A0-%E6%9B%B4%E5%A4%9A%E5%85%B3%E4%BA%8E%E5%87%BD%E6%95%B0%E5%8F%AF%E8%A7%81%E6%80%A7"><span class="toc-text">ç¬¬9ç« : æ›´å¤šå…³äºå‡½æ•°å¯è§æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC10%E7%AB%A0-%E5%83%B5%E5%B0%B8%E5%90%83%E4%BB%80%E4%B9%88"><span class="toc-text">ç¬¬10ç« : åƒµå°¸åƒä»€ä¹ˆ?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC11%E7%AB%A0-%E4%BD%BF%E7%94%A8%E6%8E%A5%E5%8F%A3"><span class="toc-text">ç¬¬11ç« : ä½¿ç”¨æ¥å£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC12%E7%AB%A0-%E5%A4%84%E7%90%86%E5%A4%9A%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">ç¬¬12ç« : å¤„ç†å¤šè¿”å›å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC13%E7%AB%A0-%E5%A5%96%E5%8A%B1-Kitty-%E5%9F%BA%E5%9B%A0"><span class="toc-text">ç¬¬13ç« : å¥–åŠ±: Kitty åŸºå› </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC14%E7%AB%A0-%E6%94%BE%E5%9C%A8%E4%B8%80%E8%B5%B7"><span class="toc-text">ç¬¬14ç« : æ”¾åœ¨ä¸€èµ·</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E6%9C%8811%E6%97%A5"><span class="toc-text">8æœˆ11æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Chainlink%E9%A2%84%E8%A8%80%E6%9C%BA%E7%9A%84solidity%E8%BF%9B%E9%98%B6%E8%AF%BE%E7%A8%8B"><span class="toc-text">Chainlinké¢„è¨€æœºçš„solidityè¿›é˜¶è¯¾ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%84%E8%A8%80%E6%9C%BA%E7%BD%91%E7%BB%9C%EF%BC%88Chainlink%EF%BC%89"><span class="toc-text">é¢„è¨€æœºç½‘ç»œï¼ˆChainlinkï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%96%82%E4%BB%B7%EF%BC%88Data-Feed%EF%BC%89"><span class="toc-text">å–‚ä»·ï¼ˆData Feedï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Data-Feed-%E6%9E%B6%E6%9E%84"><span class="toc-text">Data Feed æ¶æ„</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Data-Feed-%E7%BB%93%E6%9E%84"><span class="toc-text">Data Feed ç»“æ„</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2%E4%B8%80%E4%B8%AAFundMe%E7%9A%84%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6"><span class="toc-text">éƒ¨ç½²ä¸€ä¸ªFundMeçš„æ™ºèƒ½åˆçº¦</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BD%AC%E8%B4%A6%E7%9A%84%E4%B8%89%E7%A7%8D%E7%B1%BB%E5%9E%8B"><span class="toc-text">è½¬è´¦çš„ä¸‰ç§ç±»å‹</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8F%90%E6%AC%BE"><span class="toc-text">ææ¬¾</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E9%94%81"><span class="toc-text">æ—¶é—´é”</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#modifier%E4%BF%AE%E6%94%B9%E5%99%A8"><span class="toc-text">modifierä¿®æ”¹å™¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91"><span class="toc-text">æ™ºèƒ½åˆçº¦å¼€å‘</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Dapp-%E6%9E%B6%E6%9E%84%E5%92%8C%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B"><span class="toc-text">Dapp æ¶æ„å’Œå¼€å‘æµç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Dapp-%E6%9E%B6%E6%9E%84"><span class="toc-text">Dapp æ¶æ„</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Dapp-%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B"><span class="toc-text">Dapp å¼€å‘æµç¨‹</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E6%9C%8812%E6%97%A5"><span class="toc-text">8æœˆ12æ—¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CryptoZombiesx%E7%9A%84solidity%E5%AD%A6%E4%B9%A0-2"><span class="toc-text">CryptoZombiesxçš„solidityå­¦ä¹ </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solidity-Beginner-to-Intermediate-Smart-Contracts-2"><span class="toc-text">Solidity: Beginner to Intermediate Smart Contracts</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lesson3-%E9%AB%98%E7%BA%A7-Solidity-%E7%90%86%E8%AE%BA"><span class="toc-text">lesson3 é«˜çº§ Solidity ç†è®º</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC1%E7%AB%A0-%E6%99%BA%E8%83%BD%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%B0%B8%E5%9B%BA%E6%80%A7"><span class="toc-text">ç¬¬1ç« : æ™ºèƒ½åè®®çš„æ°¸å›ºæ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC2%E7%AB%A0-Ownable-Contracts"><span class="toc-text">ç¬¬2ç« : Ownable Contracts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC3%E7%AB%A0-onlyOwner-%E5%87%BD%E6%95%B0%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-text">ç¬¬3ç« : onlyOwner å‡½æ•°ä¿®é¥°ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC4%E7%AB%A0-Gas"><span class="toc-text">ç¬¬4ç« : Gas</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC5%E7%AB%A0-%E6%97%B6%E9%97%B4%E5%8D%95%E4%BD%8D"><span class="toc-text">ç¬¬5ç« : æ—¶é—´å•ä½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC6%E7%AB%A0-%E5%83%B5%E5%B0%B8%E5%86%B7%E5%8D%B4"><span class="toc-text">ç¬¬6ç« : åƒµå°¸å†·å´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC7%E7%AB%A0-%E5%85%AC%E6%9C%89%E5%87%BD%E6%95%B0%E5%92%8C%E5%AE%89%E5%85%A8%E6%80%A7"><span class="toc-text">ç¬¬7ç« : å…¬æœ‰å‡½æ•°å’Œå®‰å…¨æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC8%E7%AB%A0-%E8%BF%9B%E4%B8%80%E6%AD%A5%E4%BA%86%E8%A7%A3%E5%87%BD%E6%95%B0%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-text">ç¬¬8ç« : è¿›ä¸€æ­¥äº†è§£å‡½æ•°ä¿®é¥°ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC9%E7%AB%A0-%E5%83%B5%E5%B0%B8%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-text">ç¬¬9ç« : åƒµå°¸ä¿®é¥°ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC10%E7%AB%A0-%E5%88%A9%E7%94%A8-%E2%80%98View%E2%80%99-%E5%87%BD%E6%95%B0%E8%8A%82%E7%9C%81-Gas"><span class="toc-text">ç¬¬10ç« : åˆ©ç”¨ â€˜Viewâ€™ å‡½æ•°èŠ‚çœ Gas</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC11%E7%AB%A0-%E5%AD%98%E5%82%A8%E9%9D%9E%E5%B8%B8%E6%98%82%E8%B4%B5"><span class="toc-text">ç¬¬11ç« : å­˜å‚¨éå¸¸æ˜‚è´µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC12%E7%AB%A0-For-%E5%BE%AA%E7%8E%AF"><span class="toc-text">ç¬¬12ç« : For å¾ªç¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC13%E7%AB%A0-%E6%94%BE%E5%9C%A8%E4%B8%80%E8%B5%B7"><span class="toc-text">ç¬¬13ç« : æ”¾åœ¨ä¸€èµ·</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lesson4-%E5%83%B5%E5%B0%B8%E4%BD%9C%E6%88%98%E7%B3%BB%E7%BB%9F"><span class="toc-text">lesson4 åƒµå°¸ä½œæˆ˜ç³»ç»Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC1%E7%AB%A0-%E5%8F%AF%E6%94%AF%E4%BB%98"><span class="toc-text">ç¬¬1ç« : å¯æ”¯ä»˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC2%E7%AB%A0-%E6%8F%90%E7%8E%B0"><span class="toc-text">ç¬¬2ç« : æç°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC3%E7%AB%A0-%E5%83%B5%E5%B0%B8%E6%88%98%E6%96%97"><span class="toc-text">ç¬¬3ç« : åƒµå°¸æˆ˜æ–—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC4%E7%AB%A0-%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-text">ç¬¬4ç« : éšæœºæ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC5%E7%AB%A0-%E5%83%B5%E5%B0%B8%E5%AF%B9%E6%88%98"><span class="toc-text">ç¬¬5ç« : åƒµå°¸å¯¹æˆ˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC6%E7%AB%A0-%E9%87%8D%E6%9E%84%E9%80%9A%E7%94%A8%E9%80%BB%E8%BE%91"><span class="toc-text">ç¬¬6ç« : é‡æ„é€šç”¨é€»è¾‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC7%E7%AB%A0-%E6%9B%B4%E5%A4%9A%E9%87%8D%E6%9E%84"><span class="toc-text">ç¬¬7ç« : æ›´å¤šé‡æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC8%E7%AB%A0-%E5%9B%9E%E5%88%B0%E6%94%BB%E5%87%BB%EF%BC%81"><span class="toc-text">ç¬¬8ç« : å›åˆ°æ”»å‡»ï¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC9%E7%AB%A0-%E5%83%B5%E5%B0%B8%E7%9A%84%E8%BE%93%E8%B5%A2"><span class="toc-text">ç¬¬9ç« : åƒµå°¸çš„è¾“èµ¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC10%E7%AB%A0-%E5%83%B5%E5%B0%B8%E8%83%9C%E5%88%A9%E4%BA%86-%F0%9F%98%84"><span class="toc-text">ç¬¬10ç« : åƒµå°¸èƒœåˆ©äº† ğŸ˜„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC11%E7%AB%A0-%E5%83%B5%E5%B0%B8%E5%A4%B1%E8%B4%A5-%F0%9F%98%9E"><span class="toc-text">ç¬¬11ç« : åƒµå°¸å¤±è´¥ ğŸ˜</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lesson5-ERC721-%E6%A0%87%E5%87%86%E5%92%8C%E5%8A%A0%E5%AF%86%E6%94%B6%E8%97%8F%E5%93%81"><span class="toc-text">lesson5 ERC721 æ ‡å‡†å’ŒåŠ å¯†æ”¶è—å“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC1%E7%AB%A0-%E4%BB%A5%E5%A4%AA%E5%9D%8A%E4%B8%8A%E7%9A%84%E4%BB%A3%E5%B8%81"><span class="toc-text">ç¬¬1ç« : ä»¥å¤ªåŠä¸Šçš„ä»£å¸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC2%E7%AB%A0-ERC721-%E6%A0%87%E5%87%86-%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF"><span class="toc-text">ç¬¬2ç« : ERC721 æ ‡å‡†, å¤šé‡ç»§æ‰¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC3%E7%AB%A0-balanceOf-%E5%92%8C-ownerOf"><span class="toc-text">ç¬¬3ç« : balanceOf å’Œ ownerOf</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC4%E7%AB%A0-%E9%87%8D%E6%9E%84"><span class="toc-text">ç¬¬4ç« : é‡æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC5%E7%AB%A0-ERC721-%E8%BD%AC%E7%A7%BB%E6%A0%87%E5%87%86"><span class="toc-text">ç¬¬5ç« : ERC721: è½¬ç§»æ ‡å‡†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC6%E7%AB%A0-ERC721-%E8%BD%AC%E7%A7%BB-%E7%BB%AD"><span class="toc-text">ç¬¬6ç« : ERC721: è½¬ç§»-ç»­</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC7%E7%AB%A0-ERC721-%E6%89%B9%E5%87%86"><span class="toc-text">ç¬¬7ç« : ERC721: æ‰¹å‡†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC8%E7%AB%A0-ERC721-takeOwnership"><span class="toc-text">ç¬¬8ç« : ERC721: takeOwnership</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC9%E7%AB%A0-%E9%A2%84%E9%98%B2%E6%BA%A2%E5%87%BA"><span class="toc-text">ç¬¬9ç« : é¢„é˜²æº¢å‡º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC10%E7%AB%A0-SafeMath-%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86"><span class="toc-text">ç¬¬10ç« : SafeMath ç¬¬äºŒéƒ¨åˆ†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC11%E7%AB%A0-SafeMath-%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86"><span class="toc-text">ç¬¬11ç« : SafeMath ç¬¬ä¸‰éƒ¨åˆ†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC12%E7%AB%A0-SafeMath-%E7%AC%AC4%E9%83%A8%E5%88%86"><span class="toc-text">ç¬¬12ç« : SafeMath ç¬¬4éƒ¨åˆ†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC13%E7%AB%A0-%E6%B3%A8%E9%87%8A"><span class="toc-text">ç¬¬13ç« : æ³¨é‡Š</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B"><span class="toc-text">æ€»ç»“ä¸€ä¸‹</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lesson6-%E5%BA%94%E7%94%A8%E5%89%8D%E7%AB%AF%E5%92%8C-Web3-js"><span class="toc-text">lesson6 åº”ç”¨å‰ç«¯å’Œ Web3.js</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC1%E7%AB%A0-%E4%BB%8B%E7%BB%8D-Web3-js"><span class="toc-text">ç¬¬1ç« : ä»‹ç» Web3.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC2%E7%AB%A0-Web3-%E6%8F%90%E4%BE%9B%E8%80%85"><span class="toc-text">ç¬¬2ç« : Web3 æä¾›è€…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC3%E7%AB%A0-%E5%92%8C%E5%90%88%E7%BA%A6%E5%AF%B9%E8%AF%9D"><span class="toc-text">ç¬¬3ç« : å’Œåˆçº¦å¯¹è¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC4%E7%AB%A0-%E8%B0%83%E7%94%A8%E5%92%8C%E5%90%88%E7%BA%A6%E5%87%BD%E6%95%B0"><span class="toc-text">ç¬¬4ç« : è°ƒç”¨å’Œåˆçº¦å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC5%E7%AB%A0-MetaMask-%E5%92%8C%E8%B4%A6%E6%88%B7"><span class="toc-text">ç¬¬5ç« : MetaMask å’Œè´¦æˆ·</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#openzeppelin%E6%94%BB%E9%98%B2%E6%8C%91%E6%88%98"><span class="toc-text">openzeppelinæ”»é˜²æŒ‘æˆ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Hello-Ethernaut"><span class="toc-text">1 Hello Ethernaut</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Fallback"><span class="toc-text">2 Fallback</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Fallout"><span class="toc-text">3 Fallout</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E6%9C%8813%E6%97%A5"><span class="toc-text">8æœˆ13æ—¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91-1"><span class="toc-text">æ™ºèƒ½åˆçº¦å¼€å‘</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Dapp-%E6%9E%B6%E6%9E%84%E5%92%8C%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B-1"><span class="toc-text">Dapp æ¶æ„å’Œå¼€å‘æµç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Dapp-%E6%9E%B6%E6%9E%84-1"><span class="toc-text">Dapp æ¶æ„</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Dapp-%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B-1"><span class="toc-text">Dapp å¼€å‘æµç¨‹</span></a></li></ol></li></ol></li></ol></li></ol></li></ol>
      
  </div>
</div>
</div>
        <div class="sidebar-common-sidebar hidden"><div class="sidebar-author">
  <img data-src="/avatar/avatar.webp" data-sizes="auto" alt="mX1@0" class="lazyload">
  <div class="sidebar-author-name">mX1@0</div>
  <div class="sidebar-description"></div>
</div>
<div class="sidebar-state">
  <div class="sidebar-state-article">
    <div>Post</div>
    <div class="sidebar-state-number">64</div>
  </div>
  <div class="sidebar-state-category">
    <div>Category</div>
    <div class="sidebar-state-number">18</div>
  </div>
  <div class="sidebar-state-tag">
    <div>Tag</div>
    <div class="sidebar-state-number">24</div>
  </div>
</div>
<div class="sidebar-social">
  
    <div class="icon-twitter sidebar-social-icon">
      <a href=https://x.com/0xMx1a0 itemprop="url" target="_blank" aria-label="twitter" rel="noopener external nofollow noreferrer"></a>
    </div>
  
</div>
<div class="sidebar-menu">
  
    
      <div class="sidebar-menu-link-wrap">
        <a class="sidebar-menu-link-dummy" href="/" aria-label="é¦–é¡µ"></a>
        <div class="sidebar-menu-icon icon rotate">
          
            &#xe62b;
          
        </div>
        <div class="sidebar-menu-link">é¦–é¡µ</div>
      </div>
    
      <div class="sidebar-menu-link-wrap">
        <a class="sidebar-menu-link-dummy" href="/archives" aria-label="å½’ç±»"></a>
        <div class="sidebar-menu-icon icon rotate">
          
            &#xe62b;
          
        </div>
        <div class="sidebar-menu-link">å½’ç±»</div>
      </div>
    
      <div class="sidebar-menu-link-wrap">
        <a class="sidebar-menu-link-dummy" href="/about" aria-label="å…³äº"></a>
        <div class="sidebar-menu-icon icon rotate">
          
            &#xe62b;
          
        </div>
        <div class="sidebar-menu-link">å…³äº</div>
      </div>
    
      <div class="sidebar-menu-link-wrap">
        <a class="sidebar-menu-link-dummy" href="/friend" aria-label="å‹é“¾"></a>
        <div class="sidebar-menu-icon icon rotate">
          
            &#xe62b;
          
        </div>
        <div class="sidebar-menu-link">å‹é“¾</div>
      </div>
    
  
</div>
</div>
      
    
  </div>
  
    
      <div class="sidebar-btn-wrapper">
        <div class="sidebar-toc-btn current"></div>
        <div class="sidebar-common-btn"></div>
      </div>
    
  
</nav>

    </div>
    
    
    
    
<script src="https://npm.webcache.cn/lazysizes@5.3.2/lazysizes.min.js" integrity="sha384-3gT&#x2F;vsepWkfz&#x2F;ff7PpWNUeMzeWoH3cDhm&#x2F;A8jM7ouoAK0&#x2F;fP&#x2F;9bcHHR5kHq2nf+e" crossorigin="anonymous"></script>


<script src="https://npm.webcache.cn/clipboard@2.0.11/dist/clipboard.min.js" integrity="sha384-J08i8An&#x2F;QeARD9ExYpvphB8BsyOj3Gh2TSh1aLINKO3L0cMSH2dN3E22zFoXEi0Q" crossorigin="anonymous"></script>





<script src="/js/script.js"></script>



  
<script src="/js/aos.js"></script>

  <script>
    var aosInit = () => {
      AOS.init({
        duration: 1000,
        easing: "ease",
        once: true,
        offset: 50,
      });
    };
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', aosInit);
    } else {
      aosInit();
    }
  </script>



<script src="/js/pjax_script.js" data-pjax></script>







  
<script src="https://npm.webcache.cn/mouse-firework@0.1.1/dist/index.umd.js" integrity="sha384-8LyaidD9GPxQQgLJO&#x2F;WRw&#x2F;O2h3BoNq&#x2F;ApI&#x2F;ecpvM6RsrCz2qP2ppBXUKihP4V&#x2F;2d" crossorigin="anonymous"></script>

  <script>
    window.firework && window.firework(JSON.parse('{"excludeElements":["a","button"],"particles":[{"shape":"circle","move":["emit"],"easing":"easeOutExpo","colors":["var(--red-1)","var(--red-2)","var(--red-3)","var(--red-4)"],"number":20,"duration":[1200,1800],"shapeOptions":{"radius":[16,32],"alpha":[0.3,0.5]}},{"shape":"circle","move":["diffuse"],"easing":"easeOutExpo","colors":["var(--red-0)"],"number":1,"duration":[1200,1800],"shapeOptions":{"radius":20,"alpha":[0.2,0.5],"lineWidth":6}}]}'))
  </script>










<div id="lazy-script">
  <div>
    
      
      
      <script data-pjax>
        window.REIMU_POST = {
          author: "mX1@0",
          title: "Web3 å®ä¹ è®¡åˆ’ - 2025 å¤å­£",
          url: "http://example.com/2025/08/04/web3-shi-xi-ji-hua-2025-xia-ji/",
          excerpt: "",
          description: "",
          stripContent: "Web3 å®ä¹ è®¡åˆ’ - 2025 å¤å­£åœ¨è¿™ä¸ªWeb3å®ä¹ è®¡åˆ’ä¹‹å‰ï¼Œå…¶å®æˆ‘å­¦è¿‡ä¸€äº›åŒºå—é“¾çš„å†…å®¹ï¼Œä½†æ˜¯ä¹Ÿä»…ä»…æ˜¯çŸ¥é“ä¸€äº›æ¦‚å¿µæ€§çš„ä¸œè¥¿ï¼Œä¾‹å¦‚ï¼ŒPoWã€PoSã€defiç­‰ä¸€äº›æ¦‚å¿µï¼Œæ‰€ä»¥å‚åŠ è¿™ä¸ªå®ä¹ è®¡åˆ’ä¹Ÿæ˜¯ä¸ºäº†æ›´æ·±å…¥çš„å­¦ä¹ Web3çš„å†…å®¹ï¼Œæ¥ä¸‹æ¥æ˜¯æˆ‘çš„æ¯æ—¥å­¦ä¹ ç¬”è®° 8æœˆ4æ—¥åŒºå—é“¾åŸºç¡€æ¦‚å¿µåŒºå—é“¾ä»‹ç»åŒºå—é“¾æ˜¯ä¸€ç§å»ä¸­å¿ƒåŒ–çš„åˆ†å¸ƒå¼è´¦æœ¬æŠ€æœ¯ï¼Œç”¨äºåœ¨ç½‘ç»œèŠ‚ç‚¹ä¹‹é—´å®‰å…¨ã€é€æ˜ä¸”ä¸å¯ç¯¡æ”¹åœ°è®°å½•äº‹åŠ¡æ•°æ®  å»ä¸­å¿ƒåŒ–ï¼šåŒºå—é“¾ç½‘ç»œé€šå¸¸åˆ†å¸ƒåœ¨å…¨çƒï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å°†ä¼šå­˜å‚¨ä¸€ä»½ç›¸åŒçš„åŒºå—é“¾æ•°æ®ã€‚æ²¡æœ‰äººèƒ½å¤Ÿæ§åˆ¶å…¨éƒ¨çš„èŠ‚ç‚¹ï¼Œå› æ­¤è¿™ä»½åŒºå—é“¾æ•°æ®å°†",
          date: "Mon Aug 04 2025 20:34:47 GMT+0800",
          updated: "Wed Aug 13 2025 01:03:29 GMT+0800",
          cover: "/images/%E7%8E%9B%E8%8E%8E%E6%8B%89%E8%92%82.jpg",
        };
      </script>
       
    
    
      
        
<script src="/js/insert_highlight.js" data-pjax></script>

        
      
    
    
      <script type="module" data-pjax>
        const PhotoSwipeLightbox = (await safeImport("https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe-lightbox.esm.min.js", "sha384-DiL6M/gG+wmTxmCRZyD1zee6lIhawn5TGvED0FOh7fXcN9B0aZ9dexSF/N6lrZi/")).default;
        
        const pswp = () => {
          if (_$$('.article-entry a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-entry',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8+oTJ7m3DfYEWX1fu1scuS4+s")
            }).init();
          }
          if(_$$('.article-gallery a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-gallery',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8+oTJ7m3DfYEWX1fu1scuS4+s")
            }).init();
          }
          window.lightboxStatus = 'done';
          window.removeEventListener('lightbox:ready', pswp);
        }
        if(window.lightboxStatus === 'ready') {
          pswp()
        } else {
          window.addEventListener('lightbox:ready', pswp);
        }
      </script>
      
        








      
    
  </div>
</div>


  <script>
    console.log(String.raw`%c 
 ______     ______     __     __    __     __  __    
/\  == \   /\  ___\   /\ \   /\ "-./  \   /\ \/\ \   
\ \  __<   \ \  __\   \ \ \  \ \ \-./\ \  \ \ \_\ \  
 \ \_\ \_\  \ \_____\  \ \_\  \ \_\ \ \_\  \ \_____\ 
  \/_/ /_/   \/_____/   \/_/   \/_/  \/_/   \/_____/ 
                                                  
`,'color: #ff5252;')
    console.log('%c Theme.Reimu v' + '1.9.0' + ' %c https://github.com/D-Sketon/hexo-theme-reimu ', 'color: white; background: #ff5252; padding:5px 0;', 'padding:4px;border:1px solid #ff5252;')
  </script>
  



  
<script src="https://npm.webcache.cn/busuanzi@2.3.0/bsz.pure.mini.js" integrity="sha384-0M75wtSkhjIInv4coYlaJU83+OypaRCIq2SukQVQX04eGTCBXJDuWAbJet56id+S" crossorigin="anonymous" async></script>




<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.getRegistrations().then((registrations) => {
      for (let registration of registrations) {
        registration.unregister();
      }
    });
  }
</script>









    
  </body>
  </html>

